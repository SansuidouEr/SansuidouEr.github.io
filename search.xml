<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ACES流程正确设置贴图的色彩空间</title>
      <link href="/56050/"/>
      <url>/56050/</url>
      
        <content type="html"><![CDATA[<h1 id="ACES流程正确设置贴图的色彩空间"><a href="#ACES流程正确设置贴图的色彩空间" class="headerlink" title="ACES流程正确设置贴图的色彩空间"></a>ACES流程正确设置贴图的色彩空间</h1><p>数据来源：<a href="https://blog.csdn.net/qq_39947564/article/details/125898659">CSDN</a></p><table><thead><tr><th>贴图</th><th>颜色空间</th></tr></thead><tbody><tr><td>颜色贴图（8bit）</td><td>Utility-sRGB-Texture</td></tr><tr><td>颜色贴图（32bit）</td><td>Utility_Linear_sRGB</td></tr><tr><td>HDRI(8bit的jpg文件)</td><td>Utility-sRGB-Texture</td></tr><tr><td>HDRI(32bit的exr文件)</td><td>Utility_Linear_sRGB</td></tr><tr><td>输出数值的贴图</td><td>Utility_Raw</td></tr></tbody></table><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PureRef 2.0 汉化版</title>
      <link href="/23644/"/>
      <url>/23644/</url>
      
        <content type="html"><![CDATA[<h1 id="PureRef-2-0-汉化版"><a href="#PureRef-2-0-汉化版" class="headerlink" title="PureRef  2.0 汉化版"></a>PureRef  2.0 汉化版</h1><h3 id="官网：https-www-pureref-com"><a href="#官网：https-www-pureref-com" class="headerlink" title="官网：https://www.pureref.com/"></a>官网：<a href="https://www.pureref.com/">https://www.pureref.com/</a></h3><p>研几汉化：<a href="https://yanjicg.com/product/pureref">https://yanjicg.com/product/pureref</a></p><p>2.0更新内容：<a href="https://www.pureref.com/blog/pureref2/">https://www.pureref.com/blog/pureref2/</a></p><p>默认研几提供的是123云盘下载！</p><p>蓝奏云下载：<a href="https://zhangzhilong.lanzouw.com/ieqi41zu4ltg">https://zhangzhilong.lanzouw.com/ieqi41zu4ltg</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/PixPin_2024-05-26_19-04-51.webp" alt="PixPin_2024-05-26_19-04-51"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oblivion Desktop</title>
      <link href="/9922/"/>
      <url>/9922/</url>
      
        <content type="html"><![CDATA[<h1 id="Oblivion-Desktop"><a href="#Oblivion-Desktop" class="headerlink" title="Oblivion Desktop"></a>Oblivion Desktop</h1><p>这是由伊朗人开发的一款软件，基于Cloudflare Warp，默认语言是波斯语</p><p>如果你想了解Cloudflare Warp，就在浏览器输入1.1.1.1去看看吧！</p><p>不多做介绍，懂的都懂啦（魔法工具）</p><p>Github主页（Windows）：<a href="https://github.com/bepass-org/oblivion-desktop/">https://github.com/bepass-org/oblivion-desktop/</a></p><p>Github主页（Android ）：<a href="https://github.com/bepass-org/oblivion/">https://github.com/bepass-org/oblivion/</a></p><p>谷歌play商店：<a href="https://play.google.com/store/apps/details?id=org.bepass.oblivion">https://play.google.com/store/apps/details?id=org.bepass.oblivion</a></p><p>Windows端支持中文，需要自己设置，安卓目前不支持，有魔改的版本，但是不稳定。</p><p>Windows端设置中文的方法：</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240526184248441.png" alt="image-20240526184248441"></p><p>Windows设置，勾选系统托盘，这样当最小化时就不会占用托盘的位置！</p><p><img src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20240529205234123.png" alt="image-20240529205234123"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于安装Python后Hexo无法使用的问题</title>
      <link href="/59387/"/>
      <url>/59387/</url>
      
        <content type="html"><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>前两天安装了以下Python模块，今天打开Hexo发现无论什么命令都会返回<p style="color: red;"> hexo: command not found</p></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240526173832960.png" alt="image-20240526173832960"></p><p>于是打开了万能的谷歌，就找到了这篇文章！</p><p>才知道是Python的问题!</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>CSDN原文地址：<a href="https://blog.csdn.net/qq_36759224/article/details/100411949">https://blog.csdn.net/qq_36759224/article/details/100411949</a></p><p>解决办法也很简单，按照上文的解决方法，在变量的Path将你的node_modules.bin添加到里面，</p><p>问题即可解决！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240526174342444.png" alt="image-20240526174342444"></p><p>hexo -v</p><p>成功！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240526174655502.png" alt="image-20240526174655502"></p><p>万万没想到是安装了Python的坑！</p><p>今天又填上了一个坑！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ripgrep</title>
      <link href="/11922/"/>
      <url>/11922/</url>
      
        <content type="html"><![CDATA[<h1 id="ripgrep"><a href="#ripgrep" class="headerlink" title="ripgrep"></a>ripgrep</h1><p>ripgrep 是一个以行为单位的搜索工具， 它根据提供的 pattern 递归地在指定的目录里搜索。它是由 Rust 语言写成，相较与同类工具，它的特点就是无与伦比地快。</p><p>性能有多强大可以看一下作者提供的几个常见的搜索工具对比&nbsp;&nbsp;<a href="https://github.com/chinanf-boy/ripgrep-zh?tab=readme-ov-file#%E5%90%84%E5%A4%A7%E5%B7%A5%E5%85%B7%E5%AF%B9%E6%AF%94%E4%BE%8B%E5%AD%90">去看看&gt;</a></p><h2 id="下面说正事"><a href="#下面说正事" class="headerlink" title="下面说正事"></a>下面说正事</h2><p>Github开源地址：<a href="https://github.com/BurntSushi/ripgrep">https://github.com/BurntSushi/ripgrep</a></p><p>中文帮助：<a href="https://github.com/chinanf-boy/ripgrep-zh">https://github.com/chinanf-boy/ripgrep-zh</a></p><p>Github最新版本：</p><img src="https://camo.githubusercontent.com/40723696a8f78230fd194ba39de2e9a4ce1fe7f03219fe76b458775d216c59e8/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f726970677265702e737667" align="left" /><p>&nbsp;</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>由于没有使用过MaCOS 和 Linux </p><p>我将安装到Windows上面进行使用</p><h3 id="从Vs-Code中使用"><a href="#从Vs-Code中使用" class="headerlink" title="从Vs Code中使用"></a>从Vs Code中使用</h3><p>如果你安装了Vs Code（Visual Studio Code）（&nbsp;如果你想安装VsCode&nbsp;&nbsp;<a href="/45943/">去看看 &nbsp;&gt;</a>）</p><p>则在Vs Code安装目录下的\resources\app\node_modules.asar.unpacked@vscode\ripgrep\bin目录下有ripgrep（rg.exe）</p><p>我将Vs Code默认安装到了C盘，我的完整目录如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator\AppData\Local\Programs\Microsoft VS Code\resources\app\node_modules.asar.unpacked\@vscode\ripgrep\bin</span><br></pre></td></tr></table></figure><p>将以上目录添加到环境变量的Path里面即可使用！</p><h3 id="从Github下载安装"><a href="#从Github下载安装" class="headerlink" title="从Github下载安装"></a>从Github下载安装</h3><p>第一步，<a href="https://github.com/BurntSushi/ripgrep/releases">下载</a></p><p>如果没有找到Windows别忘了展开全部！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240519182517532.png" alt="image-20240519182517532"></p><p>如果你不知道下载那个Windws版本</p><table><thead><tr><th></th><th>windows-gnu.zip</th><th>windows-msvc.zip</th></tr></thead><tbody><tr><td>编译器</td><td>GCC</td><td>MSVC</td></tr><tr><td>兼容性</td><td>更广泛的 Windows 系统</td><td>需要 VCRedist</td></tr><tr><td>速度</td><td>略慢</td><td>略快</td></tr></tbody></table><p>如果你看不懂以上表格，则下载windows-msvc.zip即可</p><p>至于.sha256是哈希值校验</p><p>我这里直接下载<a href="https://github.com/BurntSushi/ripgrep/releases/download/14.1.0/ripgrep-14.1.0-x86_64-pc-windows-msvc.zip">ripgrep-14.1.0-x86_64-pc-windows-msvc.zip</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240519183509400.png" alt="image-20240519183509400"></p><p>打开压缩包，只有一个rg.exe是有用的！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240519183828626.png" alt="image-20240519183828626"></p><p>为了方便使用，将rg可以放在任意一个目录，然后将这个目录添加到环境变量的Path里面</p><p>假如我将rg.exe放在了C:\Program Files\ripgrep\</p><p>也就是将C:\Program Files\ripgrep\这个目录添加到Path的列表中</p><p>如果你不会，那么就让度娘来帮你：<a href="https://jingyan.baidu.com/article/8ebacdf02d3c2949f65cd5d0.html">https://jingyan.baidu.com/article/8ebacdf02d3c2949f65cd5d0.html</a></p><p>这一步完成就意味着你随时随地可以使用ripgrep了！</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>先检查一下ripgrep是否安装成功，Win+R 运行cmd</p><p>在命令行面板输入以下命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rg --version</span><br></pre></td></tr></table></figure><p>安装成功则返回版本号，返回ripgrep 14.1.0 (rev e50df40a19)，也就是当前版本为14.1.0，安装好了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;rg --version</span><br><span class="line">ripgrep 14.1.0 (rev e50df40a19)</span><br><span class="line"></span><br><span class="line">features:-simd-accel,+pcre2</span><br><span class="line">simd(compile):+SSE2,-SSSE3,-AVX2</span><br><span class="line">simd(runtime):+SSE2,+SSSE3,+AVX2</span><br><span class="line"></span><br><span class="line">PCRE2 10.42 is available (JIT is available)</span><br><span class="line"></span><br><span class="line">C:\Users\Administrator&gt;</span><br></pre></td></tr></table></figure><p><code>rg -h</code> 可以得到简短的帮助！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">ripgrep 14.1.0（修订版 e50df40a19）</span><br><span class="line">Andrew Gallant &lt;jamslam@gmail.com&gt;</span><br><span class="line"></span><br><span class="line">ripgrep（rg）递归搜索当前目录中与正则表达式模式匹配的行。默认情况下，ripgrep 将遵循 gitignore 规则，并自动跳过隐藏文件/目录和二进制文件。</span><br><span class="line"></span><br><span class="line">使用 -h 获取简短描述，使用 --help 获取更多详细信息。</span><br><span class="line"></span><br><span class="line">项目主页：https://github.com/BurntSushi/ripgrep</span><br><span class="line"></span><br><span class="line">用法：</span><br><span class="line">rg [选项] 模式 [路径...]</span><br><span class="line"></span><br><span class="line">位置参数：</span><br><span class="line">&lt;PATTERN&gt; 用于搜索的正则表达式。</span><br><span class="line">&lt;PATH&gt;... 要搜索的文件或目录。</span><br><span class="line"></span><br><span class="line">输入选项：</span><br><span class="line">-e，--regexp=PATTERN 搜索的模式。</span><br><span class="line">-f，--file=PATTERNFILE 从给定文件中搜索模式。</span><br><span class="line">--pre=COMMAND 对每个路径搜索 COMMAND 的输出。</span><br><span class="line">--pre-glob=GLOB 包含或排除预处理器的文件。</span><br><span class="line">-z，--search-zip 在压缩文件中搜索。</span><br><span class="line"></span><br><span class="line">搜索选项：</span><br><span class="line">-s，--case-sensitive 区分大小写地搜索（默认）。</span><br><span class="line">--crlf 使用 CRLF 行终止符（适用于 Windows）。</span><br><span class="line">--dfa-size-limit=NUM 正则表达式 DFA 的上限大小。</span><br><span class="line">-E，--encoding=ENCODING 指定要搜索的文件的文本编码。</span><br><span class="line">--engine=ENGINE 指定要使用的正则表达式引擎。</span><br><span class="line">-F，--fixed-strings 将所有模式视为字面量。</span><br><span class="line">-i，--ignore-case 不区分大小写搜索。</span><br><span class="line">-v，--invert-match 反转匹配。</span><br><span class="line">-x，--line-regexp 显示由行边界包围的匹配项。</span><br><span class="line">-m，--max-count=NUM 限制匹配行数。</span><br><span class="line">--mmap 尽可能使用内存映射进行搜索。</span><br><span class="line">-U，--multiline 启用跨多行的搜索。</span><br><span class="line">--multiline-dotall 使 &#x27;.&#x27; 匹配行终止符。</span><br><span class="line">--no-unicode 禁用 Unicode 模式。</span><br><span class="line">--null-data 使用 NUL 作为行终止符。</span><br><span class="line">-P，--pcre2 启用 PCRE2 匹配。</span><br><span class="line">--regex-size-limit=NUM 编译后的正则表达式大小限制。</span><br><span class="line">-S，--smart-case 智能大小写搜索。</span><br><span class="line">--stop-on-nonmatch 在非匹配后停止搜索。</span><br><span class="line">-a，--text 将二进制文件视为文本搜索。</span><br><span class="line">-j，--threads=NUM 设置要使用的线程数。</span><br><span class="line">-w，--word-regexp 显示由单词边界包围的匹配项。</span><br><span class="line">--auto-hybrid-regex（已弃用）根据需要使用 PCRE2。</span><br><span class="line">--no-pcre2-unicode（已弃用）禁用 PCRE2 的 Unicode 模式。</span><br><span class="line"></span><br><span class="line">过滤选项：</span><br><span class="line">--binary 搜索二进制文件。</span><br><span class="line">-L，--follow 跟随符号链接。</span><br><span class="line">-g，--glob=GLOB 包含或排除文件路径。</span><br><span class="line">--glob-case-insensitive 对所有 glob 模式进行大小写不敏感处理。</span><br><span class="line">-., --hidden 搜索隐藏文件和目录。</span><br><span class="line">--iglob=GLOB 大小写不敏感地包含/排除路径。</span><br><span class="line">--ignore-file=PATH 指定额外的忽略文件。</span><br><span class="line">--ignore-file-case-insensitive 对忽略文件进行大小写不敏感处理。</span><br><span class="line">-d，--max-depth=NUM 最多遍历 NUM 个目录。</span><br><span class="line">--max-filesize=NUM 忽略大小大于 NUM 的文件。</span><br><span class="line">--no-ignore 不使用忽略文件。</span><br><span class="line">--no-ignore-dot 不使用 .ignore 或 .rgignore 文件。</span><br><span class="line">--no-ignore-exclude 不使用本地排除文件。</span><br><span class="line">--no-ignore-files 不使用 --ignore-file 参数。</span><br><span class="line">--no-ignore-global 不使用全局忽略文件。</span><br><span class="line">--no-ignore-parent 不使用父目录中的忽略文件。</span><br><span class="line">--no-ignore-vcs 不使用源代码控制的忽略文件。</span><br><span class="line">--no-require-git 在 git 存储库之外使用 .gitignore。</span><br><span class="line">--one-file-system 跳过其他文件系统上的目录。</span><br><span class="line">-t，--type=TYPE 仅搜索匹配 TYPE 的文件。</span><br><span class="line">-T，--type-not=TYPE 不搜索匹配 TYPE 的文件。</span><br><span class="line">--type-add=TYPESPEC 为文件类型添加新的 glob。</span><br><span class="line">--type-clear=TYPE 清除文件类型的 glob。</span><br><span class="line">-u，--unrestricted 降低“智能”过滤的级别。</span><br><span class="line"></span><br><span class="line">输出选项：</span><br><span class="line">-A，--after-context=NUM 显示每个匹配项后的 NUM 行。</span><br><span class="line">-B，--before-context=NUM 显示每个匹配项前的 NUM 行。</span><br><span class="line">--block-buffered 强制使用块缓冲。</span><br><span class="line">-b，--byte-offset 打印每个匹配行的字节偏移量。</span><br><span class="line">--color=WHEN 何时使用颜色。</span><br><span class="line">--colors=COLOR_SPEC 配置颜色设置和样式。</span><br><span class="line">--column 显示列号。</span><br><span class="line">-C，--context=NUM 显示每个匹配项前后的 NUM 行。</span><br><span class="line">--context-separator=SEP 设置上下文块的分隔符。</span><br><span class="line">--field-context-separator=SEP 设置字段上下文分隔符。</span><br><span class="line">--field-match-separator=SEP 设置字段匹配分隔符。</span><br><span class="line">--heading 按每个文件分组打印匹配项。</span><br><span class="line">-h，--help 显示帮助输出。</span><br><span class="line">--hostname-bin=COMMAND 运行程序获取此系统的主机名。</span><br><span class="line">--hyperlink-format=FORMAT 设置超链接的格式。</span><br><span class="line">--include-zero 在摘要输出中包含零匹配。</span><br><span class="line">--line-buffered 强制使用行缓冲。</span><br><span class="line">-n，--line-number 显示行号。</span><br><span class="line">-N，--no-line-number 不打印行号。</span><br><span class="line">-M，--max-columns=NUM 忽略长度超过此限制的行。</span><br><span class="line">--max-columns-preview 显示超过限制的行的预览。</span><br><span class="line">-0，--null 在文件路径后打印一个 NUL 字节。</span><br><span class="line">-o，--only-matching 仅打印行的匹配部分。</span><br><span class="line">--path-separator=SEP 设置打印路径的路径分隔符。</span><br><span class="line">--passthru 打印匹配和非匹配行。</span><br><span class="line">-p，--pretty 颜色、标题和行号的别名。</span><br><span class="line">-q，--quiet 不向标准输出打印任何内容。</span><br><span class="line">-r，--replace=TEXT 用给定文本替换匹配</span><br></pre></td></tr></table></figure><p>关键字搜索：</p><p>搜索D盘所有二进制文件内容包含Hello关键字的文件并列举出来</p><p><code>-l</code> &nbsp;告诉 ripgrep 只输出匹配的文件路径，而不显示匹配的内容。</p><p><code>&quot;Hello&quot;</code>&nbsp;关键字:Hello</p><p><code>&quot;D:&quot;</code>&nbsp;路径D盘</p><p><code>-i</code>&nbsp;忽略大小写</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rg -l &quot;Hello&quot; &quot;D:&quot; -i</span><br></pre></td></tr></table></figure><h2 id="搜索有病毒的Maya文件"><a href="#搜索有病毒的Maya文件" class="headerlink" title="搜索有病毒的Maya文件"></a>搜索有病毒的Maya文件</h2><p>关键字vaccine&nbsp;&nbsp;fuckVirus&nbsp;&nbsp;“|”为连接符 </p><p>搜索路径为&nbsp;&nbsp;D:\work</p><p>-g “<em>.ma” -g “</em>.mb”&nbsp;&nbsp;仅搜索ma和mb格式文件</p><p>-i&nbsp;&nbsp;不区分大小写</p><p>> D:\results.txt &nbsp;&nbsp;将搜索结果保存到D:\results.txt<p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rg -l &quot;vaccine|fuckVirus&quot; &quot;D:\work&quot; -g &quot;*.ma&quot; -g &quot;*.mb&quot; -i &gt; D:\results.txt</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ps磨皮插件Portraiture</title>
      <link href="/52338/"/>
      <url>/52338/</url>
      
        <content type="html"><![CDATA[<h3 id="Portraiture"><a href="#Portraiture" class="headerlink" title="Portraiture"></a>Portraiture</h3><p>版本：4.1.2</p><p>官网：<a href="https://www.imagenomic.com/products/portraiture">https://www.imagenomic.com/products/portraiture</a></p><p>界面：</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240427181145704.png" alt="image-20240427181145704"></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>全部点击下一步，然后打开PS在滤镜里面加载可以直接使用。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240427182719335.png" alt="image-20240427182719335"></p><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>蓝奏云：<a href="https://zhangzhilong.lanzouw.com/ibDA71wpvtuj">https://zhangzhilong.lanzouw.com/ibDA71wpvtuj</a></p><p>#ps磨皮插件 #Portraiture</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Adobe </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
            <tag> Adobe </tag>
            
            <tag> Ps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>错误：Windws找不到文件360seURL错误</title>
      <link href="/14562/"/>
      <url>/14562/</url>
      
        <content type="html"><![CDATA[<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>记录一下在Maya中遇到的一个错误，错误如下：</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/360seURL%E9%94%99%E8%AF%AF.png" alt="360seURL错误"></p><p>起因是我上午刚卸载了360安全浏览器转用 Google Chrome 浏览器，下午当我想通过Maya的帮助菜单看一下Maya的帮助文档，就弹出来了这个错误。</p><p>让我们分析以下弹窗，提示Windows找不到文件’360 seURL\shell\open\command’。提取关键词「 360 seURL 」。</p><p>这肯定就是360的锅，我希望在Maya打开帮助网页，Maya调用360安全浏览器，由于我卸载了360浏览器，Windows就找不到360浏览器，然后就会弹出这个错误。</p><h2 id="Windows调用浏览器默认有两种情况"><a href="#Windows调用浏览器默认有两种情况" class="headerlink" title="Windows调用浏览器默认有两种情况"></a>Windows调用浏览器默认有两种情况</h2><h3 id="第一种情况"><a href="#第一种情况" class="headerlink" title="第一种情况"></a>第一种情况</h3><p>第一种情况就是在设置里面调用Windows默认应用打开，我检查了我的默认Web浏览器，我卸载了360安全浏览器后就将默认浏览器修改回来了，我重启Maya问题依旧存在，确认Maya不是以默认应用的方式调用浏览器。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240427174910164.png" alt="image-20240427174910164"></p><h3 id="第二种情况"><a href="#第二种情况" class="headerlink" title="第二种情况"></a>第二种情况</h3><p>第二种情况就是通过注册表所定义的格式选着打开应用</p><p>打开注册表目录：计算机\HKEY_CLASSES_ROOT.html</p><p>这里的  .htm  和  .html  默认属性均是360seURL</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240427175721812.png" alt="image-20240427175721812"></p><h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>打开注册表编辑器：C:\Windows\regedit.exe</p><p>导航到以下两个目录</p><p>计算机\HKEY_CLASSES_ROOT.htm</p><p>计算机\HKEY_CLASSES_ROOT.html</p><p>将以上两个目录的默认属性删除或者将值 360seURL 修改为：htmlfile</p><p>其实选中默认，点击删除也就相当于将属性值恢复默认，并不会真的删除这个默认，因为默认是删不掉的。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/%E6%B3%A8%E5%86%8C%E8%A1%A8.png" alt="注册表"></p><p>回到Maya，问题得以解决。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maya解锁默认纹理列表</title>
      <link href="/25007/"/>
      <url>/25007/</url>
      
        <content type="html"><![CDATA[<h1 id="解决“defaultTextureList1-textures-1-”-目标被锁定问题！"><a href="#解决“defaultTextureList1-textures-1-”-目标被锁定问题！" class="headerlink" title="解决“defaultTextureList1.textures[-1]” 目标被锁定问题！"></a>解决“defaultTextureList1.textures[-1]” 目标被锁定问题！</h1><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240304212956221.png" alt="image-20240304212956221"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> cmds</span><br><span class="line">cmds.lockNode(<span class="string">&#x27;defaultTextureList1&#x27;</span>, l=<span class="literal">False</span>, lockUnpublished=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maya的几个环境变量</title>
      <link href="/64941/"/>
      <url>/64941/</url>
      
        <content type="html"><![CDATA[<h2 id="登陆选项"><a href="#登陆选项" class="headerlink" title="登陆选项"></a>登陆选项</h2><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240304210347997.png" alt="image-20240304210347997"></p><p>禁用许可证，在启动Maya时跳过网络验证。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MAYA_DISABLE_CLIC_IPM</span><br></pre></td></tr></table></figure><p>变量值为1</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240304210626485.png" alt="image-20240304210626485"></p><h2 id="关闭Maya的Output窗口"><a href="#关闭Maya的Output窗口" class="headerlink" title="关闭Maya的Output窗口"></a>关闭Maya的Output窗口</h2><p>变量值依然为1，在启动Maya2022以下版本的Maya不会有Output窗口随之启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MAYA_NO_CONSOLE_WINDOW</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240304210952290.png" alt="image-20240304210952290"></p><h2 id="Maya启动不加载Arnold的错误"><a href="#Maya启动不加载Arnold的错误" class="headerlink" title="Maya启动不加载Arnold的错误"></a>Maya启动不加载Arnold的错误</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MAYA_NO_WARNING_FOR_MISSING_DEFAULT_RENDERER</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240519201158391.png" alt="image-20240519201158391"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于Github的22端口被占用</title>
      <link href="/26404/"/>
      <url>/26404/</url>
      
        <content type="html"><![CDATA[<p>大概是1月24号晚上十一点半左右，访问了一下博客，所有图片全部都404了。</p><p>原本以为Github的问题，但是Github访问一切正常</p><p>又访问了以下图片直链，结果404</p><p>后来发现是图片直链上面CDN挂了，我用搜索工具替换了新的CDN</p><p>本地部署访问正常。</p><p>正当我部署到服务器的时候。</p><p>Hexo出现了报错</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240128170024711.png" alt="image-20240128170024711"></p><p>然后我就照着这个错误各种搜索，参考了Hexo官方的帮助。和各种博客上面的解决办法。</p><p>其实我在开始的时候没认为是Github的问题，因为前面我已经排查了一下Github，结果可以正常访问。</p><p>然后就各种搜各种解决，删除.deploy_git，什么回滚怎么这么……</p><p>甚至我重新部署了Github端的SSH公钥，问题依旧存在</p><p>然后我看到有人说是网络问题，我从浏览器访问了Github，都很正常</p><p>然后我就看到了给git设置代理的方法，是不是git没用走代理</p><p>配置http代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy 127.0.0.1:10809</span><br><span class="line">git config --global https.proxy 127.0.0.1:10809</span><br></pre></td></tr></table></figure><p>查看代理是否设置成功</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --get http.proxy</span><br><span class="line">git config --global --get https.proxy</span><br></pre></td></tr></table></figure><p>设置完以后还是没用解决问题。</p><p>再后来我尝试直接通过git访问Github</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>结果直接报错，其实已经开始气馁了</p><p><strong><code>ssh: connect to host github.com port 22: Connection refused</code></strong></p><p>翻译一下</p><p><strong><code>ssh:连接到主机github.com端口22:连接被拒绝</code></strong></p><p>但是后来按照这个解决方向继续搜索解决方法就明确了很多。</p><p>终于终于，我明白了问题所在</p><p>默认ssh默认使用的是22端口，报错就意味着22端口无法访问到Github</p><p>浏览器是能够正常访问Github，但是浏览器默认不是以22号端口访问</p><p>解决办法就变得简单了</p><p>在用户文件夹下的.ssh文件夹下新建一个文本文档</p><p>写入如下信息,意思就是SSH直接走443端口，保存为config，注意，就是这个文件名，没用后缀。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  Hostname ssh.github.com</span><br><span class="line">  Port 443</span><br></pre></td></tr></table></figure><p>然后继续通过git访问一下Github</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>很快返回信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hi SansuidouEr! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br><span class="line">翻译一下：</span><br><span class="line">嗨，SansuidouEr! 您已成功通过身份验证，但GitHub不提供shell访问。</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240128171238978.png" alt="image-20240128171238978"></p><p>这时候再来一套三连</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>成功解决！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搜索类工具</title>
      <link href="/32104/"/>
      <url>/32104/</url>
      
        <content type="html"><![CDATA[<h1 id="Everything"><a href="#Everything" class="headerlink" title="Everything"></a>Everything</h1><p>官网：<a href="https://www.voidtools.com/zh-cn/">Everything</a> </p><ul><li>免费 </li><li>搜索速度快</li></ul><p>界面长的平平无奇，里面有很多高级功能，支持正则表达式搜索。可以通过<a href="https://www.voidtools.com/zh-cn/support/everything/">官方帮助</a>了解更多，写的很详细。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240128161917436.png" alt="image-20240128161917436"></p><h1 id="FileLocator-Pro"><a href="#FileLocator-Pro" class="headerlink" title="FileLocator Pro"></a>FileLocator Pro</h1><p>官网：<a href="https://www.mythicsoft.com/">Mythicsoft – 专业人士的搜索软件</a></p><p>在线简体中文帮助：<a href="https://help.mythicsoft.com/filelocatorpro/v9/cn/index.html">FileLocator Pro - 介绍 (mythicsoft.com)</a></p><p>Pro解锁版下载：<a href="https://zhangzhilong.lanzv.com/iotUg1m73rkb">FileLocator Pro</a></p><ul><li>支持搜索文件内容，虽然比较慢，</li><li>支持保存搜索结果</li><li>支持带出搜索报告</li></ul><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240128155714846.png" alt="image-20240128155714846"></p><h1 id="dnGREP"><a href="#dnGREP" class="headerlink" title="dnGREP"></a>dnGREP</h1><p>官网：<a href="https://dngrep.github.io/">https://dngrep.github.io/</a></p><ul><li>开源免费</li><li>支持搜索文件内容</li><li>支持正则表达式和替换</li><li>搜索速度比FileLocator Pro快</li></ul><p>按F8可以设置简体中文<br><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240128162939602.png" alt="image-20240128162939602"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maya病毒查杀工具</title>
      <link href="/17404/"/>
      <url>/17404/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="密码错误，请重试" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="291a1c8ef4e8496da73c7c27edd693a4b11c82ea5a99180ec244918781beb8ce">5560b822679e40d5171246821a336b3d47c0cf0cc675720d0cbbd0b226c0311c6575aed08da39c96e3d447223b0a38623fe5fdd61a2ba6e7f5434e3ff7b2da2533065e65fb0c3489fd48b2bf11ae506c34245c9faf1b91502c00f100144eb9eac629e564dcd70019258395350a7e2df93d57f28c08276ed4adf122c0413268795f50f1c42437d9b9523d378770b0b9b69db29320107fe74c6dfad4b0f3f47ec8c2d57f93d748da8b6a609f42ccc86caa27892c8b9335d8a0a1c74734b71c25a06956b536be7ae64271a1e50a34ed8fe4d97b5d7784ed6d666a147010d72667b7768197e8199d405fa0afdacd32125af8b2c36f8c905c9f197ce6ea3357ba6b4f1dcc9d330897991c77109fd5e3ab4d16f6f5b0ae45b55ff5e7f12b4e8f577351b181bc5f89d37cf62389a8e774c4b19c78cfaa45a2765e5870f66bb6e3bfde4bcf6cfd79b3d1dcff858324f2b2c1e17e75cae8aed72d3b0c0140287b9998505b02cc6b040062d44898221ea54326d0b20653b3ebf1863d04f8e018cb99793e7cbdf004d4918cb90e55154047892b3957f63cb4bdfe572f3108ceee9ea224cd03b0350328e6ba0d33a06b2180d37eee4e23930776a52bbdf5826ec0c2cbbb9aabe3f30793605a69e2e8f47a707894294c5010b98adcf22eb9310f0e833d4c083e1a831545f849858be135b1d2cc5eebb3f39d00b9b3a9349efc30a0dd832786b9ae20b4d3d30b81de162579acfadd261895ad73d815f8bcf82fbb401e8e063e63a11662a4597ab23fb8e050eaa8fb269a444183dfbee1c39f27198b2825ce02dfd85cb2bcf2358c36003c65ee9cb73a9f9db806cd35ef3e9c2dfd7633b7f2efd2c1be9ffcde23a9413531feaf821b9866c548ff6aefa41fc2f0c8377df63959ee8c8094870dbb127ddff3265cfa480e9b0db944dc258594e482f558ee5f269985b444a18d544c84b705ef24d55159732f78bebfa049279cf9a9ab6d064a25bd31c3c8c1a485dfdf5305f3a5141b5757dea61596858a161b3cd5ca0c0067f5b097c501f9a1600938d2bd4d1ae6a9c98475261c342dbb56782799885edfa3fd4fe2a75362cdc63e546619204281f1b48756f6b723dbd3e98dd260b7b6643f1ff59ca25b5dcc2164da438e6d6244ca0ca48b1a61f75dad34b37ee4c72465e9c768505fbbbb664a858a0f00c99a98e9f1e8d6f55d53dbb08fc3dc40bfe554dbb405eecb7568a2f5cb138f194d9715a7fc87f1653b731455f75f85da3b3a822e06a1eae932ea3358bf97e1ed856a75a063708e1270ca333cb7643c3374e209739e1f4ba75f2dcd4878d19bfa13886ae107408ca8dc49b33b1d8a02fc91f93a90db42b2b5af1446d35db29175a78c80a5e35dd73862a113abfe170ab821c46c28b712e4037c360a667a5f64a67392c134a2c7cfaae9b4503fc2e2bf8f69bd94d93b634fcd928892e097c95f545e9d790e592f8cb8bf9a7932de9b646b6ac14ca5efadc8bb1ed26ed1123a0ef851ed6904c1b07f8d92500f7d7c735370ba6a5856b3603b706de467b4addd19d2559cdb01d7c547c04942931d6cfb0c2987f35e12a3b86f12a7e715b7712a56eb58b699c3ce2a0f111a1dbd36f2b61dff15d046ff0bc11415f4b3320ead67a78a0868a77c907d2ab6024d9863d02b1f9481f7ec10b02dfc5adf8ab814d7a276be9013510000c14a0acd93db27cf73dc3e1264226155874ba9b3719a3230a71da7516484700201ecd93da16fb999b3214d03ce311552c6886b9602f4b0527492f648ce4633ec6ad2b4062c5ae39996eda148c2f94015f89787a8efd34ede34ac1c9b7c2828380620c78ea3826d0fe8648603f4747d2812645485615efaf045ea5d256bf985b5f139ae5ddd6884f4e4d945e2a1a230f846fb3a2dfb98522f171c2b763d2cc8ac0652f6f4917e1b3bc57bffccd5fb52fb83a113575e244a83974c42c8da524f569dcfe62e1617c807e07937fb0336d64431d8c2f70e0e44b561325beb98cc3054802c516c233ad1469d721ddc3e772c9a341b73fc50e9bd147703aef39e20d9a5679f3b3ccce77328e60c252be6dba6f7fba70e79269a99cb680dc8c13b441df3b1dc3941aee53cba24dba4b321ee991578148caad2baa4ad8dc9bf3a48c777d834279f0af18acd2339f06889a3ee64d312598c618584f83816ddaf463e51a129daff8e9821c9709eecb66387b0fa75191e0ab789ccf8406ee3580b555f74003f2f1a8fc32d9c827906202baf2317a0fb6c06c7d8fe35ec673d0e07157af3ffb55951a50f3fddd248e9bc636be5ba965054193e6b429143969fc2e4b42d78c5ea8bd2db1b54090e5ed10c87d661af0b62c2553ab8e09af73929191b4e4f5bf963482bd01126470c8e99c53ce0e4595e83870ea7938fd8de91bb0850d40bf2fb0c3159d64b47832c9aab1c63a66f89c28655f292326241b9a7eb9a9237788a7bd44f8c92efd1413e5c5960221d867e94331c9c16d39697c001b74a2aaf5c159ba877d1734757c05c87397572bdcab01a0f504b6b5ca50b8cd3a327fa44412f5075f1416c698a9e143050db544e8ab091efe822f684eabb98c7de1fb3caaa72d1f7cd8a7985568730c933beca5f42846934e89c238cdf9af359bd623e31823b991521cd0886f6d66eafe3c742bb3c6da35c0db1fb9d31c7090f2d6aefa91bf6248735ae8154e3a4962dc9babf91ecd39dc33d18d0d172a5333689c9ba5e5942c82dab7a468842225cc1bfe71c24dc45a372c3dffb36145923554c19e9f5b9ae836a16ba765dd6ffa25edbc0d3ea5eb63a8650a0e0378ae3d542415000f43539562e287248ef33bff3097c608e7189b378b2470be9d9b8225c9e2bb3e098b92e1d66463c380e1120042a63d9353138db75b87b52b07f80f6377ee6174f8eea54cb371426cbe2ec4dba793f2888c468d278a14321787bb61c4100d8296e9389573b25bad5d468d10b8af5139724e3f34210841e2a4187691da4ffde06e071c2f49ed80cb09851b9d61fb2e837756fd2e12542aad4c6204c6cfe372099270ca12e2fe5143780d6e1b613682901f4b85cd6a2c69252cb466ab0884501f0cd16f5a1102e548e9981f52257f21bcb65a7f09d395bf52565ee2806d22ac94c0ac4142b7273b792a52bf7e6f0a293c7f96246be20796d9beb5bddd5c6d0e3caa38e867a4b0c449140f7c4fc7c87f08992bd3ed515a379491fa5590bdcec7f47d99ca8f45d5d455d0d12d85073cc79b2c069622deedd28a3deb9c8df71f6ab51bceb7090f35c2b1872d29c9d90973f04d60b06f179a0e7f350c3bb45cfc246133b187f7ce49ecf45f152b3f239acdee6723eec8a033a9f77ba8cc2f39a20c78380939d5b4cc011950df07515896ff39cb8d9e5ea98e34717107136ed6319e86618ad66febed9de6449978a9abe6609aef01affd788e642d44b3c702a9414af1ac6f4308211da92e5fd788aa3a03820f577c24e7652c901ea2aa0369e0843d717ba007d80199084d3794bbed19c51aee7b658d7594b2d00a93b8964512070b69b331f952faf6eb1c74333de202a246a69a0b2563f583a9aaa7461167db6954f04538aade2378d53919a9155ed7267084347be654cd5ee6aa2aaa418ba45ecb89dfdd89853dd2769ee423150b135b70201c0e88e2c2e18da00c468e0ac1f079e06e4c837ddb32a5d1849049520bafc39cb5121b172bc2515252c4ca639a02169ae17eb9bd13628950e31ad53fbcb9b0ec6d31d22b88efdc128ff3b2082af47d88c16fe02ef4d2586ceee011d9781df19de62a920cbc7f74c204130059278e1502188b2c55149b4b5e44b2cec996c2c97773b700d85da475bb43ea6f8c33a2cfa32ffc216b1a2aa282919436654483b110bf6e6633fe8dd695ce8f47f800fbfde18464ba5f0602644bbd20dc4186d508b18a846d2f35bd17c17ca0d4f0dedd04380e6af73aa6e883e8f0ff3eb0d57ada5b272b71490a7756e43a9d15a0cb116e8a03b8208057c409b44825cfe9d0b7e9859ec1c036e4a5cb464ed0cbd9d47beed1c5e45c9da03f6db00990b776e06ac66a73bca8e55dde8e55f744ce2a72603740c50e0fb96c9af8407a3b9d25e7048684f4b49279f88a73c4652f959639b6cceafa2b2709a9738995562a6970424b5216684b755380605cd69fb36b9b1e0f80309e0349273769533429979d5b3b1cdfd3dbc7820c28911342db9b0ecf4ee1fa2524aad0f632687e1e4c926231c70240e5cd4d03e18fd0a72b2d8d997a48a9ac2f451931dbf4f2353b71fa1c56299c0d930f993fa986df1a61721f0aa89d6800bfd1b2aee7a201591527c419fbf113deba8bb1e2263891427372faf0fef037cbbc0766bd7994d617042aa34ce7fbb5284a4b6cb4b0a60d75538514a929fe9a56b8daa96d36cc462c1d01df1cccaace7a4a231125a0965bb9a701f68c07d8074796f0a164842b531e0c339b7c6d1be893b922a7b2e8e45177cc189f11c2e1c9a3a02c9e006130d9304d6a458995c279bb0975707e8c867b9b6ff06289944a45d8a1b57bc697f59838e161c5397629796eadfcf9a91f471078597ea810e2c791604eec3a53c8d6bff37aab32b26f699dd94d7eafb17c3ff416c836046adba6ce92740c28a64989bbe2667f51b06884d9d7113efabd26e74040835bd4a1aa714c4b12d60b0364b6615741394fec8199fa26de7e80bf2a87aef968d5089d83ecc32e7a9cbdc677de335a7fe0c6a62b17bf424554c9d877b2dcfaadd0593e76e598d8c2b4c0f5bf929f4ecea0bcaeabdec3dc2bdc7a118e90cab3468369b900209c5bc67bf10f76510f25cf20cb8f10dc156e86310083e6b4e4be0a31b717165db5d340543f2eff4ef1786840f75e372edee6ebd5528d22a1071460c78bf679050511edf0ac6e3ca956c783d70e8fcf4318891e97a79d3979c2deac95d436bf7df9dddb787c3b98963c84370a38d843aa1c90f6baf507585b8ddaf64b0596bda02053e429008098dd4ffc6989c99b202da1beecf3b871b7b256124d425a983330e17089922c14023b145166a5901f96ae27f1220d1a8daade0c2fad75d0f1fae05c513816b256834d7ce987db2a7325eef236ed946c550ac071c92db35c8a47558d4637d1e4c6d00bd71345e6a4fb95cabf5f02fe3d2bc4490a4675798ed7f354295ff18c862908adae1bdf5082a0498fe494496ac30efd4f25b84793bbb3629b25332b8f698c3b1345718d8da4ab0f5e557594b2f7e545dc5b7ca7c1a289e244a959e68251678f4cb51676f71abca07339a9f3aa1b20cb901d580211cf1716f4a3315019c51e5e46c9ef15dad48ab1c2380ac9418846d61ae9787a45e062c6b4d29335675d2ffaeabaa745c7b935cef0b6f1eed829c1922f13ab8c2422ca24b0b59ac47816ae9904e8ed8b7716d0d1a0054fa2e2bdf4bd67d96e3713f9ca3bfea7e1f0b03427a37964585fe57ac53d20bbbbea266799969fba851598bc9af1a9ebf678a5dc8cf9ffe0ef6e68a3d932b5e5b13fd6cdc6efd6a28a2567d7c2a88da1e78b3a06a599c5ff9606b5cfa44469083027c741e3238e747da9ea8bf365bd695e9a6e5081f8e221f6114dda1a9414975867e10ba41dadcfa6471662fa7111a0902e4d5ee1955a7642588ea683754714db783fab9e5a482ace493dc84282e891e89d4e4e07323bcc70ef3046841b1b63474bdb3fc5d783886f0bbc78ce588349f433a9706c880a7299141d01215827fd228c1ce82b21fa51eb67dba88d2abeff920d52326e826356be4f576a71f4e045646a08ebb2902897bdbf6cc29fd1b1947eeb5a85e8f581360cbe413729cb9acc0817bbc7c4849c157647c0ea90a6ed6ee2514ec54711c36a6af5825192b65ed83cf76ea39f6a1ea659bef5d84a268f7d00e6939b806502ee70bb06820e56f518be4b3da49aaa9cd517a6f0b07da106bd78e7caa2953b3a263018b974f2aaf657e4f9319e634a4b5f6ced3e10922eaf677e5b545950b58cfc12a08805630e53a91664ce50b26afdc164156c9817014263c96ca402f3f64174ae16d27e95d57dea0bb099dd7fa5cca9ded464b0cdd570af5058ca577302b3e81899d43b1779a5f820b9009aa71973a56ee26c6e99ce55c93616070198da1be4a975bb5640ece46f8c4e17b2370043c80b55f0dbf8d6fde2697ed37c63f0787d14716f59ed24938b8354710c6b5ce7853f2ffd7f1c426de323d50fd51aaf35485e877b723ac0616c582ca99bdf6de39615c83ae88ee1bc6dc643817c3b1424bacfe1b03d93e0b603ddefb300aa1aecc5f7dcf0c8826c102e5307ada07995d892b8881b65dafa543a50ffc90efa147fe57d360f4d4b55f42b034050f0aaabf47139d212598bc10c93ddc439c6d543f6eac2374569dd8ea555a2586ea183c18d82f355b3ca38e6c8f5efe13c32ea4062302df41779f409fb0b7865bed289984dd27e7ad6c6a12aef7f0904a281b19e41b0eadb7cba0afab1b38e037c0f9d89bbc21aafac38c3b615a51a98575cbc10fcdb7cc9a7ac9879a98162f1a3d7ad71d28827aec145ce40452cb257652c935e16e2a8eef63cc19f7e11df54cb2bc4642708573e0b74527519da3db296f0f4174f06f30747bb4614d46eeed3dce20fb680c81ddcb0697f355f89daa370edd2b2a8b190e5e8d0f842a9cac470baab0ae61e277a8dd16aea8a39591450fd54e9c00cb6ed1e75f26268a25cf97e71f0f74330531228eb2fe98858dfdcce633d70ac95fcd68637d1e8f1ac8021b4dd830423c66b819413c736db68966b1b8dcacd00bfbb33e0d39f2540ca6933b9ff44999d281acbade8b814d6eecd9385b4d6fb0a694d369aeaa1e00f6d7490798a8900787767a1f10a4aa19d684475bdcfb2629bba84e7e5de97e703b392d56160c54cb88bf45ca8fbdf529f1968f6e09774a5b5ae39b44aef67ae119fc0acffeb560f472d931fb1992ade7b0afed2ac1f5a3898ff467b9524f5e25310c4a87a024aebd3178d144a59b37733c53a09df610a54b8cc84f173679a41ab05ed4959467b387faa5d1aaf99a3c5f7ef9e1c500aa2e4489ecddf6b419e9d91bc98de2f0eee5738954afd22808d45fc7d5c821c233a422f0257fcd2b48b7113b4c33a2b16d85350097fce3cb2a7611979c392aa70bed06892dc33cfd9a0d646ae206e37495b69edaa34d2001d6751011a774cdae717092435ae9cae142fb22416b9a8ba0b00e2adbc99651a9669ce8ad57d27692ee405e0c92101c62e80d14b4d9df6dd2bdaa2601a2b5102eca55aef156b68a2f9c3e11957a07810a43c8a0148bdb68e156b135744a32148fe191da98be3ba8e098538829738d7bb1bc6824ed7d7ffab66bb44a3f12ea1aabd5d87f23d1e20568e168aafb95994236fec5730a433da729f522894b8a0b50f25ea9fcf1e7b1bb1cf16fc46df61001ef0a23ca869b3ce3f5ee6bad4fe78a4a4c558a9581100dd0a2b95993a4c8a4c304933688cdf0c567bd947bcdae2f084bb39d5a47b2ef3d0771d41b8ad7c5619f28ad754586f3a6b07b989f89dff227b72b4ddfd46757f8a527865804c8552022c9e97096937d8432a0a1fd0c36fbfd71079c7c3812ea70424764e59bdaf687506d2fd1e8e1de4617160bde5ed9eeaa25eff8c4715d0cd36f49e4c06a0e597c50ef4d2ca4af52e59019e89b50f0972db3a907b5eed28d84c12293d03303c4b65b6f6d35bc7474b8886383500e98736b281ad093eae044578e4575a8cfd8b22be488beb255a7df1bf11c99aca529eb0d9e3bf3708b9574c090933ee4dcf6ec595603a263ea944d26de6a97ac67d0979f12dbaef5bf35b9278bcb229d46f9754a98b437c190c0b174a84e4b6f825fc78b963299994f41a1b9dacec863f0c8a105ae5e0cef48b4f96781c4ed2c86039774964b735fa8cd624f70b0378e9b0fc031741f4bd2326236303495f7321b0b134a88487c8cac180fb3934f24a61b880a2a2ea7700eaea8da1a2a04f0414c8735ab326581c6a7906955c7a52089446074e399b87b6401fbdf4e13a3fbaf6ec582d415e6577473be9f08fb5e91bd46a28ad76769b8a58c5b07c567d5b005f5e95fdcee6c570252e2cc1b87350ccc69a96f7ccbbcf67c9914d6941c3d673f640e9f65840926e2c2868fe9d3065aea291f183886404ad4f2623968e9271f3bab1ace4e055c96a0ff3c1a29efc43193092816a828bd2c88b3a516eae96038d17dc739e37c51f324155fdec1079fe45b592248bbc1174f7dc7894ac6879d6f148c07c95984ea5695ba09558a6bd5bd2e85b750473792d892a2b1efb2e71dd18cabb504fc7525bc897df75ccd279121d9a68d10b96d04b6ae7ac44659785d7b67e9faf733bd0ef2dbabb5f1047f5d8bc6f44aac03f47128a5bc73810482924ae5210de89f9c3019da063836d7be92002f1458091d00ddf712fefabd44d987766fa776135f86c011ed63ec3048c69172a8e671511a5fd235334bf9ddf3a8a37ef3cea07fb7836446b7f104de776c6e11e0304e918d818045c4577ae9e13e8e4fcde05e26931b0d5b28c96091f9b09f6d12e120d398017731c20852d8b1e3a92d574f8d0f1b70c7cffdfdb5919a91dd18dd6147ba09861fffc98c0101b79af1ce10aaf083e3cafa8362458e69af4f3056bd5ab248376e10a6e07ab027b0ee0d9946cd005a1d85e8244cf6c851aa1e3a565b98ddfc58f04797d48a9f2c1ca4801ea3037baad11ae6d7150a48f6529358fe398f382cf6c48d95d66751a821ba0d84ad2b4010ee4d2222008204d0619e61bdfa17217b8a49b850a03f56c19eb804c9ea2848f65c05dcc47e169d2f9c79f26510065347ec3fc6025bab7083223a7aaad058009ef94336283a4895102b714db5088f380a3b27e4b301721da4b8a8cbd76b917be90de29de60c72d384aed60c5170eab54c8afa7cac7dc6f42aaf9e2e97e5876b2243ec8b0ff4d98f1dae065aa9f4595caa78959e5cd14bbb5d2fcd2409af18908a506115f8f67ebfe7b6bc54b03ebea2b91d5ab009b08d45964653effc0d5420bca99f4a555490626b48bc47b09287836de0767955b59799a46de7f8cfdc98819db51735b750225a21fae0cadeb0455ec65ccf28ad3cbb0e56832eb1b80e46781609816cf88f382f8ff08940655ac7a98ea25ae4c7433b2f8e62ac15daeee32e3f127b4d76371a4743cfe5e35818e9701802147c5bc3fc1ec02fbf253ef009f28e550af3ef96bd9aad98b17479f88b3e466595ed862e167afbedc328a86b0a53c55c149fbc7c9f2118c4879d1e0c10dbefcbbbac83d349636ba5d3adc92f6430fb3575186cb21afc2ebe000895ae0a679804c21ab7c986d0124dfe6e237f71e5daad904424c6670315cec2a99c437d214a981a4a63ddade84c8a59daf07f778e5da09b25de9cf73f6ed8383798d2a1ea3bfbbd7b2b275194a558593fe237a3697edeb49b548fd11268c9e034dba164e032e409c0162a6403d90ba77fb6ec19bf2c869b78b029178000df84a5fb1f50529e459967db528be5777f22ab8e5e103ef40948f1379d4fee63cc37fa9a28eb1cf5fa3c3f07c1a5a454956a841ea2487e8ab744a420726289caf313843841f1ec9176b0dc8272572d33af4533a780f7be52b46bda6ec3858e8240cc5fe094f99259e4e68dfe114bbefbbc8a4ae0a51aa78b1ae000acbd9599fd7416d10b718920b52227733584c05fff71d03f2dcd0baef677d208ddfd5a917d8a6648c9b63cc9b775bac4cbcd63ccf4b4cf6e33516f1b0a06776130e350364f72b12e48728e1f7a859609130f7bb9460c6b2f80aaac60d71218c28f9c8b733fa0056cdfe3d64e51b39482cd65e033b5c1488c2e1cf587e08e029ef7b38834334da649a0e1c82ae71589ac12a442d2c72acc99d07d6cd3a94380f23250353eb27cc7c6dbcb1aff99f7b78a96893f3a8509dcb94eb186cd7247d6232d3571070806c0b0299aac448b5c16c5a15dbffdf1b85ef32194e4473d36e6802c78ef0d5b22b11d50d398cd632f89f2711781b627656bfc55c032998725fb97e0aaf8d58c7d1f0abd63ea8e072ce4af19088443ada7f0333e89baf2a01a0a1f057e1c37cee3287f684c511b193cee3e82a0e6f624b720ff26e923341d791d44de76088952efd39019903d6c19f0f7fa68cbe8ce4ee40f475392b81da1d808ae5827df1a0912fccb963f9aa988ca82d5b4cd73dddf1a5371bbba7f6712218c48794e80bdbc5069e1080bf861062118f88499523b0eac68c9f632f23f413e853a48fddcc407a0c5842d87e58b323b14908fb1af616615087ffae1d9b0705aae94ef36c75f90b171d8cc59cb97fa8a89935bbf585341e755e30b13cfa474e3c9498ee6ba6ef0de351c8e808dd142989247fcb0d26a2a6e26c00cd412604fe6805e1244e595a09f0765fd888dee5a4e516727928ee87d852e87cc788bc2ebdb266148d4180c903fb0b42f867e47c613426740db0d507e9417fc71e5775c1330e8cbd4a223f450defefaea0a3a2ea526512ee01f80297194793e28ebccd9b986f11bb7996f74912bfe6869b4ea8da0369d2d808ea4f17f53eee341a7bbf7ee2db01d3ec43d02868e36da8fd609e1014f2c2f0982bebd4fac4a0f2e7c6b360c6744ce8d5056d9f2aa86cccaa370de3d52289a88e2ad6523c1da9a37aaa701edb7eeee583223ca5d2091b705f7168541ade8cb361d5424469e0356c5bedeae5844a3e893038053aa51de67a1da2b83e3cb1a18d7d34ebe311eb276419797ba8a39154ec7333676907f47c8b7ff3e88ba1ca8a0b780293e40d74c772e165acf3a0520f8fb53fdfa92b1652ed31e699453e4031dc5edd7e3a763c8241be74a99a378ee9b2c52d6dce1dee2af8187a2d48ff1c322c7f9fbd3da1b01766330bdb85ad77bf97d690ad09bc10a4efe30edd9f7ffcdf4c76c5dd6d184422af3002512af690e477ac57d7fe4a3b58bf0bce84822971468bde637301d57a7988d84002f6f251d1aca6200be66c2a83db5eed5a429d7ae4b6584565960c71cd197bd1caf13e0876f8a2bd4ff886965563b8b8dd1730c0465f82c546f1b088198c40cc35d505e9bfd9bc2eef15271aba2634c242cf51f2e31685b9d86f0d98b7b1b50697e8b12a0fa26eaab69aafc8e486ec487fe79584a0066b7052d73d212d9a46b5d71ae4846da56a2629fe3ab8b07a2576bed5b55720e4314bb2e65c067e964e0d255eaa95897d75a650018caab08baa014de56d6e6fc8ffdbbe163d2cc85f9dbe35890dd154bbf24083afe466c5db3d93e5f69e635d4f41e9fd17a2003847e838d71eb437e9470a9302631e12fe513f9a24fb534fe9dad160097e54cba56d49ba7e9ab2c1cce046ff01745ca29cf982b0bcfaa43a19ee2ae36f00d9266a9231ff4a14e7970dddc35573bb8017c8e4399cf6f19b54845c82d5ca3d4b51169dbb739fb345e106832ba2484bb4b0ef6f92f4041ef8218fa619ee2c3b2ee57255f81c86c84256e881aefcd854d70f39752606db2cd87e84ae0dda8fc4057d9fa13fabcb25b5b506a29e7fc84c244b0cd03f83c4bc34c3364fcd92bd780f0daf8a7428252be011c7604de3ef747b3e906100df8d3e04738b23b3e2c5ffad2377bc5f233a5a7fda9a2fdd61693eb7a2b3895f41e6d22510fc4c27be056f02fc9176ca55b895b89a181e867fb2cbf995fb25290858267763162aeda5808508dbfdb257aa05774f0506004e322ff258662e3d7b585d4eb96109e67a5c2bf93da2dd88fb6e04c8df578a54071951ceb38362f87ecbabc6aa27e4258eaccc30664f0a775a1c3cc268c82aec767c55ba6a18720a05c28dc9638cf28aef1e8b909080fca5bf3907ac85954be91e89a08937753a5f756f52b22050cbdf35e4f6ca37fa4886534676daa7e30aa4e946181f73aa7987cf59da8058c0f7c19625e16bffab88ccb4aafbb1fcf8e4d10b24bbcb34ff4990bab0bfc5d1b0cbbecea9b13eb805158110c88d14a9be18080244f1f727f9d854f00d6375fd15a1c18449b0a25d05e86e7ed1aa89c6c9d46df3121b3b3caa384d6eedfc711b6b1d532428567fe024380c609a5f963d30793a8b58efa8516cf810a107668d08ef264aae84a5852f595041e27dc2f682124d66b5d569ec9fd30b2ff14874208a753d94f60ed60e93221b674783b19b0041de1d62c3917214cbcaf39a31a71323597ba313dbbfb4650f7290eb3c1ce2ae9315388719780017573a1a5c3e155138ea021ac460fa887dae033b977407a9e1060d0b353d06ec0aaf330d9f5abcc59132aadd0662c990407a72d49ea6ee8db7c10e425cb17968beef448bfd3e54f1d309c485c71ee279647c13d54d4b0f9088b72db4339b405383a741f4d2b62fa6035b5ad012885271b0164f90e83bf617c364afaab30d66ddbaef9238eb7bff2d6bf277a3c17def00434ad1256912701bc37a484c2206acc0f9ddf4947048da680bcb89e90ca62ca51ea15dbe3e20f3aea1bc1cdd28433955932a120b96dd9d4abd9dec273729e73228aa2558ee989e0a88839a23b04da64354547bba7a5abcd7b063117eaa8250606dea36bdeb87667935d0fd00972a00469a779e0ec83ad248c432d6fb30c0d23aeb710a7546bd275ed29c3ecc5b40e3c002a9836d4a382bbf89cdd9bdff3a7ed81b0438dd366c481fa5c97a3d21da8be5372e56a056ad4bf6bf8189b8e8c5e90e01d0126e575f7246cebeeac6e65f5ff4f7604562501a62e1849d87b555600c99bf3848231260ad84248b63febebd6fd5565d69f4e992df2e78bf44f42ca95bf361d94aa88bd85bd3d014b2053d53d1726c54e58ca0e62d317357fd793439312692e5e802f4b30c25e501e23e229bfc252a7456695f27d81ffb9b38efacf27e67006c216371b44f2f89ea832855b89558655c25f11e2cb673c78c4d741453da1d721b97dbeb40b8913ac4c024178e046be12f668b13719a6b63f1d980204ab9eef5bc615c454246942f2929195fcd8688432aab824b0e9c2ed5c07f3dbb1ec24f49597ffb08568194b6b9c45c7693d8e1d9e9a87d78e1835f64392b741e327f189dba1d7662070ea67d449d44ee722e79f4a6241df6f0264ed8f637128e0685f02bd2b0b5b8143c57d6b42af2a177a85583df231c6121087d6ab3e72e01ba2f6adf6e7413e7fb74ef800cfc04ed66eda6fcc470c48f1af8647e249c58b08d4b1834594c0b475bf7953ef3013ba85ce88085211f0b654718bcca4129a4ac82c7e1d6142d45f3d3503491964c92d96176597e593ea1e231979473ab602c30a0917ffc41b160716d61e02e47d8d1c7d47d834df479ba32340d23e9f4a511098c658fff834ba7d36e55cc527cfc7cc3a410e9dbf536244600a2e3c2eae9847d8bebc3ae44def7933c66a7ea68663fbbdb09b4e185abaa95d97d9eb6d7e2ffacb3f99efb4732950962a82d4c9d61b3d829e8f8e55b5f44b44a58922f65f5f00359adf97225d5f485a43c732460ff976bebeeb54bc22c94105324d10c1db152c504accfe607eceb6065657832d9e3ce2e2599a8bc12347e402402880417cf3c5087c411d4d2c91926b71e375fdef6bfeeeb52678b9a8d47e7b15cd9f3912c51c5332af5e32c89896ac170c1e77c70f9d80019733a845da156c7f711f4ba97fac14752d31eb16aae40f7784a25ce54f439b5238ad0a1ec2fd8c13de9c551ee3e326e3fc695c6fcb0aa0cae08942fd18d50056289bde3b8c73acd01ec49975c3b3aa25503434d68dd9949ad6142301a13347b02009feeb66384711249b6c46078ac4b68e0b613cd6c04ff00b741f7df437e31e61da175b51987dd5ac9db8421458a863f98d77f0d1632c8933154632fb4e2bd9b22ef4214ff62112e85a90fb630de28c946a0a2c008ef19f4573fdcfa622ea32254dd3a26ac8ee2ee5e75f37a9671db8203943636821b7827fa5b03c9b9ba58c87de995805adbe9abe5d48df086e6ba761f009321ee4a60311b1b95693911fa90ac8ecd570285d7b0043a9620d70de6dfd8bcb23228d2daaab45199d5435a3a44fdf0209b1f736367912541d60a5b617c8fca62c27b1db8f1a3277d20be1a68f0b99a7a71190de435daa7ce06929c5cf9c4f8cc2340d306fd46a993f57a439826e1056dd7d7c4d761e6af21bdc536620bcd30958a423ebbb91f61aaf218dbd8de1835335a22a34e9ec25d8384f3c0190a4e7805be051087c5ba899a8b8a33b4a48f828a40082d212dd217ee46c198c14528d72d72c5c527f3149e2a4bf91ec69d434d8869e055b28dcc143cd06059b4750e86f6c54ec008ba1aef8b5dc3f8367a94fea81ad946d7f47a21e7a913cb4cfe836c22cf6d662300348011c36785a809fc57b026c7572bca4ae96ed3c447fb67e152180bf30cc9eed834d6189e37a41cf73db69a39547b1eb6d95a5097f1d7246f38aae71d413eac7b50b5b7642a5b3eb5d414ab236b00abcd5d5539582bcc5fc3d033aa67e4bef09fdca4b3b9bf8d4dd73de6e889c8adad336bc5cf83e59b00d43c30fe7b570c105e2bd6612fdd3ec08f6244fa1c651b81bfa57338a5e2f66137a94a3e3052a02db7becf7fd57d450e49f943bfcfbc2783f9cdc75ef990a6b519c6ded91d820700efcf6d30a1cf21f58c97390b31459dd1d3f67e8b2e4bad92ccbd6d8a156980e99e911e0d30efc5ee1a81ea69c36def5f8ac9760c92326beeca50513b7c51ff0bd5257c1b0f8a4c9f1e7289976aee2c453bb079ad9ff7f6da60c84a1adae501b0d585b1e573261f229609fbea6acc2ebe7393f40d8022b5fc0bd82d37cd5218182cc67a6e9ce4b1c17b82f6f800233f3a61a9cfb6ec5056ddbd0558afd8edaa9f27b7ee32e14dc75ea7774a53ad11f23f57531788fa2be16896fa756faebd2fb4cabaa49c475145280b4d9015bae65525052d0bb0c002d0871b70ed4cc66a5cb5892cb08d0152e49d75aee492a2de77760b1d307c15be0885e8204694ec700bcccc9dc2a7f3d56c9eb4ade83bbf22a068ea178f0b2c80095a3bd6fec2a0ff3d47713252cfaf28f3e81ba4eb9c0c225e79bc46cc6f2961bf38fbb8cfc354a00e76c34e248e81b3718878178548d825660c10f61204ddfb0c233a0147bbe90bcad92842c0561795d3fef7e991001e890f1ccba43e15c87ffa53913b811b56e22b930f3c02e4ab9ddbbdec033f177b54c0a2d2bade08eb1bed382a13e7535c01cf9a33840f0a59c3a55ff20f0991b2e768b56dcbb1165ad916ed90603adfb815780c0a294be9e38fa56abbd79ccd540f3eb672ac6d674ef01e0d6b543792ec508bdeecfe8faf0c7396d7b4d8037d8758da8d24e7dde538ef43892525e69014b6d82ee8e7355d442fdc3895bd72630b63578b6a25e36416cc7f98732a2a21d814fb1ca528d21afde4c8de10dca4f73f9a09a9e30a9e4a47bb0b2e4b0913470c4c3ca248ae50731dacb0d618869e3d2ae8d4563fffae94f022c68d34526761d2dce40ff891435e7b1a211f928a05d2a2b2aebcd4e7895d7fc9dc2cb2c54237eedece2b52b364c76c9abb4f65b3455180818a14ddedbe7e566a39367b87912a510e5cf444dd12458f0126041151c67632c81cd46acdde8466e227ab5ea26388609027a54054a37afffaad042241902f28329fff8f85a695ec336fd4ccd137459e5c733cbd82c9a27c2b8fad4d69ed72c3c0990137a05d6176aab3be9b3c038f87f1398a430a957abfc5a05b3c97b24efbc283fc20f2854098c78911a7c09dd6993f9863ed87bb6c2148970cb4b1664a0d6e5b965cb60bcb46adc984739d0f61c6054fe40839f2ac999e65a7fb293eb244c5d1a89768cbf0e02ce881454cc8eed3363f8ab2f328b1bdf915bc707aed4fcecd477e067def51adc898a1bdfb6d8e3face721b6d0c0a7ba63bae22ca0ef8a776051184ac8c0c6974a103308920ae499ab00e3bf43352acc9b4a19326066f1afeaa7932bf17093e4cdb74c29fd97ee8ecc7640eb75708253689c1e73a964c36f51ee27749466c2def780a39cf22c954d08ed989fcd4152bae2eb1da2378d38df278507b17c79e74ca4f0b0bd3bab7bde6d229269baf1c91b46e4dfa1e5c0f038778a4ca385becfa71f7cca67dc5e14d596894ceddc2c1c66e58f792b50d0b250d840483e540f8bc03f0794a3da05e661a10af5ded514111963fc791ce4c0bcd3581d9ad56c32b374f912bce39df4f36ccfb5901eb326a125c27d5d2220d68b3e75d8a3896137ab044fecd6cfe556c362fd2a8dae93381a085583f029fab324ccd8ef0ed264b4ff1d04cfafd2ad9ee3950b1fb4848e3c3db13ffa396b1e91738857af76747d3d5f7236164c064e3a82b6ac1df6a46d34a089ea317af4e43b571909c540dbf63d4047300e0116099ceb4d14f1aac60c5e826d0dc6846cc713c200c187ec400ae571bcc4e06fa5f5fc9daebf0a712200c993cc36b4fcbd3050730f4f2251ba3471b9fd16fb3236a67a18d412ba882c366d77da3981ec566ab6736c377f9fc23e8abe6f774fc886061eca2a697b94e29e1b1999e622a7f29b39c756c93ae1c994d82410edf7b5ee59be02d0e6edbb00bea3acd535afc9d78b0dab31476b821f9c77b1e212a4b0e408f45dfff983e54d9235d0f7bde7d4d07ee738385891dd26373dbebad2010c32e02389fbddc5170e63730e0d0efe9830115684c4580d3bc164af5d405ceeebd49b25452bd0ba1a46d07615edd81435b6fa11a24c5e2ff2c1af3154430f9380ff9e6709430ea1c4bdd220acdb6ea6e8e26b600c26990f36077512cc7e3ffb2b315b41f491ae511b693e72a1ed3111056e55e324cb0d4d8c568f90474c958769888c73bd4a084097949891be6f1e2c251147ec70f8cf9d6f00959513d9c9404f40911d28f656295f4f44000785beacf8a944a3ae908b2a0a62a0ca6fb11bed3ba71122025428e56610e59d03b5525d947fa8af73da29e02d1f1196e0df2274401c0b3b3b5c38a995644dc55a0954456219d0f73ecffa32376abf267213e33d5aa57f2f25e27bdb149fc63ef598e9ac4c547bb9699028297fe6d0a3826cdf59623ebce9d0d3c98edf7fc9685c51c803e1717158665280ca226d5db567fada4ce25efa23cbea849ceb5aca4152d2b12b8b364a06e81e82b0d00aca627d78ac9755ed1526e434e358476326c2fb9163b8152e6ccf7a7ce1f5d1c586035b3104f656bbb5073c5e9e056f75ef229f0c71f526ae1303f2b47482f2787351f0d93c23a5695b6110f11387e9c1d2a64044038f05cab24af58fa333814485a78c63a7ce020fb59affc99469509cf46444c629f77cddf71ca0c2344a7416355eacb6caa9bc413cad93dec4814a40cd152c89da83a2cd00fe486b2211b13989706ee6bbd72692801d9bea85cf7c48b2bd4c7a14e5ace62a1f46108992da082285bdd7420d820112cbc8351de30e8001c7637e2546f1bc8308c37a16c9676fa6469f798e825100a4340d4cd7b6f4bd044556d01a55ae777f2d44b65b333a7e3ab1704707bf3431ad9cb260e03aba96b88fa4711dcdfb1c11ba14b764ecbbf8276c1e8a4e0d9ff57392e5130a1354d5049c8414e69bf8f6d32c64632a9303f2609da211944bf75b6ddc6fb89bd1438299ac647bb839716b5c7e2d1098948882fbc0810f1647b9ed3b146ae340fde71f7c65b4335e456394b660e3b404a82a30a3be25e7c974d103214a1c0fe9c795db09ef79a6401e8a16e47934da2b2f7162b453c1f2c3068e9cc90d56734465f87c080818184748b5c8be4bd575cd7174368a281eba04b84c1821eec626a910b8be3d935516cf21fcbc41c99ac0bc4c9572fbe59f0e6905c91b0f9738e231b66b260fb3ca523d1b75ec24ec73173547784c125523304ee86bb6c5125441a81b6507fc96fcae0e47778343ff7b238dddc7eea46941313011500f47e419325dfbc2fc3d7fb759a1ea5a415d4f12e2182a80599288eacef10f439275830327a9336a9233a6f46246671993ffedec6a343e2ef5b0b2cdb4b05198f4281ca43bd4c733d2f94671523ab83699bccec4be9c01b9456c3c5412704af92689f95a56cfe3508c93e4d8b5c7cc2c23a77bba6a7885cd8e06027d2ad663a359b6f043ff390a4c289057211e2329adc86949ee079c3a0404486f82aee1290805d667f2c73e35aee01796d41d44795bd4cf2bc66f157b747486ace15075ee184528a48059dfd5c12f63ddf34a3421dc2f020bca408169dab7971edd4b6f3c30f0813daa27dc70d9956c799bc78c3a6f43b00db46892a361862745ee1ea9fc83b0707f105924b6f6dc3dac5640d014d577fe2665a64fa5bc46e9c4a8e73e40b26d31e6a82250364a86ffd8b96f3c64666c9a381168131bf98d6dabaa1ef552ce8f891f9de7b854252afa9998504303e35137be059761e9f2e152984638cb02943cae32e0ea68aa983bcc7b963043ab7c4267688f94e499da9809e180218391d0c9a4dbc086a13cba19f053ac720f42a589fa585e5a5a80cf05f173819a64ad92d6b58504da8c80883a6263d086f114712cd13a44dda856316e35c0be37b98a3b1f9b53aa8082d97c2b4c73734d30a864d4c64b670e8b52dcb786c56c2180c7d60bf9786ea60a0484dd167573d724e5d1d7d56673de9a04b4da6cde76f6aec7b99a6b8906f03cf16b1d2b40dec94b4c2bb143cc4cb94cecf32be5a174bebebe87cc2eb7fa52ee63212bc785f54b7a084d4771d5b174d20664ba0ca6cf42a596f2f83315e4dbd933ac28fd4d3df823ab6c1ac89f5d0fee1bac2480900583d2adc0ec1adc2459a909741ef53a65d072c4d064500bcffde79b194ee7772de207229a02d43f43153026f96d8fefa1284b42f8f9af62eb758ca8c9d83ce4d332d1d3ef802e58a0988cc729aa921f56886d8ac900ea3e4ad1601f7294cb25ea19d12cdc71d52676f843b9446da7eaaf1f8377cdc2f0bd6d7e70b13f31b93b09596f51e58334cb8d9a300baeb75fe5cb9a9305496dfd95a76a652fd543f452b23dfc6b302d9a2d3fa7640234b7a59f76434f86104c4c4064cdac260110b2bc64ac252c1c198758f51d1d79fd86028a57e8e67ba164144fd75cd89616ec90a12bd40e842d5835708984efce3111816d1f327d8c1b0c72726df32c8186ae81014f6c6358aa5691649162327eca6921ac64d92b91213e7d203baa1a5bcee93aefebf6a1a2f767adaf47d923a95efb78781c389e909f2c61e04dfeba868070d9ea649b4ec45e4cfb9d553fd5fefc939a8879fa45f17e61bfeedfe029f36d6e7b86a48f0fc03f2697a19763d796b2f7f66a602df95888b38bd7d4cb504592822289fc934ae9e5e7ecbc48e53788908d8a6edc80127490cd4eb72a86ef3a53949579d041c6235c43e904391739445f7ca64d69ee74b17b0d63f04353cd0da38222b4acc1c752eec20623f64dfdd508751a74abfb2e7b8ded153d3da39517e21c1d77aafc9cb070607078255ac731b49f5adb069dea561bf0432ce85f3b7bccd091c93eb1aa6b85ef1a4ea55f4636d1f31f60a0f1c5bc1707d2d5a308d1354e4d91100c1370b278939338427c45737282cb6d358e8d57b2ba80ecfb7bee476eaded0c614546ecd008fdb5434bfb9c096080075e9831346404501d516949a2340fb40d5ab9736f8e31c52bf0c89b83a5a124095389cb83ae2bd00cc0bdae9503d6921fdcc5943f81146f5fcef5369944385c6f7bc1cc0316f0aa31a750f6dd89536dbd25eeecf36c5fd7b0bd3f8be89c5204bb7e37f672da6213914ad51ce47eba5b2512eaf50f4affa0cd3d864cf8f23c621a27f5b4954716284e68aaa8ad236745a67ffba954ad516dbbf1b0fccc0d4bdd74b510ffdf7633183853a1ff829e2c10fdcdee441c3dff7c7b7ff1e1082a37195c7ad721686179bba4da348b842281b305df1d1d669afe7c6006867c4da5f8688a7f1ec66e3265da41665149070115d33b73e09b21ee9ba68492a43ef7f78a8fd69188bfdab0545404882f4fda29e5a9405c40118c49b790834555b0fc8a4277d7fe78103a1902da1d468c9f2a50cc19852d4a1f0c0dcbe8248c94d9fce2052984ebf5180ea69c5f9fb3eb1711c5a5d3577825cc083b633ec5f9977277d00678895186b1fd6943b96dca4e4cdda19629e347458479eb46622cbec6ac614a8f986dee55a93ace91c3cac4463fe1614fc35aee09212ae54b3dd64eb9c5320090e70677f4d873123b161fd5d3d43c1fbf6b7bdd15636b3c8c23342136b31b19a4bc0cf61713d1c601f60ea07217d97ef078a6e8dc01ace4c33c740c7ed9dbf57f3904bd355ac32983cd6609dc46d77c3ebfc76f97095fb881a766d50dd14c32c9e490b770042884aa7ec9c8f9427ef23a717806a7263ff0a677581fb8ba3364956dfccca30e616339ccae754b1b9b0680c6c7a842c66e5054323fd05a9519689206124d37d38c172c3b069b6caa5e19213e4c9c1b57a8f07615c06e01777574649fe3e2f148b8ee00eaf0232b16ed81b6ac0946dd5bd7026e18aa5f1ecd9e442aef7a2fa4708fa2e728fc32b2a2eedc46514164b639f1261880e34beca8b4d397f8cbd050dd0f8a22f3b6854ce53db823f44132d2564f760636a4fe3b9008e5afa2cc82dbed178ea06d612b570fafb7fde36566e3faf4811ddd8f2479aecb23e4632bab456dd3133713f6ac55129360fb09e4b8601918b76f4ac76605c281cf139f27b215fa196519af96f894b7983b8c23c54b200f321d2d7c747679b6a7bc4ff8f189db893e14c5ec646a97d1dee1cb612019d08d8a9603582c46f47ed5446102a09cac865383ef1e9628234c548b9f6eaf6ad617e7927308349cd9808521f097369d6900ea438588410530f9b865e0b1884e213334492903c730088981fc2832ccb1ad9b618e96ad24d011f76825320d0e05dc09a29a89887dbac34865351de189c96218eaee18c74ee0b0d979766b8d438a2e2b01f6672d66539e05f4caaf2c89029b3d9c05779bb51467f89bd4fbaca7df5fdd0470a16dfbffe249e4e5650648aad62c78d2753adab61f0b2e1ef830304f0405ebc9afa7bd5ea04331fe4d8016e417dfd797796e59d2c8ffd2da12380e7e896d0112e68e6c69d5412a77a4b95d9493503ab71a623493d4b4440f1976ffcf0e115776d6042a4ce6b159b7348bf85f81a5e5c2c5e3213778f844bf66373ddb4e8f1a09e4ec34762cc39a2d9b20db30fcf1b87519a84717c4fa9efe0e0f74cd2f1b4e37083e613639247be238497690f0abb1ee153f423418954329416e06f5d3ac2cd58ab347bbd1cfdbfc6c939243adde89ca0fc2f0a2bda9268151ee7e54b322f55614bef112464f9fea5ed494667ed4a6330cd0186c8a1e10aa7493706a97dae2d36da8b8c183b0876f5196740fd6ca191f602157a390541f2b1ad95773f200c5be5f2f44e4f71069ae3cae9c05822c0b491303a1e4b8f888d679fe87c782d266e5d8e8d43f4920b0ecf2c9b0d772e2c89ca4a85bca7f91e8256c00ea602a2ae6db36552a70c79e85d942c8d54a62f64467de88c680b32437c31d5fef7e4276b1c67173d91ffd4c968831a7aa9e567507e5a5a7a9b1b5ec860e15939831788d9647887a6409936659e086c8f1af9d24c10c1d7fe73cbee1fb361ee8ada94542d6bcca0cea41912a1cecd8ac6ffe0f5cd4c9417c45baf28b0b7d4780167d9d30d75b5ecc2817a13b8f7a006869620be389e859e06906e452aaaef761a826acce02e095eb000d3277605f896a110f1c6c51f0691494b1d4f1556b51304c02a48ab5abbae22b3d865e1e9ab942122b61c8754e736f5e49b182fafe97fb4b3ac8c0cca919bac01ca9eb3260521dd58b95bfe1358c68e1978b2207200d76c90fcad34f023e86732bfeaca7c4cb9e2a344111900596581a7c8ae1751582fd84547a1a3a2e793aa26c497e79449a7c0b8efda1d830da84d6393aa0a71840af925c9c902006c68af697801ee543e2b0903a0cef9b99e33301e61b91bfeef892113688ec618e099f09971420e716a0de5e0408cd03085a3488d170d913eb20d7a12c4e12a1b849d6dc127ad40c94a260f8df9ca6d87039df1c635282d896cabf4cb527d5f7f45b7582f53a750771f87b3accd50e20067bfbaa22323198649b9e59a0807dcce86cd14cde2c7220a21cf790170c9d9711706ab4bfffb4cd19a58e773aa150a2248326685dc384226f28949f5bfb5e05a4e92da0a0c30f5b2d6c99b14a58379627bce5dff604d09545ab59c04b992b9c18dac12ecef0936ec2575dfd3d1d026786f2ccb8cf94cf0303d2aefa117b015943b3c860a57b89e666449c531d1873fde62630fdbbc7e04fa2c9d8cd002e475601d0151d3f9bfbeb44ce147feccdb36de0ee7fbd65d9aa8e3bc9b082690e75e29a6471b8884fda2d6b0a999e367ee8b072e2f0753bed6baa7ca6899f116f1d30bc8698183df86747281ecd263fa364dcbf623502cd15b97b555dec0945b6a5a313d786a66f188f37604ed9d7144970497600c396364c33e633f8f12c8b56122d80357bfb06e7e984b94c76e047a35666e20b0f2bb503542f2fee6afbb03f9a7be9e15445ba16b8e11f51eb299cad26258f0e22dddf9ed0f181058d89e13b0bcdace9b4ac9728c3e2e88f14e610bd9c9f53ff9aaee7fa25c8fc0be0f9798f8d1d7d4622f509e35f949f4b562bd1acf0c865874638b3759e298641f5d288904583c06605886224a73d4fe0c5a4430000d82a984ff1ad99c5cd96a63f37f2185fd88fa07d73680f7c1dc005eb82d1a65091e36482ddcbc158a6f33960084bb7dbd8fe2613df27c8fe9e28d594363aca8c5323663cf9bd722ccde4c2fe0ce316646e6ae157ee914f7f2bdd56eb75d3e4a0a29b892826fbe8323b5edd2c9dc64b832a8e890ac9603c7f2530fa892825a38830c3c08abbe98c6f5a780a84788cf0cff43fb91629de459aecdae6ac3c30162a8feb38c9e26986f88de1dffbc67668a5b047b8cff931242a9e891fea92cd23f148fd2925733fbe43d04101430976b0348f434a78880a58c60a8902b60004f06ddab809fb8a9a6dcf70dd4d5ccc51b9cfdaadcd86a7b2fb98fbf6ee68366c7951919561b5cfe642608b975311a3f0bf2cf2f562cbe84c7d3b29145aa170dfdcae256246974819bbbbfc0f1debd4ec7ef05242eb8c94318281f22600ea12c8da8f1db87bd1c7fb0d2879cbd420aee23c6c322b2858722caff91c741fc80ec05d37d6827d40324b8506016068cec89ac48e037fa1e202b1a8f52f5694d23a3012049a043fb2a0c812167314798d485340f7bae19dc1eba5f7719d17f7eab181f85d247945f827407bb984469581140b56c58848b2ddb255d0d67643981819e380953e940d10d97c2709bfc6e99e675454e870b50729edfb675ee2df47b9d08e4372cde702487d023a928d70eca60c5b85c423c72b73760b97a1d44f01d93ee6616f4cc635c80c8d429a50de440034ee48543540de1f4f4c60f6161781044bb4974b59120f7eecaeb18d6b1fff832880dd1908a5a3e76c62be03fb0251709702ca6d36e1cef3ef5fa1085e1969894d382734c77b2cfbcf3e45c6699c11f1c42e9a58a803d8e7363c94c86219dc71285755434a83a8e058a58676c1de266d0e5add3f4cb36ce7d625aa4c6ebff828dbb9e703489b4ec85465ec4081e76aac221041fc1fa7c9287d943a7adb88fbc935a691cc12be7c03911b35589b4ba8cae0317b718de41f97fbd1eadab5f6e6ee9deb3b54512d364dfdf175fa2941ddf9cbde70c18c046c7d9afdaff4aa0728215a1f4739cffd0633e8fb59e89b518ab1479dca30e896213dbc47c8365d70cbc2fa69774e448519cadae3708b274db7fa5fda53523fcfdc98bba407a41e1a77874a95371834825956fb83663d7c514b7f2023870d6e5e2649fc80bb5f12c7ab0811fa5828e8e7480008552511611adcdbd38cb958d3b482db361ef13b347f64afcf49e9ecc6744960bc349a61312d5ada8cea52a0c6b10b3356690df6dba4d8bf38f222f2559c49077903841bbe61d8ce068681a14862de7684810c4e24d0b75c0ab098138b57fd106ffc7ea6efd55719fb54bde955c8f9a55c62c3983a18a422aa88550f52d1d490bf6b907135c1582e937d2a211417cb16f9ca513b1c0485f8776ddad0bab24c77412da8844a88ecaa54ef237f83dae6e8fe1655d061f7464e64a944408041a6f26701d8db36ee61eeaf91a931d19fca2a36225d84562b36ae323506f903993617726bc177f31316162b4e7afa3b011d45ba1c4be46063f488b7e5c676bf3f934aa06041c4f0bc66c362a5730d238dbe61d1179fffc46c2206a22f3ce2ecc5371c63cfafae9f880dc8b96d457896974bba7664b4a63f7e281a4b530b6760d1bcd3ca3f6a7657360721e33c1c9dffb8e8e031d516d74907a0a3a01a10d543a089fdd122f16633f8ed4c5b98cad63e1369da5cd948a58d08cad8264a59e32ceab2ca5d0bc2e7ce633010148108afdf4e9089dfc29b0659b43330b22b7506f3baa6c0cc432ec66d7e4866ed532406363cba6a1b3b9f5271774f352110fb41202720ae6edb394ce014526653488b5506ffa83ac3113ba6bf8aebdd4250760ff8cedfbb6c191a9eb52b90228201fe50f2f08be0bb5d8f261fe139ea6bcf12b10261ca09c1e0517360a9ff2bfdb12e03b70200854f26a52db610f2f4692e13e8443c91476594f393a79eb4559d76ec47fe6c0493d9f507c9dfd0f6cb124d916d1765b0a5c0da5582c8226be1816cc73dcc871d950348db89eaf28b29c43c8cd3aa1a723a880370c0d1f4bcac234b5a4775ddf52d61ca5e253b1a4f4408295670d8c1f371d05a7bfd0f16c97e050ad36c01b8443d35b3c08ec25432009b163fb78306ea5897e38a74405fd8bfd65ea4ede113cb6cf154d614088bc05fadfec2b1d1c045677b6c2bd2526765c0948b659a392611f323ff84753f833d2af0c8ea83df97345e3e8b83f66aa2b174c1a6f49e9e4af78c3b40d672b965ae587efeda886edca8cce91aa703a8863502f0da469bec88712dd7592ed68665ed9f749bcf3d44b0b943feed7862cf0490836406b35e4666a9add890a3f6901a8ebb407acac83fe7ca954252653fb088acb74f2a2f5ae2c17dc671bfb9317b087648ee573fc123f8fe4227fb3991ac389c0e8e4483a69828de94f34238408a38c9e471635733c88a1ca46ee07acd5d1f7c9aedf48a9270fc66262038628f08cf438de94af10391aac6f38de55161f90847cb9d32b7dae7a8fbd765ab69e412708fcd90c2b1e4e573bf2cf76301b7f27fa447f48350ff1489420475d107d121820e047279d2dda2a08f157338defca7ea75800688087e4afaea74ccc3fec3160e5f95cd11b5c791a924af8da8a09749c0591afc4da72edb76c054264ccc901ebe0acf508e1848b15ed7d8f4d882f47887c4dbdcf3f871406eb3ae270b194ca29ea5146df7d0e4ba809bc367d42dfbf3688e77db690c71fdca66020b1269c75473737235d27f234c89cb0f60e761a76e8692bc3e1a09847ba659d240911ad65f2422d7951375200cd8d0f598484e80fbd2b75c6b0546c68ee4110f134edca7c3620ffeff081b4ec700e85a2e1aca0fe8cea0b70062b96ad71aed3f820500704fb5e8cd8af0d577c4a8a3910dc85b809dac0841a7003518d351930bf64f1adcde28bca4a0b212046431a2b07a9fe340f42c3570745698db5c2a8fd5cab4c0952cbf33d5d8e352bd1533892ec9a7ab74ab1b4f201492532f5a86c9ffc9dfdae3105da1acf578e123232a0664d8645913dd34ed2b19a55667bfab4d4b875f662933535b0b2a9978aca27d3c6511739c2fdb61812babe5df5868a64011c19a957228766b3a25f3c1f6acda1e397d9ec6d32877806cba22d1b32545888771dda1343b5e9a72dbe2d7b7b7c79fa0bd33ff97bcc012775c62cb315fdbed45a1e27a10a4f074b6f4e78bcb094fc26c70fbc21cd26e0875a89c1467d8da0da78fcc8dbfedfcd6b8187de9ef9bd1dd1071158ef7471447fb51720dc0f6d119718128923e06464660ffb921561e543889228237ad45ec551c6c03edd282ffc2cc4d17575129fba6ac8a33259ddc4f51668bc1c37813bec5b024f3116182a00e321f026091cc6cbcb26434e791573c5f8c2dfce891a104937ff8a2bb54537aa453851930a604f5fc4a361bb5de308ab67e924158de56b394dd00a81d358c00a860f17d2156c1d630bbba11d2495c32eeb6b461d2fa44a7dfba0db34e574ba4310bad1990e660597ebb7d0d09428340144056b14de033d8421919357deadac59320dbfac75c556c4055167381f93be8ba901a242fc818283455779c9ca68a4ed208373240a2104e97a45650d55f1fd3b786a79c6d4f05b385ec67ca156d0730afb89e73d004740f337607a7411f5cbcd9c1b9287bff52b29d8ad10cf9c12fe7c89ad72f79442dc55ef6ce255b805fdb115fa522fb84e1c5949b6e29e33ad63ef41265081e42f10762337e5eb2d93e5c0e43d468684a1bc26f9991e926f49873c5ac52548745a2af0a33152257087b915445771ccd5a4a4432e6866a769552dc22264d5881f3346dc93394e00636edf49cc8355918cd2c8fc1981ebce0fa445915b2247fe72356572562f4a925429a529d5d7a500019ece3ce602168447d6d3c5c7e842cc25faa15959e792e4eb20594300c49a45567161f07f4d7102afc1741637a8142d44fa697532b885c816fdf47f4265e64fe06068cdb6e48d3dff782b58e23ad21284c6b2cdbc6aa9af0a0b34829b36f8dc2e630fbdf0263186c3e40fb46d3734bc53e40610c7a5769314ffcb9beac2c43fe6c650215e1111f1608eb4a2ebe9c5497a3ff46bdb4c79fcbfbb636c6456ca79ad8e0d071adf809c0215a5296c3fe44a19d246c17ba0723da6eab51fe91bf4cf487d3c47766d57f26655fedf0818a595f08114daff128e6df8696caf4f29b1fcb3eeebc0160507b3</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">当前文章暂不对外可见，请输入访问密码后查看！</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UV集检查修复工具</title>
      <link href="/56425/"/>
      <url>/56425/</url>
      
        <content type="html"><![CDATA[<h2 id="UV集修复工具"><a href="#UV集修复工具" class="headerlink" title="UV集修复工具"></a>UV集修复工具</h2><p>功能简单，都写在按钮上了，不做介绍，如遇报错请联系我。</p><h3 id="界面："><a href="#界面：" class="headerlink" title="界面："></a>界面：</h3><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240121175452264.png" alt="image-20240121175452264"></p><h3 id="MEL源码："><a href="#MEL源码：" class="headerlink" title="MEL源码："></a>MEL源码：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line">//UV集检查修改工具//</span><br><span class="line">// 作者：三岁豆 , 创建日期 2024.01.13  V 1.0//</span><br><span class="line"></span><br><span class="line">// 创建窗口 判断UVToolWindow是否存在</span><br><span class="line">if (`window -exists uvToolWindow`) </span><br><span class="line">    deleteUI uvToolWindow;</span><br><span class="line">window -title &quot;三岁豆Er&quot; </span><br><span class="line">-sizeable false</span><br><span class="line">uvToolWindow;</span><br><span class="line"></span><br><span class="line">// 窗口布局</span><br><span class="line">columnLayout  -columnAttach &quot;both&quot; 10 -rowSpacing 5 -columnWidth 230;</span><br><span class="line">int $buttonHeight = 30;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//窗口内容</span><br><span class="line">text -h 50 -label &quot;UV集检查修改工具&quot;;</span><br><span class="line">button -label &quot;选中具有多个UV集的模型&quot; -height $buttonHeight -command &quot;selectMultipleUVSetsModels&quot;;</span><br><span class="line">button -label &quot;选中UV集不为map1的模型&quot; -height $buttonHeight -command &quot;selectNonDefaultUVModels&quot;;</span><br><span class="line">button -label &quot;删除多余的UV集&quot; -height $buttonHeight -command &quot;deleteExtraUVSets&quot;;</span><br><span class="line">button -label &quot;重命名默认UV集为map1&quot; -height $buttonHeight -command &quot;renameFirstUVSetToMap1&quot;;</span><br><span class="line">text  -h 5 -label&quot;&quot;;</span><br><span class="line"></span><br><span class="line">//显示窗口</span><br><span class="line">showWindow uvToolWindow;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 选中具有多个UV集的对象</span><br><span class="line">global proc selectMultipleUVSetsModels() &#123;</span><br><span class="line">    select -cl;</span><br><span class="line">    string $allModels[] = `ls -g`;</span><br><span class="line">    string $model;</span><br><span class="line">    int $foundModels = 0;</span><br><span class="line"></span><br><span class="line">    for ($model in $allModels) &#123;</span><br><span class="line">        string $uvSets[] = `polyUVSet -q -allUVSets $model`;</span><br><span class="line">        if (size($uvSets) &gt; 1) &#123;</span><br><span class="line">            select -add $model;</span><br><span class="line">            $foundModels++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if ($foundModels == 0) &#123;</span><br><span class="line">        confirmDialog -title &quot;提示&quot; -message &quot;\n在当前场景中未找到具有多个UV集的模型!\n&quot; -button &quot;确定&quot; -defaultButton &quot;确定&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 选中UV集不为map1的模型</span><br><span class="line">global proc selectNonDefaultUVModels() &#123;</span><br><span class="line">    select -cl;</span><br><span class="line">    string $allModels[] = `ls -g`;</span><br><span class="line">    string $model;</span><br><span class="line">    int $foundModels = 0;</span><br><span class="line"></span><br><span class="line">    for ($model in $allModels) &#123;</span><br><span class="line">        string $currentUVSets[] = `polyUVSet -q -currentUVSet $model`;</span><br><span class="line">        if (size($currentUVSets) &gt; 0 &amp;&amp; $currentUVSets[0] != &quot;map1&quot;) &#123;</span><br><span class="line">            select -add $model;</span><br><span class="line">            $foundModels++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if ($foundModels == 0) &#123;</span><br><span class="line">        confirmDialog </span><br><span class="line">        -title &quot;提示&quot; </span><br><span class="line">        -message &quot;\n在当前场景中未找到默认UV集名称非 map1 的模型！\n&quot; </span><br><span class="line">        -button &quot;确定&quot; </span><br><span class="line">        -defaultButton &quot;确定&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 删除多余的UV集</span><br><span class="line">global proc deleteExtraUVSets() &#123;</span><br><span class="line">    string $selectedModels[] = `ls -sl -dag -ni -type mesh`;</span><br><span class="line">    if(size($selectedModels) == 0)&#123;</span><br><span class="line">            confirmDialog </span><br><span class="line">            -title &quot;提示&quot; </span><br><span class="line">            -message &quot;\n您还没有选中模型或选中的不是多边形!\n&quot; </span><br><span class="line">            -button &quot;确定&quot; </span><br><span class="line">            -defaultButton &quot;确定&quot;;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string $model;</span><br><span class="line">    for ($model in $selectedModels) &#123;</span><br><span class="line">        string $uvSets[] = `polyUVSet -q -allUVSets $model`;</span><br><span class="line"></span><br><span class="line">        if(size($uvSets) &lt;= 1) &#123;</span><br><span class="line">            confirmDialog </span><br><span class="line">            -title &quot;提示&quot; </span><br><span class="line">            -message &quot;\n您当前选中的模型仅有一个UV集\n&quot; </span><br><span class="line">            -button &quot;确定&quot; </span><br><span class="line">            -defaultButton &quot;确定&quot;;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        string $uvSet;</span><br><span class="line">        for ($uvSet in $uvSets) &#123;</span><br><span class="line">            if ($uvSet != &quot;map1&quot;) &#123;</span><br><span class="line">                print (&quot;正在删除 &quot; + $model + &quot; 的UV集:&quot; + $uvSet + &quot;\n&quot;);</span><br><span class="line">                polyUVSet -delete -uvSet $uvSet $model;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    print &quot;三岁豆Er:删除多余UV集成功!\n&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 重命名默认UV集为map1</span><br><span class="line">global proc renameFirstUVSetToMap1() &#123;</span><br><span class="line">    string $selectedObjects[] = `ls -sl -dag -ni -type mesh`;</span><br><span class="line">    if(size($selectedObjects) == 0)&#123;</span><br><span class="line">        confirmDialog </span><br><span class="line">        -title &quot;提示&quot; </span><br><span class="line">        -message &quot;\n您还没有选中模型或选中的不是多边形!\n&quot; </span><br><span class="line">        -button &quot;确定&quot; </span><br><span class="line">        -defaultButton &quot;确定&quot;;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string $object;</span><br><span class="line">    for ($object in $selectedObjects) &#123;</span><br><span class="line">        string $uvSets[] = `polyUVSet -q -allUVSets $object`;</span><br><span class="line">        if (size($uvSets) &gt; 0) &#123;</span><br><span class="line">            string $firstUVSet = $uvSets[0];</span><br><span class="line">            if ($firstUVSet != &quot;map1&quot;) &#123;</span><br><span class="line">                polyUVSet -rename -newUVSet &quot;map1&quot; -uvSet $firstUVSet $object;</span><br><span class="line">                print (&quot;已将 &quot; + $object + &quot; 的默认UV集重命名为 &#x27;map1&#x27;\n&quot;);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                print ($object + &quot; 的第一个 UV 集已经是 &#x27;map1&#x27;。\n&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            print ($object + &quot; 没有 UV 集。\n&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    print &quot;三岁豆Er!重命名默认UV集成功!\n&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Mel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>鼠标右键发送到</title>
      <link href="/45700/"/>
      <url>/45700/</url>
      
        <content type="html"><![CDATA[<h1 id="发送到"><a href="#发送到" class="headerlink" title="发送到"></a>发送到</h1><p>我们使用Windows管理文件中，鼠标右键里面有个发送到，发送到桌面快捷方式很好用</p><p>里面固定的有几个选项，传真、文档、桌面快捷方式……</p><p>如果我们想要自定义一个目录进行发送文件该怎么弄呢？</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231227205205283.png" alt="image-20231227205205283"></p><h3 id="添加发送到文件夹的选项"><a href="#添加发送到文件夹的选项" class="headerlink" title="添加发送到文件夹的选项"></a>添加发送到文件夹的选项</h3><p>Win+R 打开运行对话框</p><p>输入以下内容，回车。</p><p>会打开一个目录，在此目录下新建一个快捷方式，目标指向你想要自定义的文件夹。</p><p>就可以在鼠标右键找到你自定义的文件夹啦。</p><p>切记现在是相当于发送当前选中文件到指定文件夹，也就是拷贝了一份给这个指定的文件夹。</p><p>如果您的目的已经达到了，那么您就看到这里就可以了</p><p>如果您想像发送到桌面快捷方式一样发送这个文件的快捷方式到指定目录请继续往下看。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell:sendto</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231227211301001.png" alt="image-20231227211301001"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231227212716479.png" alt="image-20231227212716479"></p><h3 id="发送到指定文件夹快捷方式"><a href="#发送到指定文件夹快捷方式" class="headerlink" title="发送到指定文件夹快捷方式"></a>发送到指定文件夹快捷方式</h3><h4 id="第一步-新建VB脚本"><a href="#第一步-新建VB脚本" class="headerlink" title="第一步 新建VB脚本"></a>第一步 新建VB脚本</h4><p>在你指定的目录下新建文本文档，将以下代码存储到文本文档中，</p><p>需要修改的内容就是第四句代码引号中的内容</p><p>“E:\测试\“修改为你自己想要存放快捷方式的目录，一定要以“ \ ”结尾。</p><p>重点！！</p><p>不要直接保存，按快捷键Ctrl+Shift+S另存为</p><p>另存为名称随意，编码格式一定要选择ANSI 否则会报错，默认保存的话是UTF-8</p><p>然后将文件后缀.txt修改为.vbs</p><figure class="highlight vbs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Set</span> unNamedArguments = WScript.Arguments.UnNamed </span><br><span class="line"><span class="keyword">set</span> WshShell = WScript.<span class="built_in">CreateObject</span>(<span class="string">&quot;WScript.Shell&quot;</span>) </span><br><span class="line"><span class="keyword">Set</span> objFSO = <span class="built_in">CreateObject</span>(<span class="string">&quot;Scripting.FileSystemObject&quot;</span>) </span><br><span class="line">strFolder = <span class="string">&quot;E:\测试\&quot;</span></span><br><span class="line"><span class="keyword">for</span> count = <span class="number">0</span> <span class="keyword">to</span> wscript.arguments.count<span class="number">-1</span> <span class="keyword">Step</span> <span class="number">1</span> </span><br><span class="line">    filename = unNamedArguments.Item(count) </span><br><span class="line">    <span class="keyword">Set</span> objFile = objFSO.GetFile(filename)  </span><br><span class="line"><span class="keyword">set</span> oShellLink = WshShell.CreateShortcut(strFolder &amp; objFSO.GetFileName(filename)&amp; <span class="string">&quot;.lnk&quot;</span>) </span><br><span class="line">    oShellLink.TargetPath = filename </span><br><span class="line">    oShellLink.WindowStyle = <span class="number">1</span> </span><br><span class="line">    oShellLink.WorkingDirectory = objFSO.GetParentFolderName(filename) </span><br><span class="line">    oShellLink.Save  </span><br><span class="line"><span class="keyword">NEXT</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231227214806936.png" alt="image-20231227214806936"></p><h4 id="第二步-将当前的VB脚本发送到shell-sendto目录"><a href="#第二步-将当前的VB脚本发送到shell-sendto目录" class="headerlink" title="第二步 将当前的VB脚本发送到shell:sendto目录"></a>第二步 将当前的VB脚本发送到shell:sendto目录</h4><p>将你新建好的VB脚本的快捷方式发送到你的shell:sendto目录。</p><p>快捷方式的命名可以随意。</p><p>自此结束，就可以把你选中的文件快捷发送到你自定义的目录下面了。</p><h4 id="补充："><a href="#补充：" class="headerlink" title="补充："></a>补充：</h4><p>如果你觉得VBS脚本的图标不好看，可以修改shell:sendto目录下的VBS快捷方式的图标</p><p>在文件名最前面加上“..”，可以让你的文件顺序达到最高。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PixPin</title>
      <link href="/21735/"/>
      <url>/21735/</url>
      
        <content type="html"><![CDATA[<h1 id="PixPin"><a href="#PixPin" class="headerlink" title="PixPin"></a>PixPin</h1><p>PixPin是一款功能强大的截图&#x2F;贴图工具。</p><p>其实按照我的理解，就是Snipaste的一个加强版。</p><p>功能比Snipaste多一些，比如本地OCR，截长图，录制GIF等。</p><p>主要是Snipaste已经好久不更新了，估计也不会有更新了。这个是作者还在做一些新功能。可以体验一下。</p><p>PixPin官网：<a href="https://pixpinapp.com/">https://pixpinapp.com/</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231206211708987.png" alt="image-20231206211708987"></p><h1 id="Snipaste"><a href="#Snipaste" class="headerlink" title="Snipaste"></a>Snipaste</h1><p>Snipaste官网：<a href="https://zh.snipaste.com/">https://zh.snipaste.com/</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231206211629395.png" alt="image-20231206211629395"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vray 在线资源库无法正常打开</title>
      <link href="/39509/"/>
      <url>/39509/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231203164351435.png" alt="image-20231203164351435"></p><h3 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h3><p>首先在浏览器打开以下网址</p><p><a href="https://cosmos.chaos.com/">https://cosmos.chaos.com/</a></p><p>如果能打开以上网址，正常访问</p><p>那就进行第二步</p><p>如果无法正常访问，测试不同浏览器是否能正常访问。</p><p>检查DNS 是否正常，防火墙是否拦截。</p><h3 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h3><p>下载最新的 Chaos Cosmos Browser</p><p><a href="https://download.chaos.com/cn?platform=47&product=62">https://download.chaos.com/cn?platform=47&amp;product=62</a></p><p>关闭Maya安装下载的Chaos Cosmos Browser</p><p>启动Maya即可解决。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231203163311874.png" alt="image-20231203163311874"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mel </tag>
            
            <tag> Vray </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/25656/"/>
      <url>/25656/</url>
      
        <content type="html"><![CDATA[<h2 id="遇到问题"><a href="#遇到问题" class="headerlink" title="遇到问题"></a>遇到问题</h2><p>很不幸，我的Adobe Photoshop 2024遇到了这个非正版提示</p><p>原因很简单，Adobe不知道在什么时候加入了联网检测盗版，打击盗版的功能。</p><p>但是这个是基于你挂了梯子才会导致Adobe链接了他的服务器，检测到您安装的盗版。</p><p>如果您也很不幸，遇到了这个问题，请看下去！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/Snipaste_2023-11-19_20-17-55.png"></p><h2 id="寻求解决方法"><a href="#寻求解决方法" class="headerlink" title="寻求解决方法"></a>寻求解决方法</h2><p>前期我百度了很多方法，有修改host文件达到阻断Adobe链接服务器的，也有通过防火墙阻断PS联网检测的。</p><p>前面也说过，挂梯子是一种特殊的联网方式，挂梯子的软件不同联网方式也不同。</p><p>也就意味着可能会让Adobe偷偷通过梯子的联网方式跑出去检测到您的盗版软件。</p><h3 id="修改host文件的方法"><a href="#修改host文件的方法" class="headerlink" title="修改host文件的方法"></a>修改host文件的方法</h3><p>将以下代码添加到 C:\Windows\System32\drivers\etc文件夹下的host文件里面（用记事本打开即可）</p><p>如遇没用权限保存文件什么的问题，自行百度。</p><p>我是没用通过这个方法解决，如果您没用挂梯子的需求可以试一试。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 ic.adobe.io</span><br><span class="line">127.0.0.1 *.adobe.io</span><br><span class="line">127.0.0.1 *.adobe.com</span><br><span class="line">127.0.0.1 lmlicenses.wip4.adobe.com</span><br><span class="line">127.0.0.1 lm.licenses.adobe.com</span><br><span class="line">127.0.0.1 na2m-pr.licenses.adobe.com</span><br><span class="line">127.0.0.1 practivate.adobe.com</span><br><span class="line">127.0.0.1 activate.adobe.com</span><br><span class="line">127.0.0.1 ereg.adobe.com</span><br><span class="line">127.0.0.1 activate.wip3.adobe.com</span><br><span class="line">127.0.0.1 wip.adobe.com</span><br><span class="line">127.0.0.1 wip3.adobe.com</span><br><span class="line">127.0.0.1 3dns-3.adobe.com</span><br><span class="line">127.0.0.1 3dns-2.adobe.com</span><br><span class="line">127.0.0.1 adobe-dns.adobe.com</span><br><span class="line">127.0.0.1 adobe-dns-2.adobe.com</span><br><span class="line">127.0.0.1 adobe-dns-3.adobe.com</span><br><span class="line">127.0.0.1 ereg.wip3.adobe.com</span><br><span class="line">127.0.0.1 activate-sea.adobe.com</span><br><span class="line">127.0.0.1 wwis-dubc1-vip60.adobe.com</span><br><span class="line">127.0.0.1 activate-sjc0.adobe.com</span><br><span class="line">127.0.0.1 hl2rcv.adobe.com</span><br><span class="line">127.0.0.1 ims-na1-prprod.adobelogin.com</span><br><span class="line">127.0.0.1 na4r.services.adobe.com</span><br><span class="line">127.0.0.1 na1r.services.adobe.com</span><br></pre></td></tr></table></figure><h2 id="我的解决方案"><a href="#我的解决方案" class="headerlink" title="我的解决方案"></a>我的解决方案</h2><p>解决方法也很简单，就是阻断Adobe链接检测服务器</p><p>据我分析，我阻断了以下三个程序解决了该问题。</p><p>C:\Program Files\Adobe\Adobe Photoshop 2024\Adobe Crash Processor.exe<br>C:\Program Files\Adobe\Adobe Photoshop 2024\CRWindowsClientService.exe<br>C:\Program Files\Adobe\Adobe Photoshop 2024\Photoshop.exe</p><h4 id="火绒"><a href="#火绒" class="headerlink" title="火绒"></a>火绒</h4><p>可以通过火绒的 防护中心 → 系统防护 → 联网控制 → 添加规则  阻止以上三个程序联网即可解决</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/PSLW.png"></p><p>除了通过火绒阻止还可以用Windows10的防火墙禁止这三个程序出站联网。我没用试过有没有用。毕竟我已经用火绒解决了。</p><h3 id="2023年11月20日22-34-52更新："><a href="#2023年11月20日22-34-52更新：" class="headerlink" title="2023年11月20日22:34:52更新："></a>2023年11月20日22:34:52更新：</h3><p>如果您挂了梯子，还是会弹出警告，需要单独通过代理软件来屏蔽Adobe的域名</p><p>例：V2rayN</p><p>keyword:adobe（屏蔽包含”adobe“关键词的所有网址）</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231120223816116.png" alt="image"></p><p>祝君好运！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Ps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Adobe </tag>
            
            <tag> Ps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10 超级资源管理器 Clover</title>
      <link href="/8090/"/>
      <url>/8090/</url>
      
        <content type="html"><![CDATA[<h1 id="Clover"><a href="#Clover" class="headerlink" title="Clover"></a>Clover</h1><p>一款很古老的软件，现在已经不更新了</p><p>目前版本支持到Windows10</p><p>Clover 是 Windows Explorer 资源管理器的一个扩展，为其增加类似谷歌 Chrome 浏览器的多标签页功能</p><p>官网：<a href="http://cn.ejie.me/">http://cn.ejie.me/</a></p><h2 id="特别说明"><a href="#特别说明" class="headerlink" title="特别说明"></a>特别说明</h2><p>下载火绒会报毒，介意勿用！介意勿用！介意勿用！</p><p>我个人认为可能是内置了广告书签导致的，后续使用没发现有什么问题。</p><p>病毒名称：TrojanDownloader&#x2F;QiaoYa.d</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231118204756021.png" alt="image-20231118204756021"></p><p>哈勃查毒显示未发现风险 <a href="https://habo.qq.com/file/showdetail?pk=ADQGZF1qB2YIMVs6U2oHYQ==">腾讯哈勃分析系统</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231118205403786.png" alt="image-20231118205403786"></p><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><p>功能也很简单，就是可以像浏览器一样开很多标签，而不是像Win10分好多窗口。还有就是可以设置书签快速访问，也可以设置网页书签。很方便。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231118205823861.png" alt="image-20231118205823861"></p><h2 id="修改三叶草图标"><a href="#修改三叶草图标" class="headerlink" title="修改三叶草图标"></a>修改三叶草图标</h2><p>记一次更改任务栏三叶草图标问题</p><p>修改Clover的快捷方式图标，达到修改图标的目的</p><p>Clover默认安装快捷方式目录：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\ProgramData\Microsoft\Windows\Start Menu\Programs</span><br></pre></td></tr></table></figure><p>打开目录后寻找Clover的一个快捷方式，修改图标即可。</p><p>Windows图标路径：C:\Windows\System32\imageres.dll</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231118210208900.png" alt="image-20231118210208900"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>啥是ACES？</title>
      <link href="/45385/"/>
      <url>/45385/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="密码错误，请重试" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="85c90208feda1d4482483042a44928e8447bffc1dc20e509679af3c420ca7211">5560b822679e40d5171246821a336b3df26b4499cf4fb7b65cad23e9f424a1e1d4b1198a7f4bf76b739be88484d4aae09d475ca6ee07f834bae2601358c2938d7b5892da55f096575ee16550046e4f0f047c749de504e16a4019736b8e1c176f6c179faf6d8ed4b5210c5f072d5b0319ac60c4f204722e2a10b166b1603a4387fe2074c5d34a2f8888c17bc34dcd01cb3df0b8edd5313e4c779eead01f44c390c223e614f9233d9af6b39a3b6b773b49b073df52200e22e20afaed98922e14d7eee808dea8e31a5c0fece0c607943f01f6fc88ddd009e50a1e3000f217cfdc6f395d6881938e1934e001851c9b36937e59a62c11c461e6fa6f59fe5987d0f838a1e7af4d48ea73a04f3638d6b0682cc667f92b3f587b187d2a48bb1c3be9d870ac3577bb22b0a503e1ffa7f5146d55182be473ca4ec4b242652802606fe3d7bf14d758ab4c342623b3212feab97acbf13985e67b1d89409c8e3022df1861e5db4d28d4c2c374990ef58b1188f83058a7c052d1b678e79541434bda06771f426ffe938843955d67248e069337824af7183e92be8a5fb3dda2daa13ceb4d90c125a25f61b605088da17dd41300100562cbbdda645d786badb92781d8ad8bc15fed5b9f4007ecabf18f4830f0079065b49c0d8026056c4ee87074f6d9a3a56cc9a5d583594e541a942670d817307ae38290ed0fc438605180371ee48e9f70eb013da4287d2c6a21f220cbcb5cb0eaed9f9ea24ab7c0618ee6718f0063f36834e5cac6a680b28cd8108387901a34345026357e551953bdfbde0941c56ccd21365bc427a32bc94c868fbe75a716a9845d06783ddbe8507122756464c7ff4997114ea9cae476ea44fcebf0c76a78bb7c64170c33262fdbd6931a5a56316a3eb0656b2168cf31f41b77a65207e17220768066798d05f8dab68d8e297d96da72a37d955773f79fd97e9cab69dd3637e92ed92d8b9f9038bf22eb597e4ecdb4e745fffdf237156bf0ed45a9d00e2d4d223fc1933c6850157b153f535da1d0d2a94f03d5471f64e2955a9ebf2925ea8830fd7e14861d0ca15e451ba8b5c53bdfec98ab48d4c0aa73e269d1009265e77d69a1e66d631f97c631aadf904eb0474a79634e646d2a28e633821ec7b1b682cf4c3b735a80e848425f42d0d8f5d16a6c182c93ae5382928e422968ef7d371f203a482793171fd06e4760112362cee6622eb09c0b8b5117bb74d3c2ea37749592fe1a203a3d822acc79d27f0796bffff38bec21b133ef67190fdf067d494af666e26d6c0cd531981500a8494a14833e6f7676e011b83a1d7cb2ccc5b06be25b9468cc199ee9213913d0bc4305106a2f69c685b97df2331f96e96ea9363d76eeaae72dd1800b09dc44e00f6ab2240bcbbf52555d8ddaecb9ac20cd06526d78d3fc8853b6f01097b34b618ad8d4360f3247badb6d41214b146ae3a70bcd25b739d362cddfefc6a5abefb13aa3d10d428daebec0ca0b78cd447cb8e99973469b89ea0cc17cef4e3c6b65f1c02bcfb863d13e8739641a2f28d22cd522279afdf191e47d3bb4edcb322b7be28669d62bab9fd4858e46d12cfa60c8d89fc2fa6bf38c3eeea2d0258199472b2391e155392b0826bc09356e4c986575169743336859c3c05014ffc5237fade2b50e40b96c2b4c429f2cb172f8ba04c641f6babd712347cba6c9e1b6f6063845af91428f5b473e3839d7cade940790b9dea1228d33b6c582c0f2ea1224a5c8d9a4818bafab35917db68ddeed983f806a6dcbce3f8ff9465b79890463c4d2961f01510d7750d8292918dabea652b1842ab886840a3fac0f8a09d1832b65381ca47efa41d4ac9007c7d539cc9e6d47635ca2a67569967fbf7919471ccc51aeaf4ab9d276bb90b252d379fa482b72bc5d2388638f5a680319b2bd1ab4df9e05bc7178939c6dd5b151f1f42e2dd24daea9540884ef0776b0aca74f833a00bf0d7b53274169bf4bed7e4057b8095fb9ec991ec56a0ccbd4e53f69f691a91fa2b0c5ba68d9419d2127ebcf9e0fc139146d094bb05a9121a45213dd34b8886d1686f64817b431035c5f5151e8a16548a296ec2b32ee8a11d590a667703a69298476a4eb63e277bf7f819e1329728e4c95363617d5ace15e07c1192641338da3c402603a3ae33c77da75193a557b5169e876eb70f78d3e90093f53b6de1bbbe0fbe16175e65702998466281ce7aad30f51c00e653e9aa79169b63fd619abeb2efbf1511a1408f36786f401dd95d30a6dcd5a714f00f66104889f4b7b4883d724d8422f9c5f26a2dc1a2a353b2d8815ab3b49a5fecfb3c4e0d33401734025a6f92102418ab27fb8b5987616ece455f1d94e799a0f4203e8a67c73f3a36c420c41a1dd478ea2e9b9512e34ea508d64448b85cd9eb2c412b457a7bcaed63b8312a9795d35099a26a1068dfb90a5da9acbf0e11d8870af47cd1cdb6265d20f5cf20a12a9bef06e13ef1dec2634d448ae98dd2183ae2c61af0adc9daed0c7a3be0a353b7497edb833ea4e98cd46c117726351578ca27eaad1eebbfca53bac513c6dcedf38542427a4b0a187dce9c52801873ce19c5ffabfd2b8611ec3b0ca99ae556e8dff182fcdd42f71590911e0115c0cb8f0e622e2e8eade277d139b0cdda50c7b94cd398f43df4cdac205e9236123b1266cd91212ab83daa208326364e4f3f1f118b08ae43d8b88cdd3aae1ab6498f4e89d50190eca7dfe12fd1c1aa3411d5b38bb1a0e9bd57783119f889afc737c93413a4141fd51af7f452fa4b21fb6fa93649ab5da155bc00ce07d9f2a2e989213f563cb123747f71a9955fbd121b3d71d6a5fd833c93402e877ef76845845597bdc14c5318b5f1f31a437d82f3a78fa5b47ee9ac525fe2b65f7e78d309209efc199b55da3f4d06ca50f155d9ad2a4f948e9432771eab0f3535c856e6c5c5766df5734ec26643b5f15fb96685bd1992922a6c0d1f6a8405b03b49e963e86b08ea75074e48aaffebe389b3dd169edee4b5e5635b766d57903ee3d817c890747c560e52ea6dda9fee2600270d512a81769cfca55f03d59aa26fad4ca1a30e821c46a7fa8841659fdc3c99e1c2d9674feb766efa632a2892d36f9f2fa282abc5faef88faddd94de6b5fc6fa550772e64acbbaf179431a4f62bc873183525c0425ccfd7996f293c0bce88e534c5bb04fb5ade33f80c42c7f6547b94a6adddd7b207ab033c20a031c6ab0ea70749b01f9d151284cb7898933b4b87270d69733158a92ef70e7360b57a813af6ba92503ddf896468e6c0f0fe768f02f19b369ea1447eb26e50fd0e1975e9785efad10ce69f80f014397b3a71978b15619568f74342120e44679ef6e85a69ce009e0552b7b48d5944988be7a4fd843879fa591422a5912291bac899d9f9ec3f414ab1f9e6ff7929c089dc6a778be6861b65d9204882a754ee3e0e42303c4aa3030af47349eece45169734a135df385cf0d731341bcfa7a258f775f65b0b12e48a5fe52bd177501b5481bd22e732318af500b86a7017d07b18ca06248999407f722a0a2a4d371bcddad5e984ee484532d6dae6430a70d6bf4210880e9f7bf01f05693c71e73317e18b59c427b141cb674512d68cb2af84e43d7f507680320ef5506d4536d1ae06eecc6ddf7fa853f04cbeabb15fdf7b9a6469c4a51a01980b9838295261b7633c0ba97bef6ec1a52b7b43375b120fe74f2af267d067d801a2247dd9abfeb1106cb8105960f29fbdfa920a4f937420fc323578352539e0f739a9d8d5ba1725e646bc43e762f1911808fdffa8f23696acfe4f2ddc0698d56ee70b168fd9161b77ddead49b8e2ae90261f8ee1588d4efc164923614e54ed04b6845d834175f4817218dc636751a15591f1353cb7173dbbd07cb1c31defb4284d1a668ad62a1311f51821e14567592d009cc1f0bf0c480427d4510c1fe43dac3e1e251ecc39570e7059782b984dc0bb31b9956b310cffdf81a29791b0c7d4c89614d3aaf9f26415f59cc8b30134e57937bb25d608b276647e5dd3ce62eaa4932b0963a9a8f711a4686eceb848f835c4e8d8644df97c17547cbc20feca3cebb8dc3343cc5c3a3e8a632855515a947cc4177e887822e3c1807fac3e0656438e86673abca9d689e5672dca27a6f8f38b846ce22e5a57be020afc46cea8a19d87f084622ad3aefcada9ba3b8c3ba1191f27cdae18d8d8fe5de0a7c796c8588bb2d50db2b2b6dd6f11f919d5a7915b38b8795ed5dd8968e267cee8c2328acf8655d8139983abe93a5ef1e7a99681313d319eab24cb9c14b741a1a1810472cd4c4374b188c1232cf79ac7f2df6262efaaacce0097c21d7b09c26142dcd220cd07d98d762f41b8833e8c4cafe706fe0610cc92d2d5db759f8fcb4aec8e0f61b32ac5035cdf980b96ff819adbdf5bb49c0a6731b5b9d27d6c8dedcd7eced0fd28b2cbd7de59bc9b7b86e6a0daad16cd67e4430e868e29853b294d58651deaa082665cbd683369f47a441a3eec2697b2898b0535feb05470bb7030277e967344c484b49eefd637b0e6f34748bdf64ecb5cf8fe8a27ae9e24b1e4efc31fe95646e99d375527a231692ca1a4ed0395bf2b42</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">当前文章暂不对外可见，请输入访问密码后查看！</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ps图层批量重命名 2.0</title>
      <link href="/46573/"/>
      <url>/46573/</url>
      
        <content type="html"><![CDATA[<h2 id="Jsx脚本安装"><a href="#Jsx脚本安装" class="headerlink" title="Jsx脚本安装"></a>Jsx脚本安装</h2><p>脚本放置位置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\Adobe\Adobe Photoshop 2023\Presets\Scripts</span><br></pre></td></tr></table></figure><p>重启PS</p><h2 id="脚本的使用"><a href="#脚本的使用" class="headerlink" title="脚本的使用"></a>脚本的使用</h2><p>选中需要批量重命名的图层执行该脚本</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231118201318937.png" alt="image-20231118201318937"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231118202543767.png" alt="image-20231118202543767"></p><p>三种模式，分别为 后缀   前缀   完全重命名</p><p>图层_%n  可得到如图所示效果  %n为序号的意思</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231118203024114.png" alt="image-20231118203024114"></p><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>蓝奏云：<a href="https://zhangzhilong.lanzoue.com/iMglz1f95edi">https://zhangzhilong.lanzoue.com/iMglz1f95edi</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Ps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Adobe </tag>
            
            <tag> Ps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>李跳跳自定义规则</title>
      <link href="/24119/"/>
      <url>/24119/</url>
      
        <content type="html"><![CDATA[<p><strong>2023年11月19日21:26:52更新：Github公告</strong></p><blockquote><p>由于李跳跳自定义规则的局限性，很多弹窗无法编写规则关闭，本项目不再更新应用内广告和弹窗规则。如果你有关闭开屏广告以外的需求，建议切换至 <a href="https://github.com/gkd-kit/gkd">gkd</a> 使用，<a href="https://github.com/gkd-kit/subscription">gkd 默认订阅</a> 后续将持续更新。</p></blockquote><p><strong>2023 年 8 月 24 日</strong>，李跳跳官方公众号宣布无限期停更！</p><p>用过李跳跳的懂得都懂，不想换掉李跳跳的可以用以下方法继续更新规则</p><p>Github 有一个仓库更新了很多自定义跳过规则。介绍的很清楚如何使用，感兴趣了解一下</p><p>Github 主页：<a href="https://github.com/Snoopy1866/LiTiaotiao-Custom-Rules">https://github.com/Snoopy1866/LiTiaotiao-Custom-Rules</a></p><p>自定义规则页面：<a href="https://snoopy1866.github.io/LiTiaotiao-Custom-Rules">https://snoopy1866.github.io/LiTiaotiao-Custom-Rules</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231112183540842.png" alt="image-20231112183540842"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NekoBox</title>
      <link href="/59922/"/>
      <url>/59922/</url>
      
        <content type="html"><![CDATA[<h1 id="NekoBox"><a href="#NekoBox" class="headerlink" title="NekoBox"></a>NekoBox</h1><p>NekoBox主页：<a href="https://matsuridayo.github.io/">MatsuriDayo</a></p><p>NekoBox for Android <a href="https://github.com/MatsuriDayo/NekoBoxForAndroid">GitHub - NekoBox forAndroid</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231112174743330.png" alt="image-20231112174743330"></p><p>前一段时间 Clash 内核作者把Github上面的库删除了，原因也众说纷纭。</p><p>总之也就意味着Clash内核以后不在维护了，如有需求请尽快切换别的内核进行使用。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231112181058876.png" alt="image-20231112181058876"></p><p>NekoBox 就是一个很好的替补。</p><p>NekoBox可以选择Xray内核和 Sing-box内核。Xray是V2ray使用的内核，</p><p>首次启动会让您手动选择内核，根据您的节点类型选择内核。</p><p>NekoBox支持Xray和Sing-Box内核，支持Naive内核，Tuic内核扩展，WireGuard配置，WARP+配置文件，支持全部协议！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231112181006005.png" alt="image-20231112181006005"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vray for Maya</title>
      <link href="/52726/"/>
      <url>/52726/</url>
      
        <content type="html"><![CDATA[<h1 id="Chaaos"><a href="#Chaaos" class="headerlink" title="Chaaos"></a>Chaaos</h1><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/thumb-vray6releasevideo.png" alt="img"></p><ul><li><a href="https://www.chaos.com/vray/maya">Vray for Maya官方主页</a></li><li><a href="https://docs.chaos.com/display/VMAYA/Tutorials">Vray for Maya 官方教程</a>  </li><li><a href="https://docs.chaos.com/display/VMAYA/V-Ray+for+Maya+Help">Vray for Maya 官方帮助</a></li><li><a href="https://www.youtube.com/@ChaosOfficial">Chaost TV Youtube频道</a></li></ul><h1 id="渲染设置-Overrides"><a href="#渲染设置-Overrides" class="headerlink" title="渲染设置-Overrides"></a>渲染设置-Overrides</h1><h2 id="Camera（摄像机）"><a href="#Camera（摄像机）" class="headerlink" title="Camera（摄像机）"></a>Camera（摄像机）</h2><p><strong>Auto Exposure</strong>  自动曝光</p><p><strong>Auto White Balance</strong>  自动白平衡</p><p><strong>Transfer to selected camera</strong> 的意思是传输到选定摄像机</p><p><strong>Camera Type</strong> 摄像机类型（标准，球形，圆柱形…）</p><p><strong>Overscan mode</strong> 过扫描模式 （我愿称之为扩边）</p><p>—   None 关闭<br>—    所有边距相等<br>—   水平和垂直边距<br>—   左边距、右边距、上边距、下边距 </p><p><strong>Overscan values</strong> 过扫描值（大白话翻译你想扩多少！）</p><p><strong>Overscan units</strong> 过扫描单位（大白话翻译你想以谁为单位！）</p><p>—   像素<br>—   百分比</p><font color="#FF0000"><p>单说一下百分比问题<br>假设你渲染的图像尺寸为1000x1000像素<br>你设置了数值为 1 2<br>则渲染得到的尺寸为1020x1040</p></font><p><strong>Override FOV</strong> 覆盖FOV<br><strong>Depth of Field</strong> 景深<br><strong>Motion blur</strong> 动态模糊<br><strong>Prepass samples</strong><br><strong>Geometry samples</strong><br><font color="#FF0000"><strong>Ignore image planes</strong> 忽略图像平面</font></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231105183631020.png" alt="image-20231105183631020"></p><h2 id="Geometry（几何体）"><a href="#Geometry（几何体）" class="headerlink" title="Geometry（几何体）"></a>Geometry（几何体）</h2><p><img src="https://docs.chaos.com/download/attachments/60896294/maya2020_50010_GeometryOverrides.jpg?version=2&modificationDate=1591894436000&api=v2" alt="maya2020_50010_GeometryOverrides.jpg"></p><p><strong>位移</strong> 可理解为置换（默认勾选）</p><p><strong>细分</strong> （默认勾选）</p><p><strong>视口细分</strong> 勾选后Maya按3才有效果（默认不勾选）</p><p><strong>Hair&#x2F;PaintFX&#x2F;Fur</strong>  用于Maya毛发的渲染（默认勾选）</p><p><strong>VRay 代理</strong> 用于场景中 V-Ray 代理对象的渲染（默认勾选）</p><p><strong>粒子</strong> 用于粒子的渲染（默认勾选）</p><p><strong>插件几何体</strong>  第三方插件引入场景的几何体的渲染。（默认勾选）</p><p><strong>隐藏的几何体</strong> （默认勾选）</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Vray </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>尝试保存时出现致命错误...</title>
      <link href="/32820/"/>
      <url>/32820/</url>
      
        <content type="html"><![CDATA[<h1 id="尝试保存时出现致命错误"><a href="#尝试保存时出现致命错误" class="headerlink" title="尝试保存时出现致命错误"></a>尝试保存时出现致命错误</h1><p>关键词：[Maya崩溃] [英伟达驱动]</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231105172821479.png" alt="image-20231105172821479"></p><p>在我们使用Maya的过程中，我遇到一个问题，有些时候我们完成制作退出Maya的时候。会提示出现致命错误并崩溃的情况。</p><p>在此记录一下解决方法</p><p><a href="https://www.nvidia.com/en-us/geforce/drivers/">https://www.nvidia.com/en-us/geforce/drivers/</a></p><p>通过以上链接↑下载 NVIDIA的<strong>GeForce® Drivers</strong>驱动更新程序，升级最稳定的显卡驱动解决此问题</p><p>如果您的右下角有<strong>GeForce® Drivers</strong>程序则不需要再下载直接更新推荐的驱动程序即可</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231105160937963.png" alt="image-20231105160937963"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231105160033181.png" alt="image-20231105160033181"></p><p>如果您不想下载以上程序登陆您的ID</p><p>你也可以选择直接在以下NVIDIA官方驱动中文网下载您显卡的稳定驱动。</p><p><a href="https://www.nvidia.cn/Download/index.aspx?lang=cn">官方驱动 | NVIDIA</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231105162815264.png" alt="image-20231105162815264"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vray 代理设置工具</title>
      <link href="/4804/"/>
      <url>/4804/</url>
      
        <content type="html"><![CDATA[<h1 id="Vray-代理设置工具"><a href="#Vray-代理设置工具" class="headerlink" title="Vray 代理设置工具"></a>Vray 代理设置工具</h1><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231116203055919.png" alt="image-20231116203055919"></p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Vray 代理批量设置工具//</span></span><br><span class="line"><span class="comment">// 作者：三岁豆 , 创建日期 2023.11.02  V 1.0//</span></span><br><span class="line"><span class="keyword">proc</span> rayproxy0()&#123;</span><br><span class="line">    <span class="keyword">string</span> $sel[<span class="number">0</span>] = <span class="string">`ls -sl -dag -type shape`</span>; <span class="comment">//$sel=选择的物体，-dag 组内对象生效</span></span><br><span class="line">    <span class="keyword">for</span> ($one <span class="keyword">in</span> $sel) <span class="comment">//对$sel中所有执行</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">`objExists ($one+&quot;.geomType&quot;)`</span>)</span><br><span class="line">        &#123;<span class="keyword">setAttr</span> ($one+<span class="string">&quot;.geomType&quot;</span>) <span class="number">0</span>;&#125;</span><br><span class="line">        <span class="keyword">print</span> $sel<span class="string">&quot; 设置None成功！ \n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> rayproxy1()&#123;</span><br><span class="line">    <span class="keyword">string</span> $sel[<span class="number">0</span>] = <span class="string">`ls -sl -dag -type shape`</span>; <span class="comment">//$sel=选择的物体，-dag 组内对象生效</span></span><br><span class="line">    <span class="keyword">for</span> ($one <span class="keyword">in</span> $sel) <span class="comment">//对$sel中所有执行</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">`objExists ($one+&quot;.geomType&quot;)`</span>)</span><br><span class="line">        &#123;<span class="keyword">setAttr</span> ($one+<span class="string">&quot;.geomType&quot;</span>) <span class="number">1</span>;&#125;</span><br><span class="line">        <span class="keyword">print</span> $sel<span class="string">&quot; 设置 Bounding boxes 成功！ \n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> rayproxy2()&#123;</span><br><span class="line">    <span class="keyword">string</span> $sel[<span class="number">0</span>] = <span class="string">`ls -sl -dag -type shape`</span>; <span class="comment">//$sel=选择的物体，-dag 组内对象生效</span></span><br><span class="line">    <span class="keyword">for</span> ($one <span class="keyword">in</span> $sel) <span class="comment">//对$sel中所有执行</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">`objExists ($one+&quot;.geomType&quot;)`</span>)</span><br><span class="line">        &#123;<span class="keyword">setAttr</span> ($one+<span class="string">&quot;.geomType&quot;</span>) <span class="number">2</span>;&#125;</span><br><span class="line">        <span class="keyword">print</span> $sel<span class="string">&quot; 设置 Preview geometry 成功！ \n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> rayproxy3()&#123;</span><br><span class="line">    <span class="keyword">string</span> $sel[<span class="number">0</span>] = <span class="string">`ls -sl -dag -type shape`</span>; <span class="comment">//$sel=选择的物体，-dag 组内对象生效</span></span><br><span class="line">    <span class="keyword">for</span> ($one <span class="keyword">in</span> $sel) <span class="comment">//对$sel中所有执行</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">`objExists ($one+&quot;.geomType&quot;)`</span>)</span><br><span class="line">        &#123;<span class="keyword">setAttr</span> ($one+<span class="string">&quot;.geomType&quot;</span>) <span class="number">3</span>;&#125;</span><br><span class="line">        <span class="keyword">print</span> $sel<span class="string">&quot; 设置 Full geometry 成功！ \n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $WindowPorxyz = <span class="string">&quot;WindowPorxyz&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`window -ex $WindowPorxyz`</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">deleteUI</span> -<span class="keyword">window</span> $WindowPorxyz;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $WindowPorxy = <span class="string">`window -title &quot;三岁豆Er&quot;</span></span><br><span class="line"><span class="string">       -sizeable 0 </span></span><br><span class="line"><span class="string">       $WindowPorxyz`</span>;</span><br><span class="line"><span class="keyword">columnLayout</span>  -columnAttach <span class="string">&quot;both&quot;</span> <span class="number">10</span> -rowSpacing <span class="number">5</span> -columnWidth <span class="number">230</span>;</span><br><span class="line">      <span class="keyword">text</span>  -h <span class="number">50</span>  -label<span class="string">&quot;Vray 代理批量设置工具&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;导入代理&quot;</span> -c <span class="string">&quot;vrayCreateImportProxyWindow&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;导出代理&quot;</span> -c <span class="string">&quot;vrayCreateCreateProxyWindow;&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;None&quot;</span>  -c  <span class="string">&quot;rayproxy0&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;Bounding boxes&quot;</span> -c <span class="string">&quot;rayproxy1&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;Preview geometry&quot;</span> -c <span class="string">&quot;rayproxy2&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;Full geometry&quot;</span> -c <span class="string">&quot;rayproxy3&quot;</span>;</span><br><span class="line">       <span class="keyword">text</span>  -h <span class="number">5</span> -label<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="keyword">showWindow</span> $WindowPorxyz;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mel </tag>
            
            <tag> Vray </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Round Inset</title>
      <link href="/11742/"/>
      <url>/11742/</url>
      
        <content type="html"><![CDATA[<h1 id="Round-Inset-（圆形镶嵌）"><a href="#Round-Inset-（圆形镶嵌）" class="headerlink" title="Round Inset （圆形镶嵌）"></a>Round Inset （圆形镶嵌）</h1><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231102214035404.png" alt="image-20231102214035404"></p><p>作者主页：<a href="https://www.youtube.com/@Im3dJoe">https://www.youtube.com/@Im3dJoe</a></p><p>本插件演示：<a href="https://www.youtube.com/watch?v=kzo56yxYVCo">https://www.youtube.com/watch?v=kzo56yxYVCo</a></p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>直接复制到Maya脚本编辑器 Python 执行即可 仅测试Maya2018、2022正常运行。</p><p>#挤出</p><h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> mc</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> maya.mel <span class="keyword">as</span> mel</span><br><span class="line"><span class="keyword">import</span> maya.OpenMaya <span class="keyword">as</span> OpenMaya</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">roundInset</span>():</span><br><span class="line">    cmd = <span class="string">&#x27;source dagMenuProc;&#x27;</span></span><br><span class="line">    mel.<span class="built_in">eval</span>(cmd)</span><br><span class="line">    <span class="keyword">global</span> insetDataPP</span><br><span class="line">    <span class="keyword">global</span> insetMesh</span><br><span class="line">    <span class="keyword">global</span> insetFace</span><br><span class="line">    <span class="keyword">global</span> insetDataEdgeLoopList</span><br><span class="line">    <span class="keyword">global</span> insetMeshVolume</span><br><span class="line">    <span class="keyword">global</span> useMySelectInsetEdge</span><br><span class="line">    useMySelectInsetEdge = []</span><br><span class="line">    insetDataEdgeLoopList = []</span><br><span class="line">    insetDataPP = []</span><br><span class="line">    insetMesh = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    insetFace = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    insetMeshVolume = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> mc.window(<span class="string">&#x27;RoundInsetUI&#x27;</span>, exists = <span class="literal">True</span>):</span><br><span class="line">        mc.deleteUI(<span class="string">&#x27;RoundInsetUI&#x27;</span>)</span><br><span class="line">    RoundInsetUI = mc.window(<span class="string">&#x27;RoundInsetUI&#x27;</span>, title=<span class="string">&#x27;Round Inset v1.25&#x27;</span>,w = <span class="number">250</span>, s = <span class="number">1</span> ,mxb = <span class="literal">False</span>, mnb = <span class="literal">False</span>)</span><br><span class="line">    mc.columnLayout(adj=<span class="number">1</span>)</span><br><span class="line">    mc.text(l=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    mc.rowColumnLayout(nc=<span class="number">5</span>, cw=[(<span class="number">1</span>, <span class="number">300</span>), (<span class="number">2</span>, <span class="number">20</span>),(<span class="number">3</span>, <span class="number">5</span>),(<span class="number">4</span>, <span class="number">90</span>),(<span class="number">5</span>, <span class="number">10</span>)] )</span><br><span class="line">    mc.columnLayout(adj=<span class="number">1</span>)</span><br><span class="line">    mc.rowColumnLayout(nc=<span class="number">2</span>, cw=[(<span class="number">1</span>, <span class="number">270</span>), (<span class="number">2</span>, <span class="number">20</span>)] )</span><br><span class="line">    mc.floatSliderGrp(<span class="string">&#x27;rInsetV&#x27;</span>, en = <span class="number">0</span>, cw3=[<span class="number">60</span>,<span class="number">40</span>,<span class="number">0</span>], label=<span class="string">&#x27;Offset   &#x27;</span>, field=<span class="literal">True</span>,v=<span class="number">0.01</span>, <span class="built_in">min</span>= -<span class="number">1</span>, <span class="built_in">max</span>= <span class="number">1</span>, step=<span class="number">0.001</span>)</span><br><span class="line">    mc.button(<span class="string">&#x27;rInsetVMax&#x27;</span>,l=<span class="string">&#x27;+&#x27;</span>, c=<span class="string">&#x27;slipderMax(&quot;rInsetV&quot;)&#x27;</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.floatSliderGrp(<span class="string">&#x27;rBevelRound&#x27;</span>, en = <span class="number">0</span>, cw3=[<span class="number">60</span>,<span class="number">40</span>,<span class="number">0</span>], label=<span class="string">&#x27;Round   &#x27;</span>, field=<span class="literal">True</span>, v=<span class="number">0</span> , <span class="built_in">min</span>=-<span class="number">1</span>, <span class="built_in">max</span>= <span class="number">1</span> ,step=<span class="number">0.001</span>)</span><br><span class="line">    mc.button(<span class="string">&#x27;rBevelRoundMax&#x27;</span>,l=<span class="string">&#x27;+&#x27;</span>, c=<span class="string">&#x27;slipderMax(&quot;rBevelRound&quot;)&#x27;</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.floatSliderGrp(<span class="string">&#x27;rBevelLength&#x27;</span>, en = <span class="number">0</span>, cw3=[<span class="number">60</span>,<span class="number">40</span>,<span class="number">0</span>], cc=<span class="string">&#x27;rBevelLengthUpdate()&#x27;</span>, label=<span class="string">&#x27;Length   &#x27;</span>, field=<span class="literal">True</span>,v=<span class="number">0.01</span>, <span class="built_in">min</span>=<span class="number">0.01</span>, <span class="built_in">max</span>= <span class="number">0.1</span>,fmx = <span class="number">10</span>, step=<span class="number">0.001</span>)</span><br><span class="line">    mc.button(<span class="string">&#x27;rBevelLengthMax&#x27;</span>,l=<span class="string">&#x27;+&#x27;</span>,  c=<span class="string">&#x27;slipderMax(&quot;rBevelLength&quot;)&#x27;</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.setParent( <span class="string">&#x27;..&#x27;</span> )</span><br><span class="line">    mc.setParent( <span class="string">&#x27;..&#x27;</span> )</span><br><span class="line">    mc.rowColumnLayout(nc=<span class="number">1</span>, cw=[(<span class="number">1</span>, <span class="number">20</span>)] )</span><br><span class="line">    mc.button(<span class="string">&#x27;InsetRemoveButton&#x27;</span>,l=<span class="string">&#x27;X&#x27;</span>, c=<span class="string">&#x27;roundInsetRemove()&#x27;</span>, h = <span class="number">26</span>, en = <span class="number">0</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.button(<span class="string">&#x27;InnerCornerEvenButton&#x27;</span>,l=<span class="string">&#x27;E&#x27;</span>, c=<span class="string">&#x27;evenInnerCorner()&#x27;</span>,h = <span class="number">26</span>,  en = <span class="number">0</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.button(<span class="string">&#x27;InsetCkeaneButton&#x27;</span>,l=<span class="string">&#x27;O&#x27;</span>, c=<span class="string">&#x27;roundInsetClean()&#x27;</span>,h = <span class="number">26</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.48</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.setParent( <span class="string">&#x27;..&#x27;</span> )</span><br><span class="line">    mc.text(l=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    mc.button(<span class="string">&#x27;InsetButton&#x27;</span>,l=<span class="string">&#x27;Inset&#x27;</span>, c=<span class="string">&#x27;roundInsetRun()&#x27;</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.18</span>,<span class="number">0.18</span>,<span class="number">0.18</span>])</span><br><span class="line">    mc.setParent( <span class="string">&#x27;..&#x27;</span> )</span><br><span class="line">    mc.text(l=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    mc.showWindow(RoundInsetUI)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">slipderMax</span>(<span class="params">name</span>):</span><br><span class="line">    sliderName = name</span><br><span class="line">    currentMaxV = mc.floatSliderGrp(sliderName, q = <span class="number">1</span>, <span class="built_in">max</span>=<span class="number">1</span>)</span><br><span class="line">    currentMinV = mc.floatSliderGrp(sliderName, q = <span class="number">1</span>, <span class="built_in">min</span>=<span class="number">1</span>)</span><br><span class="line">    mc.floatSliderGrp(sliderName, e = <span class="number">1</span>, <span class="built_in">min</span> = currentMinV*<span class="number">2</span>, <span class="built_in">max</span>= currentMaxV*<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rBevelLengthUpdate</span>():</span><br><span class="line">    <span class="keyword">global</span> insetFace</span><br><span class="line">    <span class="keyword">global</span> insetDataEdgeLoopList</span><br><span class="line">    <span class="keyword">global</span> insetMesh</span><br><span class="line">    <span class="keyword">global</span> insetDataPP</span><br><span class="line">    <span class="keyword">global</span> newLoop</span><br><span class="line">    <span class="keyword">global</span> recordInnerCornerList</span><br><span class="line">    newV = mc.floatSliderGrp(<span class="string">&#x27;rBevelLength&#x27;</span>, q=<span class="number">1</span> ,v=<span class="number">1</span>)</span><br><span class="line">    getRoundV = mc.floatSliderGrp(<span class="string">&#x27;rBevelRound&#x27;</span>, q=<span class="number">1</span>, v=<span class="number">1</span>)</span><br><span class="line">    currentOffsetV = mc.floatSliderGrp(<span class="string">&#x27;rInsetV&#x27;</span>, q=<span class="number">1</span> ,v=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;insetOffsetNod*&#x27;</span>):</span><br><span class="line">        mc.delete(<span class="string">&#x27;insetOffsetNod*&#x27;</span>)</span><br><span class="line">    edgeLoopCheck = mc.polyListComponentConversion(insetFace, te=<span class="literal">True</span>)</span><br><span class="line">    edgeLoopCheck = mc.ls(edgeLoopCheck,fl=<span class="number">1</span>)</span><br><span class="line">    insetDataEdgeLoopList = edgeLoopCheck </span><br><span class="line">    <span class="keyword">if</span> insetDataEdgeLoopList:</span><br><span class="line">        storeList=[]</span><br><span class="line">        <span class="keyword">for</span> e <span class="keyword">in</span> insetDataEdgeLoopList:</span><br><span class="line">            checkPoint = mc.polyListComponentConversion(e, tv=<span class="literal">True</span>)</span><br><span class="line">            checkPoint = mc.ls(checkPoint,fl=<span class="number">1</span>)</span><br><span class="line">            dist = distanceBetween(checkPoint[<span class="number">0</span>],checkPoint[<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">if</span>  dist &lt; newV:</span><br><span class="line">                storeList.append(e)</span><br><span class="line">    cornerLoop = storeList </span><br><span class="line">    recordInnerCornerList = cornerLoop</span><br><span class="line">    <span class="keyword">if</span> cornerLoop:</span><br><span class="line">        sortGrp = []</span><br><span class="line">        sortGrp =  getEdgeRingGroup(cornerLoop)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(sortGrp) &gt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">for</span> g <span class="keyword">in</span> sortGrp:</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(g) &gt; <span class="number">2</span> :</span><br><span class="line">                    matchCorner(g, <span class="number">1.3</span>)</span><br><span class="line">            newRoundMesh = mc.duplicate(insetMesh, rr=<span class="number">1</span>)</span><br><span class="line">            mc.rename(newRoundMesh, <span class="string">&#x27;roundV&#x27;</span>)</span><br><span class="line">            <span class="keyword">for</span> g <span class="keyword">in</span> sortGrp:</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(g) &gt; <span class="number">2</span> :</span><br><span class="line">                    matchCorner(g, <span class="number">1</span>)</span><br><span class="line">            innerCVList = mc.polyListComponentConversion(cornerLoop, tv=<span class="literal">True</span>)</span><br><span class="line">            innerCVList = mc.ls(innerCVList,fl=<span class="number">1</span>)</span><br><span class="line">            findRingList =mc.polyListComponentConversion(innerCVList,fv=<span class="literal">True</span>, te=<span class="literal">True</span>)</span><br><span class="line">            findRingList  = mc.ls(findRingList,fl=<span class="number">1</span>)</span><br><span class="line">            loopRingList = <span class="built_in">list</span>(<span class="built_in">set</span>(findRingList)-<span class="built_in">set</span>(newLoop))</span><br><span class="line">            loopRingList = mc.polySelectSp(loopRingList[<span class="number">0</span>],ring =<span class="number">1</span>, q=<span class="number">1</span> )</span><br><span class="line">            loopRingList = mc.ls(loopRingList,fl=<span class="number">1</span>)</span><br><span class="line">            insetDataPP = []</span><br><span class="line">            moveP = []</span><br><span class="line">            baseP = []</span><br><span class="line">            checkCV = mc.polyListComponentConversion(loopRingList[<span class="number">0</span>], tv=<span class="literal">True</span>)</span><br><span class="line">            checkCV = mc.ls(checkCV,fl=<span class="number">1</span>)</span><br><span class="line">            bevelDistance = distanceBetween(checkCV[<span class="number">0</span>],checkCV[-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">for</span> r <span class="keyword">in</span> loopRingList:</span><br><span class="line">                checkCV = mc.polyListComponentConversion(r, tv=<span class="literal">True</span>)</span><br><span class="line">                checkCV = mc.ls(checkCV,fl=<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">if</span> checkCV[<span class="number">0</span>] <span class="keyword">in</span> innerCVList:</span><br><span class="line">                    moveP = checkCV[<span class="number">0</span>]</span><br><span class="line">                    baseP = checkCV[<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    moveP = checkCV[<span class="number">1</span>]</span><br><span class="line">                    baseP = checkCV[<span class="number">0</span>]</span><br><span class="line">                basePPos = mc.pointPosition(baseP, w =<span class="number">1</span>)</span><br><span class="line">                movePPos = mc.pointPosition(moveP, w =<span class="number">1</span>)</span><br><span class="line">                dataCollect = [moveP,basePPos,movePPos]</span><br><span class="line">                insetDataPP.append(dataCollect)</span><br><span class="line">            newMesh = mc.duplicate(insetMesh, rr=<span class="number">1</span>)</span><br><span class="line">            mc.rename(newMesh,<span class="string">&#x27;insetOffsetV&#x27;</span>)</span><br><span class="line">            refBevelV = math.sqrt(insetFaceArea) *<span class="number">4</span></span><br><span class="line">            <span class="keyword">for</span> v <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(insetDataPP)):</span><br><span class="line">                currentPos = mc.pointPosition(insetDataPP[v][<span class="number">0</span>], w =<span class="number">1</span>)</span><br><span class="line">                posX = ((currentPos[<span class="number">0</span>] - insetDataPP[v][<span class="number">1</span>][<span class="number">0</span>])*(refBevelV))+ insetDataPP[v][<span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">                posY = ((currentPos[<span class="number">1</span>] - insetDataPP[v][<span class="number">1</span>][<span class="number">1</span>])*(refBevelV))+ insetDataPP[v][<span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line">                posZ = ((currentPos[<span class="number">2</span>] - insetDataPP[v][<span class="number">1</span>][<span class="number">2</span>])*(refBevelV))+ insetDataPP[v][<span class="number">1</span>][<span class="number">2</span>]</span><br><span class="line">                mc.move(posX, posY, posZ, insetDataPP[v][<span class="number">0</span>].replace(insetMesh, <span class="string">&#x27;insetOffsetV&#x27;</span>), a =<span class="literal">True</span>, ws=<span class="literal">True</span>)</span><br><span class="line">            mc.delete(insetMesh, ch=<span class="number">1</span>)</span><br><span class="line">            blendName = mc.blendShape(<span class="string">&#x27;insetOffsetV&#x27;</span>,<span class="string">&#x27;roundV&#x27;</span>, insetMesh)</span><br><span class="line">            mc.delete(<span class="string">&#x27;insetOffsetV&#x27;</span>,<span class="string">&#x27;roundV&#x27;</span>)</span><br><span class="line">            mc.rename(blendName, <span class="string">&#x27;insetOffsetNode&#x27;</span>)</span><br><span class="line">            mc.setAttr(<span class="string">&#x27;insetOffsetNode.envelope&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">            mc.connectControl( <span class="string">&#x27;rInsetV&#x27;</span>, <span class="string">&#x27;insetOffsetNode.insetOffsetV&#x27;</span> )</span><br><span class="line">            mc.connectControl( <span class="string">&#x27;rBevelRound&#x27;</span>, <span class="string">&#x27;insetOffsetNode.roundV&#x27;</span> )</span><br><span class="line">            mc.setAttr(<span class="string">&#x27;insetOffsetNode.insetOffsetV&#x27;</span>, currentOffsetV)</span><br><span class="line">            mc.setAttr(<span class="string">&#x27;insetOffsetNode.roundV&#x27;</span>, getRoundV)</span><br><span class="line">            mc.select(<span class="string">&#x27;cornerDisp&#x27;</span>)</span><br><span class="line">            cmd = <span class="string">&#x27;doMenuComponentSelectionExt(&quot;&#x27;</span> + insetMesh + <span class="string">&#x27;&quot;, &quot;edge&quot;, 0);&#x27;</span></span><br><span class="line">            mel.<span class="built_in">eval</span>(cmd)</span><br><span class="line">            mc.select(insetFace,add=<span class="number">1</span>)</span><br><span class="line">            mc.setToolTo(<span class="string">&#x27;selectSuperContext&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">roundInsetRemove</span>():</span><br><span class="line">    <span class="keyword">global</span> insetFace</span><br><span class="line">    <span class="keyword">global</span> insetMesh</span><br><span class="line">    <span class="keyword">global</span> insetDataEdgeLoopList</span><br><span class="line">    <span class="keyword">global</span> useMySelectInsetEdge</span><br><span class="line">    useMySelectInsetEdge = []</span><br><span class="line">    <span class="keyword">if</span> insetFace:</span><br><span class="line">        mc.select(cl=<span class="number">1</span>)</span><br><span class="line">        mc.polyDelEdge(insetFace, cv=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> insetDataEdgeLoopList:</span><br><span class="line">        mc.select(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>)</span><br><span class="line">        insetDataEdgeLoopList = mc.ls(sl=<span class="number">1</span>,fl=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> insetDataEdgeLoopList:</span><br><span class="line">            toCommonFaceA = mc.polyListComponentConversion(insetDataEdgeLoopList[<span class="number">0</span>], tf=<span class="literal">True</span>)</span><br><span class="line">            toCommonFaceA = mc.ls(toCommonFaceA,fl=<span class="number">1</span>)</span><br><span class="line">            toCommonFaceB = mc.polyListComponentConversion(insetDataEdgeLoopList[<span class="number">1</span>], tf=<span class="literal">True</span>)</span><br><span class="line">            toCommonFaceB = mc.ls(toCommonFaceB,fl=<span class="number">1</span>)</span><br><span class="line">            flatFace = <span class="built_in">list</span>(<span class="built_in">set</span>(toCommonFaceA)&amp;<span class="built_in">set</span>(toCommonFaceB))</span><br><span class="line">            insetFace = flatFace</span><br><span class="line">    mc.floatSliderGrp(<span class="string">&#x27;rInsetV&#x27;</span>, e=<span class="number">1</span>, v=<span class="number">0.01</span>, <span class="built_in">min</span>=-<span class="number">1</span>, <span class="built_in">max</span>= <span class="number">1</span>,fmx = <span class="number">10</span>, step=<span class="number">0.001</span>)</span><br><span class="line">    mc.floatSliderGrp(<span class="string">&#x27;rBevelLength&#x27;</span>, e=<span class="number">1</span> , en=<span class="number">0</span>, field=<span class="literal">True</span>,v=<span class="number">0.01</span>, <span class="built_in">min</span>=<span class="number">0.01</span>, <span class="built_in">max</span>= <span class="number">0.1</span>,fmx = <span class="number">10</span>, step=<span class="number">0.001</span>)</span><br><span class="line">    mc.floatSliderGrp(<span class="string">&#x27;rBevelRound&#x27;</span>, e=<span class="number">1</span> ,en=<span class="number">0</span>, v=<span class="number">0</span>, <span class="built_in">min</span>=-<span class="number">1</span>, <span class="built_in">max</span>= <span class="number">1</span>, step=<span class="number">0.001</span>)</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>):</span><br><span class="line">        mc.delete(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;cornerDisp&#x27;</span>):</span><br><span class="line">        mc.setAttr(<span class="string">&#x27;cornerDisp.creaseLevel&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">        mc.delete(<span class="string">&#x27;cornerDisp&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> insetMesh:</span><br><span class="line">        mc.select(insetMesh)</span><br><span class="line">        mc.delete(<span class="built_in">all</span>=<span class="number">1</span>, e=<span class="number">1</span>, ch=<span class="number">1</span>)</span><br><span class="line">        cmd  = <span class="string">&#x27;doMenuComponentSelectionExt(&quot;&#x27;</span> + insetMesh + <span class="string">&#x27;&quot;, &quot;facet&quot; , 0);&#x27;</span></span><br><span class="line">        mel.<span class="built_in">eval</span>(cmd)</span><br><span class="line">        mc.select(insetFace)</span><br><span class="line">    insetFace = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    insetMesh = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    insetDataEdgeLoopList = []</span><br><span class="line">    mc.setToolTo(<span class="string">&#x27;Move&#x27;</span>)</span><br><span class="line">    mc.button(<span class="string">&#x27;InnerCornerEvenButton&#x27;</span>,e=<span class="number">1</span>, en = <span class="number">0</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.button(<span class="string">&#x27;InsetRemoveButton&#x27;</span>,e=<span class="number">1</span>, en = <span class="number">0</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.button(<span class="string">&#x27;InsetButton&#x27;</span>,e=<span class="number">1</span>, l=<span class="string">&#x27;Inset&#x27;</span>, c=<span class="string">&#x27;roundInsetRun()&#x27;</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.18</span>,<span class="number">0.18</span>,<span class="number">0.18</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">roundInsetClean</span>():</span><br><span class="line">    <span class="keyword">global</span> insetFace</span><br><span class="line">    <span class="keyword">global</span> insetMesh</span><br><span class="line">    <span class="keyword">global</span> useMySelectInsetEdge</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&quot;insetOffsetNod*&quot;</span>):</span><br><span class="line">        listNode = mc.ls(<span class="string">&quot;insetOffsetNod*&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> listNode:</span><br><span class="line">            getOldMesh = mc.listConnections((s + <span class="string">&#x27;.outputGeometry&#x27;</span>), scn=<span class="literal">True</span> )</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                getOldShape = mc.listConnections((getOldMesh[<span class="number">0</span>] + <span class="string">&#x27;.outputGeometry&#x27;</span>), scn=<span class="literal">True</span> )</span><br><span class="line">                mc.delete(getOldShape, ch=<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                mc.delete(getOldMesh, ch=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;insetOffsetNod*&#x27;</span>):</span><br><span class="line">        mc.delete(<span class="string">&#x27;insetOffsetNod*&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;roundV&#x27;</span>):</span><br><span class="line">        mc.delete(<span class="string">&#x27;roundV&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&quot;insetOffsetV&quot;</span>):</span><br><span class="line">        mc.delete(<span class="string">&#x27;nsetOffsetV&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>):</span><br><span class="line">        mc.delete(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>)</span><br><span class="line">    mc.floatSliderGrp(<span class="string">&#x27;rInsetV&#x27;</span>, e=<span class="number">1</span>, v=<span class="number">0.01</span>, <span class="built_in">min</span>=-<span class="number">1</span>, <span class="built_in">max</span>= <span class="number">1</span>,fmx = <span class="number">10</span>, step=<span class="number">0.001</span>)</span><br><span class="line">    mc.floatSliderGrp(<span class="string">&#x27;rBevelLength&#x27;</span>, e=<span class="number">1</span> , en=<span class="number">0</span>, field=<span class="literal">True</span>,v=<span class="number">0.01</span>, <span class="built_in">min</span>=<span class="number">0.01</span>, <span class="built_in">max</span>= <span class="number">0.1</span>,fmx = <span class="number">10</span>, step=<span class="number">0.001</span>)</span><br><span class="line">    mc.floatSliderGrp(<span class="string">&#x27;rBevelRound&#x27;</span>, e=<span class="number">1</span> ,en=<span class="number">0</span>, v=<span class="number">0</span>, <span class="built_in">min</span>=-<span class="number">1</span>, <span class="built_in">max</span>= <span class="number">1</span>, step=<span class="number">0.001</span>)</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>):</span><br><span class="line">        mc.delete(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;cornerDisp&#x27;</span>):</span><br><span class="line">        mc.setAttr(<span class="string">&#x27;cornerDisp.creaseLevel&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">        mc.delete(<span class="string">&#x27;cornerDisp&#x27;</span>)          </span><br><span class="line">    <span class="keyword">if</span> insetFace:</span><br><span class="line">        mc.select(insetFace)</span><br><span class="line">        cmd = <span class="string">&#x27;doMenuComponentSelectionExt(&quot;&#x27;</span> + insetMesh + <span class="string">&#x27;&quot;, &quot;facet&quot;, 0);&#x27;</span></span><br><span class="line">        mel.<span class="built_in">eval</span>(cmd)</span><br><span class="line">        mc.select(insetFace)</span><br><span class="line">    insetFace = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    insetMesh = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    useMySelectInsetEdge = []</span><br><span class="line">    mc.button(<span class="string">&#x27;InsetRemoveButton&#x27;</span>,e=<span class="number">1</span>, en = <span class="number">0</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.button(<span class="string">&#x27;InsetCkeaneButton&#x27;</span>,e=<span class="number">1</span>, en = <span class="number">0</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.button(<span class="string">&#x27;InnerCornerEvenButton&#x27;</span>,e=<span class="number">1</span>, en = <span class="number">0</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">    mc.button(<span class="string">&#x27;InsetButton&#x27;</span>,e=<span class="number">1</span>, l=<span class="string">&#x27;Inset&#x27;</span>, c=<span class="string">&#x27;roundInsetRun()&#x27;</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.18</span>,<span class="number">0.18</span>,<span class="number">0.18</span>])</span><br><span class="line">    mc.setToolTo(<span class="string">&#x27;Move&#x27;</span>)</span><br><span class="line">    <span class="comment"># clean storeBevel Attr</span></span><br><span class="line">    transformsNodeList = mc.ls(dag =<span class="number">1</span>,<span class="built_in">type</span>=<span class="string">&#x27;transform&#x27;</span>,l=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> transformsNodeList:</span><br><span class="line">        anyUserAttr = mc.listAttr(l,userDefined=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> anyUserAttr:</span><br><span class="line">            <span class="keyword">for</span> a <span class="keyword">in</span> anyUserAttr:</span><br><span class="line">                <span class="keyword">if</span> a == <span class="string">&#x27;storeBevelV&#x27;</span>:</span><br><span class="line">                    <span class="keyword">if</span> mc.attributeQuery(a, node = l, ex=<span class="literal">True</span> ):</span><br><span class="line">                        mc.setAttr((l + <span class="string">&quot;.&quot;</span> + a), l=<span class="number">0</span>)</span><br><span class="line">                        mc.deleteAttr(l + <span class="string">&quot;.&quot;</span> + a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">evenInnerCorner</span>():</span><br><span class="line">    <span class="keyword">global</span> recordInnerCornerList</span><br><span class="line">    mc.select(recordInnerCornerList)</span><br><span class="line">    sortGrp = []</span><br><span class="line">    sortGrp =  getEdgeRingGroup(recordInnerCornerList)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(sortGrp) &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> g <span class="keyword">in</span> sortGrp:</span><br><span class="line">            <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;tempEvenCurve&#x27;</span>):</span><br><span class="line">                mc.delete(<span class="string">&#x27;tempEvenCurve&#x27;</span>)</span><br><span class="line">            listVtx = vtxLoopOrder(g)</span><br><span class="line">            mc.select(g)</span><br><span class="line">            mc.polyToCurve(form=<span class="number">2</span>, degree=<span class="number">1</span>, conformToSmoothMeshPreview=<span class="number">1</span>)</span><br><span class="line">            mc.rename(<span class="string">&#x27;tempEvenCurve&#x27;</span>)</span><br><span class="line">            curveCVs =mc.ls(<span class="string">&#x27;tempEvenCurve.cv[*]&#x27;</span>,fl=<span class="number">1</span>)</span><br><span class="line">            posCurve = mc.xform(curveCVs[<span class="number">0</span>], a=<span class="number">1</span>,ws=<span class="number">1</span>, q=<span class="number">1</span>, t=<span class="number">1</span>)</span><br><span class="line">            posEdge = mc.xform(listVtx[<span class="number">0</span>], a=<span class="number">1</span>,ws=<span class="number">1</span>, q=<span class="number">1</span>, t=<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> posCurve == posEdge:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                listVtx = listVtx[::-<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(curveCVs)&gt;<span class="number">2</span>:</span><br><span class="line">                mc.rebuildCurve(<span class="string">&#x27;tempEvenCurve&#x27;</span>,ch=<span class="number">1</span>, rpo=<span class="number">1</span>, rt=<span class="number">0</span>, end=<span class="number">1</span>, kr=<span class="number">0</span>, kcp=<span class="number">0</span>, kep=<span class="number">1</span>, kt=<span class="number">0</span>, s = <span class="number">0</span> , d=<span class="number">1</span>, tol=<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(curveCVs)&lt; <span class="number">4</span>:</span><br><span class="line">                    mc.delete( <span class="string">&#x27;tempEvenCurve.cv[1]&#x27;</span>, <span class="string">&#x27;tempEvenCurve.cv[3]&#x27;</span>)</span><br><span class="line">                    curveCVs =mc.ls(<span class="string">&#x27;tempEvenCurve.cv[*]&#x27;</span>,fl=<span class="number">1</span>)</span><br><span class="line">                posCurve = mc.xform(curveCVs[<span class="number">0</span>], a=<span class="number">1</span>,ws=<span class="number">1</span>, q=<span class="number">1</span>, t=<span class="number">1</span>)</span><br><span class="line">                posEdge = mc.xform(listVtx[<span class="number">0</span>], a=<span class="number">1</span>,ws=<span class="number">1</span>, q=<span class="number">1</span>, t=<span class="number">1</span>)</span><br><span class="line">                posEdge[<span class="number">0</span>] = <span class="built_in">round</span>(posEdge[<span class="number">0</span>],<span class="number">3</span>)</span><br><span class="line">                posEdge[<span class="number">1</span>] = <span class="built_in">round</span>(posEdge[<span class="number">1</span>],<span class="number">3</span>)</span><br><span class="line">                posEdge[<span class="number">2</span>] = <span class="built_in">round</span>(posEdge[<span class="number">2</span>],<span class="number">3</span>)</span><br><span class="line">                posCurve[<span class="number">0</span>] = <span class="built_in">round</span>(posCurve[<span class="number">0</span>],<span class="number">3</span>)</span><br><span class="line">                posCurve[<span class="number">1</span>] = <span class="built_in">round</span>(posCurve[<span class="number">1</span>],<span class="number">3</span>)</span><br><span class="line">                posCurve[<span class="number">2</span>] = <span class="built_in">round</span>(posCurve[<span class="number">2</span>],<span class="number">3</span>)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(curveCVs)):</span><br><span class="line">                pos = mc.xform(curveCVs[i], a=<span class="number">1</span>,ws=<span class="number">1</span>, q=<span class="number">1</span>, t=<span class="number">1</span>)</span><br><span class="line">                mc.xform(listVtx[i], a=<span class="number">1</span>, ws=<span class="number">1</span>, t = (pos[<span class="number">0</span>],pos[<span class="number">1</span>],pos[<span class="number">2</span>]) )</span><br><span class="line">            mc.delete(<span class="string">&#x27;tempEvenCurve&#x27;</span>)</span><br><span class="line">        mc.select(<span class="string">&#x27;cornerDisp&#x27;</span>)</span><br><span class="line">        cmd = <span class="string">&#x27;doMenuComponentSelectionExt(&quot;&#x27;</span> + insetMesh + <span class="string">&#x27;&quot;, &quot;edge&quot;, 0);&#x27;</span></span><br><span class="line">        mel.<span class="built_in">eval</span>(cmd)</span><br><span class="line">        mc.select(insetFace,add=<span class="number">1</span>)</span><br><span class="line">        mc.setToolTo(<span class="string">&#x27;selectSuperContext&#x27;</span>)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reviewProtectCorner</span>():</span><br><span class="line">    mc.select(cl=<span class="number">1</span>)</span><br><span class="line">    mc.select(<span class="string">&#x27;cornerDisp&#x27;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reFineMySelect</span>():</span><br><span class="line">    getRoundV = mc.floatSliderGrp(<span class="string">&#x27;rBevelRound&#x27;</span>, q=<span class="number">1</span>, v=<span class="number">1</span>)</span><br><span class="line">    getInsetV = mc.floatSliderGrp(<span class="string">&#x27;rInsetV&#x27;</span>, q=<span class="number">1</span>, v=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">global</span> useMySelectInsetEdge</span><br><span class="line">    useMySelectInsetEdge = mc.filterExpand(ex =<span class="number">1</span>, sm =<span class="number">32</span>) </span><br><span class="line">    mc.select(useMySelectInsetEdge)</span><br><span class="line">    <span class="keyword">global</span> insetFace</span><br><span class="line">    <span class="keyword">global</span> insetMesh</span><br><span class="line">    <span class="keyword">global</span> insetDataEdgeLoopList</span><br><span class="line">    <span class="keyword">if</span> insetFace:</span><br><span class="line">        mc.select(cl=<span class="number">1</span>)</span><br><span class="line">        mc.polyDelEdge(insetFace, cv=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> insetDataEdgeLoopList:</span><br><span class="line">        mc.select(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>)</span><br><span class="line">        insetDataEdgeLoopList = mc.ls(sl=<span class="number">1</span>,fl=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> insetDataEdgeLoopList:</span><br><span class="line">            toCommonFaceA = mc.polyListComponentConversion(insetDataEdgeLoopList[<span class="number">0</span>], tf=<span class="literal">True</span>)</span><br><span class="line">            toCommonFaceA = mc.ls(toCommonFaceA,fl=<span class="number">1</span>)</span><br><span class="line">            toCommonFaceB = mc.polyListComponentConversion(insetDataEdgeLoopList[<span class="number">1</span>], tf=<span class="literal">True</span>)</span><br><span class="line">            toCommonFaceB = mc.ls(toCommonFaceB,fl=<span class="number">1</span>)</span><br><span class="line">            flatFace = <span class="built_in">list</span>(<span class="built_in">set</span>(toCommonFaceA)&amp;<span class="built_in">set</span>(toCommonFaceB))</span><br><span class="line">            insetFace = flatFace</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>):</span><br><span class="line">        mc.delete(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;cornerDisp&#x27;</span>):</span><br><span class="line">        mc.setAttr(<span class="string">&#x27;cornerDisp.creaseLevel&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">        mc.delete(<span class="string">&#x27;cornerDisp&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> insetMesh:</span><br><span class="line">        mc.select(insetMesh)</span><br><span class="line">        mc.delete(<span class="built_in">all</span>=<span class="number">1</span>, e=<span class="number">1</span>, ch=<span class="number">1</span>)</span><br><span class="line">        cmd  = <span class="string">&#x27;doMenuComponentSelectionExt(&quot;&#x27;</span> + insetMesh + <span class="string">&#x27;&quot;, &quot;facet&quot; , 0);&#x27;</span></span><br><span class="line">        mel.<span class="built_in">eval</span>(cmd)</span><br><span class="line">        mc.select(insetFace)</span><br><span class="line">    insetFace = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    insetMesh = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    insetDataEdgeLoopList = []</span><br><span class="line">    roundInsetRun()</span><br><span class="line">    mc.setAttr(<span class="string">&#x27;insetOffsetNode.insetOffsetV&#x27;</span>, getInsetV)</span><br><span class="line">    mc.setAttr(<span class="string">&#x27;insetOffsetNode.roundV&#x27;</span>, getRoundV)</span><br><span class="line">    mc.select(<span class="string">&#x27;cornerDisp&#x27;</span>)</span><br><span class="line">    cmd = <span class="string">&#x27;doMenuComponentSelectionExt(&quot;&#x27;</span> + insetMesh + <span class="string">&#x27;&quot;, &quot;edge&quot;, 0);&#x27;</span></span><br><span class="line">    mel.<span class="built_in">eval</span>(cmd)</span><br><span class="line">    mc.select(insetFace,add=<span class="number">1</span>)</span><br><span class="line">    mc.setToolTo(<span class="string">&#x27;selectSuperContext&#x27;</span>)</span><br><span class="line">    mc.button(<span class="string">&#x27;InsetButton&#x27;</span>,e=<span class="number">1</span>, l=<span class="string">&#x27;Inset&#x27;</span>, c=<span class="string">&#x27;roundInsetRun()&#x27;</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.18</span>,<span class="number">0.18</span>,<span class="number">0.18</span>])</span><br><span class="line">      </span><br><span class="line">       </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">roundInsetRun</span>():</span><br><span class="line">    modifiers = mc.getModifiers()</span><br><span class="line">    <span class="keyword">if</span> modifiers == <span class="number">4</span>: <span class="comment"># &quot;press Ctrl&quot; </span></span><br><span class="line">        <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;insetOffsetNod*&#x27;</span>):</span><br><span class="line">            reviewProtectCorner()</span><br><span class="line">            mc.button(<span class="string">&#x27;InsetButton&#x27;</span>,e=<span class="number">1</span>, l=<span class="string">&#x27;reFine&#x27;</span>, c=<span class="string">&#x27;reFineMySelect()&#x27;</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.38</span>,<span class="number">0.28</span>,<span class="number">0.18</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        getRoundV = mc.floatSliderGrp(<span class="string">&#x27;rBevelRound&#x27;</span>, q=<span class="number">1</span>, v=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> mc.objExists(<span class="string">&quot;insetOffsetNod*&quot;</span>):</span><br><span class="line">            listNode = mc.ls(<span class="string">&quot;insetOffsetNod*&quot;</span>)</span><br><span class="line">            <span class="keyword">for</span> s <span class="keyword">in</span> listNode:</span><br><span class="line">                getOldMesh = mc.listConnections((s + <span class="string">&#x27;.outputGeometry&#x27;</span>), scn=<span class="literal">True</span> )</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    getOldShape = mc.listConnections((getOldMesh[<span class="number">0</span>] + <span class="string">&#x27;.outputGeometry&#x27;</span>), scn=<span class="literal">True</span> )</span><br><span class="line">                    mc.delete(getOldShape, ch=<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">except</span>:</span><br><span class="line">                    mc.delete(getOldMesh, ch=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;insetOffsetNod*&#x27;</span>):</span><br><span class="line">            mc.delete(<span class="string">&#x27;insetOffsetNod*&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;roundV&#x27;</span>):</span><br><span class="line">            mc.delete(<span class="string">&#x27;roundV&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> mc.objExists(<span class="string">&quot;insetOffsetV&quot;</span>):</span><br><span class="line">            mc.delete(<span class="string">&#x27;nsetOffsetV&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>):</span><br><span class="line">            mc.delete(<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> mc.objExists(<span class="string">&#x27;cornerDisp&#x27;</span>):</span><br><span class="line">            mc.setAttr(<span class="string">&quot;cornerDisp.creaseLevel&quot;</span>, <span class="number">0</span>)</span><br><span class="line">            mc.delete(<span class="string">&#x27;cornerDisp*&#x27;</span>)</span><br><span class="line">        <span class="keyword">global</span> insetDataPP</span><br><span class="line">        <span class="keyword">global</span> insetMesh</span><br><span class="line">        <span class="keyword">global</span> insetFace</span><br><span class="line">        <span class="keyword">global</span> insetDataEdgeLoopList</span><br><span class="line">        <span class="keyword">global</span> insetFaceArea</span><br><span class="line">        <span class="keyword">global</span> newLoop</span><br><span class="line">        <span class="keyword">global</span> recordInnerCornerList</span><br><span class="line">        <span class="keyword">global</span> useMySelectInsetEdge</span><br><span class="line">        recordInnerCornerList = []</span><br><span class="line">        newLoop = []</span><br><span class="line">        insetDataEdgeLoopList = []</span><br><span class="line">        insetDataPP = []</span><br><span class="line">        insetMesh = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        insetFace = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        insetFaceArea = <span class="number">0</span></span><br><span class="line">        selComponent = mc.filterExpand(ex =<span class="number">1</span>, sm =<span class="number">34</span>)</span><br><span class="line">        <span class="keyword">if</span> selComponent:</span><br><span class="line">            geo = mc.ls(hl=<span class="number">1</span>)</span><br><span class="line">            mc.makeIdentity(geo[<span class="number">0</span>], apply=<span class="number">1</span>, t=<span class="number">0</span>, r=<span class="number">0</span>, s=<span class="number">1</span>, n=<span class="number">0</span>, pn=<span class="number">1</span>)</span><br><span class="line">            insetMesh = geo[<span class="number">0</span>]</span><br><span class="line">            faceID = selComponent[<span class="number">0</span>].split(<span class="string">&#x27;[&#x27;</span>)[-<span class="number">1</span>].split(<span class="string">&#x27;]&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">            faceID = <span class="built_in">int</span>(faceID)</span><br><span class="line">            insetFaceArea = getfaceArea(insetMesh,faceID)</span><br><span class="line">            edgeLoopCheck = mc.polyListComponentConversion(selComponent, te=<span class="literal">True</span>)</span><br><span class="line">            edgeLoopCheck = mc.ls(edgeLoopCheck,fl=<span class="number">1</span>)</span><br><span class="line">            insetDataEdgeLoopList = edgeLoopCheck</span><br><span class="line">            mc.sets(insetDataEdgeLoopList, name= <span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>, text=<span class="string">&#x27;insetDataEdgeLoopListKeep&#x27;</span>)</span><br><span class="line">            shortestLength = <span class="number">100000</span></span><br><span class="line">            <span class="keyword">for</span> e <span class="keyword">in</span> edgeLoopCheck:</span><br><span class="line">                checkPoint = mc.polyListComponentConversion(e, tv=<span class="literal">True</span>)</span><br><span class="line">                checkPoint = mc.ls(checkPoint,fl=<span class="number">1</span>)</span><br><span class="line">                dist = distanceBetween(checkPoint[<span class="number">0</span>],checkPoint[<span class="number">1</span>])</span><br><span class="line">                <span class="keyword">if</span>  dist &lt; shortestLength:</span><br><span class="line">                    shortestLength = dist</span><br><span class="line">            shortestLength = <span class="built_in">round</span>(shortestLength, <span class="number">3</span>)</span><br><span class="line">            bevelLength = shortestLength * <span class="number">1.1</span></span><br><span class="line">            bevelLength =  <span class="built_in">round</span>(bevelLength, <span class="number">3</span>)</span><br><span class="line">            maxL = <span class="built_in">round</span>((bevelLength*<span class="number">1.2</span>),<span class="number">2</span>)</span><br><span class="line">            fMax = <span class="built_in">round</span>((bevelLength*<span class="number">10</span>),<span class="number">2</span>)</span><br><span class="line">            stepV =  bevelLength / <span class="number">10</span></span><br><span class="line">            mc.floatSliderGrp(<span class="string">&#x27;rBevelLength&#x27;</span>, e=<span class="number">1</span> ,v=bevelLength, <span class="built_in">min</span>= bevelLength ,<span class="built_in">max</span>= maxL ,fmx=fMax, step = stepV)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> mc.attributeQuery(<span class="string">&#x27;storeBevelV&#x27;</span>, node = geo[<span class="number">0</span>], ex=<span class="literal">True</span> ):</span><br><span class="line">                mc.addAttr(geo[<span class="number">0</span>], ln=<span class="string">&#x27;storeBevelV&#x27;</span>)</span><br><span class="line">            mc.setAttr((insetMesh + <span class="string">&#x27;.storeBevelV&#x27;</span>), <span class="number">0.01</span>)</span><br><span class="line">            mc.polyExtrudeFacet(selComponent,constructionHistory=<span class="number">1</span>, keepFacesTogether=<span class="number">1</span> ,divisions=<span class="number">1</span>, twist=<span class="number">0</span>, taper=<span class="number">1</span>, offset= <span class="number">0.01</span>, thickness=<span class="number">0</span>, smoothingAngle=<span class="number">30</span>)</span><br><span class="line">            insetFace = mc.ls(sl=<span class="number">1</span>,fl=<span class="number">1</span>)</span><br><span class="line">            newLoop = mc.polyListComponentConversion(te=<span class="literal">True</span>)</span><br><span class="line">            newLoop = mc.ls(newLoop,fl=<span class="number">1</span>)</span><br><span class="line">            mc.select(cl=<span class="number">1</span>)</span><br><span class="line">            findCorner = []</span><br><span class="line">            <span class="keyword">for</span> n <span class="keyword">in</span> newLoop:</span><br><span class="line">                intSelCV = mc.polyListComponentConversion(n, tv=<span class="literal">True</span>)</span><br><span class="line">                intSelCV = mc.ls(intSelCV,fl=<span class="number">1</span>)</span><br><span class="line">                distanceX = distanceBetween(intSelCV[<span class="number">0</span>],intSelCV[<span class="number">1</span>])</span><br><span class="line">                <span class="comment">#if distanceX &gt; bevelLength*1.1:</span></span><br><span class="line">                <span class="keyword">if</span> distanceX &gt; bevelLength*<span class="number">1.5</span>:</span><br><span class="line">                    findCorner.append(n)</span><br><span class="line">            cornerLoop = <span class="built_in">list</span>(<span class="built_in">set</span>(newLoop)-<span class="built_in">set</span>(findCorner))</span><br><span class="line">            recordInnerCornerList = cornerLoop</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> useMySelectInsetEdge:</span><br><span class="line">                <span class="comment"># for user select</span></span><br><span class="line">                mc.select(useMySelectInsetEdge)</span><br><span class="line">                mc.ConvertSelectionToFaces()</span><br><span class="line">                mc.ConvertSelectionToEdgePerimeter()</span><br><span class="line">                tempCheckList = mc.ls(sl=<span class="number">1</span>,fl=<span class="number">1</span>)</span><br><span class="line">                newCorner = <span class="built_in">list</span>(<span class="built_in">set</span>(newLoop)&amp;<span class="built_in">set</span>(tempCheckList))</span><br><span class="line">                cornerLoop = newCorner</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> cornerLoop:</span><br><span class="line">                mc.createNode(<span class="string">&#x27;creaseSet&#x27;</span>)</span><br><span class="line">                mc.rename(<span class="string">&#x27;cornerDisp&#x27;</span>)</span><br><span class="line">                mc.setAttr(<span class="string">&quot;cornerDisp.creaseLevel&quot;</span>, <span class="number">1</span>)</span><br><span class="line">                <span class="comment">#mc.select(cornerLoop)</span></span><br><span class="line">                sortGrp = []</span><br><span class="line">                sortGrp =  getEdgeRingGroup(cornerLoop)</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(sortGrp) &gt; <span class="number">0</span>:<span class="comment"># need a method to check loop number = protect corner number</span></span><br><span class="line">                    <span class="keyword">for</span> g <span class="keyword">in</span> sortGrp:</span><br><span class="line">                        <span class="keyword">if</span> <span class="built_in">len</span>(g) &gt; <span class="number">2</span> :</span><br><span class="line">                            matchCorner(g, <span class="number">1.3</span>)</span><br><span class="line">                    newRoundMesh = mc.duplicate(insetMesh, rr=<span class="number">1</span>)</span><br><span class="line">                    mc.rename(newRoundMesh, <span class="string">&#x27;roundV&#x27;</span>)</span><br><span class="line">                    <span class="keyword">for</span> g <span class="keyword">in</span> sortGrp:</span><br><span class="line">                        <span class="keyword">if</span> <span class="built_in">len</span>(g) &gt; <span class="number">2</span> :</span><br><span class="line">                            matchCorner(g, <span class="number">1</span>)</span><br><span class="line">                    innerCVList = mc.polyListComponentConversion(cornerLoop, tv=<span class="literal">True</span>)</span><br><span class="line">                    innerCVList = mc.ls(innerCVList,fl=<span class="number">1</span>)</span><br><span class="line">                    findRingList =mc.polyListComponentConversion(innerCVList,fv=<span class="literal">True</span>, te=<span class="literal">True</span>)</span><br><span class="line">                    findRingList  = mc.ls(findRingList,fl=<span class="number">1</span>)</span><br><span class="line">                    loopRingList = <span class="built_in">list</span>(<span class="built_in">set</span>(findRingList)-<span class="built_in">set</span>(newLoop))</span><br><span class="line">                    loopRingList = mc.polySelectSp(loopRingList[<span class="number">0</span>],ring =<span class="number">1</span>, q=<span class="number">1</span> )</span><br><span class="line">                    loopRingList = mc.ls(loopRingList,fl=<span class="number">1</span>)</span><br><span class="line">                    insetDataPP = []</span><br><span class="line">                    moveP = []</span><br><span class="line">                    baseP = []</span><br><span class="line">                    checkCV = mc.polyListComponentConversion(loopRingList[<span class="number">0</span>], tv=<span class="literal">True</span>)</span><br><span class="line">                    checkCV = mc.ls(checkCV,fl=<span class="number">1</span>)</span><br><span class="line">                    bevelDistance = distanceBetween(checkCV[<span class="number">0</span>],checkCV[-<span class="number">1</span>])</span><br><span class="line">                    <span class="keyword">for</span> r <span class="keyword">in</span> loopRingList:</span><br><span class="line">                        checkCV = mc.polyListComponentConversion(r, tv=<span class="literal">True</span>)</span><br><span class="line">                        checkCV = mc.ls(checkCV,fl=<span class="number">1</span>)</span><br><span class="line">                        <span class="keyword">if</span> checkCV[<span class="number">0</span>] <span class="keyword">in</span> innerCVList:</span><br><span class="line">                            moveP = checkCV[<span class="number">0</span>]</span><br><span class="line">                            baseP = checkCV[<span class="number">1</span>]</span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            moveP = checkCV[<span class="number">1</span>]</span><br><span class="line">                            baseP = checkCV[<span class="number">0</span>]</span><br><span class="line">                        basePPos = mc.pointPosition(baseP, w =<span class="number">1</span>)</span><br><span class="line">                        movePPos = mc.pointPosition(moveP, w =<span class="number">1</span>)</span><br><span class="line">                        dataCollect = [moveP,basePPos,movePPos]</span><br><span class="line">                        insetDataPP.append(dataCollect)</span><br><span class="line">                    newMesh = mc.duplicate(insetMesh, rr=<span class="number">1</span>)</span><br><span class="line">                    mc.rename(newMesh,<span class="string">&#x27;insetOffsetV&#x27;</span>)</span><br><span class="line">                    refBevelV = math.sqrt(insetFaceArea) *<span class="number">4</span></span><br><span class="line">                    <span class="keyword">for</span> v <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(insetDataPP)):</span><br><span class="line">                        currentPos = mc.pointPosition(insetDataPP[v][<span class="number">0</span>], w =<span class="number">1</span>)</span><br><span class="line">                        posX = ((currentPos[<span class="number">0</span>] - insetDataPP[v][<span class="number">1</span>][<span class="number">0</span>])*(refBevelV))+ insetDataPP[v][<span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">                        posY = ((currentPos[<span class="number">1</span>] - insetDataPP[v][<span class="number">1</span>][<span class="number">1</span>])*(refBevelV))+ insetDataPP[v][<span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line">                        posZ = ((currentPos[<span class="number">2</span>] - insetDataPP[v][<span class="number">1</span>][<span class="number">2</span>])*(refBevelV))+ insetDataPP[v][<span class="number">1</span>][<span class="number">2</span>]</span><br><span class="line">                        mc.move(posX, posY, posZ, insetDataPP[v][<span class="number">0</span>].replace(insetMesh, <span class="string">&#x27;insetOffsetV&#x27;</span>), a =<span class="literal">True</span>, ws=<span class="literal">True</span>)</span><br><span class="line">                    mc.delete(insetMesh, ch=<span class="number">1</span>)</span><br><span class="line">                    blendName = mc.blendShape(<span class="string">&#x27;insetOffsetV&#x27;</span>,<span class="string">&#x27;roundV&#x27;</span>, insetMesh)</span><br><span class="line">                    mc.delete(<span class="string">&#x27;insetOffsetV&#x27;</span>,<span class="string">&#x27;roundV&#x27;</span>)</span><br><span class="line">                    mc.rename(blendName, <span class="string">&#x27;insetOffsetNode&#x27;</span>)</span><br><span class="line">                    mc.setAttr(<span class="string">&quot;insetOffsetNode.envelope&quot;</span>, <span class="number">2</span>)</span><br><span class="line">                    mc.connectControl( <span class="string">&#x27;rInsetV&#x27;</span>, <span class="string">&#x27;insetOffsetNode.insetOffsetV&#x27;</span> )</span><br><span class="line">                    mc.connectControl( <span class="string">&#x27;rBevelRound&#x27;</span>, <span class="string">&#x27;insetOffsetNode.roundV&#x27;</span> )</span><br><span class="line">                    mc.floatSliderGrp(<span class="string">&#x27;rBevelLength&#x27;</span>,e=<span class="number">1</span>, en=<span class="number">1</span>)</span><br><span class="line">                    mc.floatSliderGrp(<span class="string">&#x27;rBevelRound&#x27;</span>, e=<span class="number">1</span>, en=<span class="number">1</span>, v=<span class="number">0</span>)</span><br><span class="line">                    mc.button(<span class="string">&#x27;InsetRemoveButton&#x27;</span>,e=<span class="number">1</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.48</span>,<span class="number">0.28</span>,<span class="number">0.28</span>])</span><br><span class="line">                    mc.button(<span class="string">&#x27;InsetCkeaneButton&#x27;</span>,e=<span class="number">1</span>, en = <span class="number">1</span>,bgc=[<span class="number">0.28</span>,<span class="number">0.48</span>,<span class="number">0.28</span>])</span><br><span class="line">                    mc.button(<span class="string">&#x27;InnerCornerEvenButton&#x27;</span>,e=<span class="number">1</span>, en = <span class="number">1</span>)</span><br><span class="line">                    mc.select(cl=<span class="number">1</span>)</span><br><span class="line">                    mc.select(<span class="string">&#x27;cornerDisp&#x27;</span>)</span><br><span class="line">                    cmd = <span class="string">&#x27;doMenuComponentSelectionExt(&quot;&#x27;</span> + insetMesh + <span class="string">&#x27;&quot;, &quot;edge&quot;, 0);&#x27;</span></span><br><span class="line">                    mel.<span class="built_in">eval</span>(cmd)</span><br><span class="line">                    mc.select(insetFace,add=<span class="number">1</span>)</span><br><span class="line">                    mc.setToolTo(<span class="string">&#x27;selectSuperContext&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">matchCorner</span>(<span class="params">edgeLoop, getRoundV</span>):</span><br><span class="line">    <span class="keyword">global</span> insetFace</span><br><span class="line">    <span class="keyword">global</span> insetDataEdgeLoopList</span><br><span class="line">    selLoopShort = edgeLoop</span><br><span class="line">    toCV = mc.polyListComponentConversion(selLoopShort, tv=<span class="literal">True</span>)</span><br><span class="line">    toEdge =mc.polyListComponentConversion(toCV, te=<span class="literal">True</span>)</span><br><span class="line">    toEdge = mc.ls(toEdge,fl=<span class="number">1</span>)</span><br><span class="line">    toFace = mc.polyListComponentConversion(selLoopShort, tf=<span class="literal">True</span>)</span><br><span class="line">    toFace = mc.ls(toFace,fl=<span class="number">1</span>)</span><br><span class="line">    toFace = <span class="built_in">list</span>(<span class="built_in">set</span>(toFace)-<span class="built_in">set</span>(insetFace))</span><br><span class="line">    toEdgeB = mc.polyListComponentConversion(toFace, te=<span class="literal">True</span>)</span><br><span class="line">    toEdgeB = mc.ls(toEdgeB,fl=<span class="number">1</span>)</span><br><span class="line">    selLoopLong = <span class="built_in">list</span>(<span class="built_in">set</span>(toEdgeB)-<span class="built_in">set</span>(toEdge))</span><br><span class="line">    totalLengthA = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> selLoopLong:</span><br><span class="line">        intSelCV = mc.polyListComponentConversion(s, tv=<span class="literal">True</span>)</span><br><span class="line">        intSelCV = mc.ls(intSelCV,fl=<span class="number">1</span>)</span><br><span class="line">        distanceX = distanceBetween(intSelCV[<span class="number">0</span>],intSelCV[<span class="number">1</span>])</span><br><span class="line">        totalLengthA = totalLengthA + distanceX</span><br><span class="line">    totalLengthB = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> selLoopShort:</span><br><span class="line">        intSelCV = mc.polyListComponentConversion(s, tv=<span class="literal">True</span>)</span><br><span class="line">        intSelCV = mc.ls(intSelCV,fl=<span class="number">1</span>)</span><br><span class="line">        distanceX = distanceBetween(intSelCV[<span class="number">0</span>],intSelCV[<span class="number">1</span>])</span><br><span class="line">        totalLengthB = totalLengthB + distanceX</span><br><span class="line">    scaleV = totalLengthA/totalLengthB*getRoundV</span><br><span class="line">    toDO = <span class="built_in">list</span>(<span class="built_in">set</span>(toEdge) - <span class="built_in">set</span>(toEdgeB))</span><br><span class="line">    toDO = toDO + selLoopShort</span><br><span class="line">    toDO = <span class="built_in">list</span>(<span class="built_in">set</span>(toDO))</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(insetDataEdgeLoopList) == <span class="built_in">len</span>(toDO):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        mc.sets(selLoopLong,forceElement=<span class="string">&quot;cornerDisp&quot;</span>)</span><br><span class="line">        pPoint,vList,cList = unBevelEdgeLoop(toDO)</span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> vList:</span><br><span class="line">            mc.scale(scaleV,scaleV,scaleV, v, cs=<span class="number">1</span>, r=<span class="number">1</span>, p= (pPoint[<span class="number">0</span>],pPoint[<span class="number">1</span>],pPoint[<span class="number">2</span>]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">distanceBetween</span>(<span class="params">p1,p2</span>):</span><br><span class="line">    pA = mc.pointPosition(p1, w =<span class="number">1</span>)</span><br><span class="line">    pB = mc.pointPosition(p2, w =<span class="number">1</span>)</span><br><span class="line">    dist = math.sqrt( ((pA[<span class="number">0</span>] - pB[<span class="number">0</span>])**<span class="number">2</span>)  + ((pA[<span class="number">1</span>] - pB[<span class="number">1</span>])**<span class="number">2</span>)  + ((pA[<span class="number">2</span>] - pB[<span class="number">2</span>])**<span class="number">2</span>) )</span><br><span class="line">    <span class="keyword">return</span> dist</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getEdgeRingGroup</span>(<span class="params">selEdges</span>):</span><br><span class="line">    <span class="comment">#selEdges = mc.ls(sl=1,fl=1)</span></span><br><span class="line">    trans = selEdges[<span class="number">0</span>].split(<span class="string">&quot;.&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">    e2vInfos = mc.polyInfo(selEdges, ev=<span class="literal">True</span>)</span><br><span class="line">    e2vDict = &#123;&#125;</span><br><span class="line">    fEdges = []</span><br><span class="line">    <span class="keyword">for</span> info <span class="keyword">in</span> e2vInfos:</span><br><span class="line">        evList = [ <span class="built_in">int</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> re.findall(<span class="string">&#x27;\\d+&#x27;</span>, info) ]</span><br><span class="line">        e2vDict.update(<span class="built_in">dict</span>([(evList[<span class="number">0</span>], evList[<span class="number">1</span>:])]))</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            startEdge, startVtxs = e2vDict.popitem()</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        edgesGrp = [startEdge]</span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> vtx <span class="keyword">in</span> startVtxs:</span><br><span class="line">            curVtx = vtx</span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"></span><br><span class="line">                nextEdges = []</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> e2vDict:</span><br><span class="line">                    <span class="keyword">if</span> curVtx <span class="keyword">in</span> e2vDict[k]:</span><br><span class="line">                        nextEdges.append(k)</span><br><span class="line">                <span class="keyword">if</span> nextEdges:</span><br><span class="line">                    <span class="keyword">if</span> <span class="built_in">len</span>(nextEdges) == <span class="number">1</span>:</span><br><span class="line">                        <span class="keyword">if</span> num == <span class="number">0</span>:</span><br><span class="line">                            edgesGrp.append(nextEdges[<span class="number">0</span>])</span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            edgesGrp.insert(<span class="number">0</span>, nextEdges[<span class="number">0</span>])</span><br><span class="line">                        nextVtxs = e2vDict[nextEdges[<span class="number">0</span>]]</span><br><span class="line">                        curVtx = [ vtx <span class="keyword">for</span> vtx <span class="keyword">in</span> nextVtxs <span class="keyword">if</span> vtx != curVtx ][<span class="number">0</span>]</span><br><span class="line">                        e2vDict.pop(nextEdges[<span class="number">0</span>])</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            num += <span class="number">1</span></span><br><span class="line">        fEdges.append(edgesGrp)</span><br><span class="line">    retEdges =[]</span><br><span class="line">    <span class="keyword">for</span> f <span class="keyword">in</span> fEdges:</span><br><span class="line">        collectList=[]</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> f:</span><br><span class="line">            getCom= (trans +<span class="string">&quot;.e[&quot;</span>+ <span class="built_in">str</span>(x) +<span class="string">&quot;]&quot;</span>)</span><br><span class="line">            collectList.append(getCom)</span><br><span class="line">        retEdges.append(collectList)</span><br><span class="line">    <span class="keyword">return</span> retEdges</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">unBevelEdgeLoop</span>(<span class="params">edgelist</span>):</span><br><span class="line">    listVtx = vtxLoopOrder(edgelist)</span><br><span class="line">    checkA = angleBetweenThreeP(listVtx[<span class="number">1</span>],listVtx[<span class="number">0</span>],listVtx[-<span class="number">1</span>])</span><br><span class="line">    angleA = math.degrees(checkA)</span><br><span class="line">    checkB = angleBetweenThreeP(listVtx[-<span class="number">2</span>],listVtx[-<span class="number">1</span>],listVtx[<span class="number">0</span>])</span><br><span class="line">    angleB = math.degrees(checkB)</span><br><span class="line">    angleC = <span class="number">180</span> - angleA -angleB</span><br><span class="line">    distanceC = distanceBetween(listVtx[<span class="number">0</span>],listVtx[-<span class="number">1</span>])</span><br><span class="line">    distanceA = distanceC / math.sin(math.radians(angleC)) * math.sin(math.radians(angleA))</span><br><span class="line">    distanceB = distanceC / math.sin(math.radians(angleC)) * math.sin(math.radians(angleB))</span><br><span class="line">    oldDistA = distanceBetween(listVtx[-<span class="number">2</span>],listVtx[-<span class="number">1</span>])</span><br><span class="line">    oldDistB = distanceBetween(listVtx[<span class="number">0</span>],listVtx[<span class="number">1</span>])</span><br><span class="line">    scalarB = distanceB / oldDistB</span><br><span class="line">    pA = mc.pointPosition(listVtx[<span class="number">0</span>], w =<span class="number">1</span>)</span><br><span class="line">    pB = mc.pointPosition(listVtx[<span class="number">1</span>], w =<span class="number">1</span>)</span><br><span class="line">    newP = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">    newP[<span class="number">0</span>] = ((pB[<span class="number">0</span>]-pA[<span class="number">0</span>])*scalarB) + pA[<span class="number">0</span>]</span><br><span class="line">    newP[<span class="number">1</span>] = ((pB[<span class="number">1</span>]-pA[<span class="number">1</span>])*scalarB) + pA[<span class="number">1</span>]</span><br><span class="line">    newP[<span class="number">2</span>] = ((pB[<span class="number">2</span>]-pA[<span class="number">2</span>])*scalarB) + pA[<span class="number">2</span>]</span><br><span class="line">    listVtx = listVtx[<span class="number">1</span>:-<span class="number">1</span>]</span><br><span class="line">    storeDist = []</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> listVtx:</span><br><span class="line">        sotreXYZ = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">        p=mc.xform(l,q=<span class="literal">True</span>,t=<span class="literal">True</span>,ws=<span class="literal">True</span>)</span><br><span class="line">        sotreXYZ[<span class="number">0</span>] = (newP[<span class="number">0</span>] -p[<span class="number">0</span>])/<span class="number">100</span></span><br><span class="line">        sotreXYZ[<span class="number">1</span>] = (newP[<span class="number">1</span>] -p[<span class="number">1</span>])/<span class="number">100</span></span><br><span class="line">        sotreXYZ[<span class="number">2</span>] = (newP[<span class="number">2</span>] -p[<span class="number">2</span>])/<span class="number">100</span></span><br><span class="line">        storeDist.append(sotreXYZ)</span><br><span class="line">    <span class="keyword">return</span> newP,listVtx,storeDist</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">vtxLoopOrder</span>(<span class="params">edgelist</span>):</span><br><span class="line">    selEdges = edgelist</span><br><span class="line">    shapeNode = mc.listRelatives(selEdges[<span class="number">0</span>], fullPath=<span class="literal">True</span> , parent=<span class="literal">True</span> )</span><br><span class="line">    transformNode = mc.listRelatives(shapeNode[<span class="number">0</span>], fullPath=<span class="literal">True</span> , parent=<span class="literal">True</span> )</span><br><span class="line">    edgeNumberList = []</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> selEdges:</span><br><span class="line">        checkNumber = ((a.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>]).split(<span class="string">&#x27;\n&#x27;</span>)[<span class="number">0</span>]).split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> checkNumber:</span><br><span class="line">            findNumber = <span class="string">&#x27;&#x27;</span>.join([n <span class="keyword">for</span> n <span class="keyword">in</span> c.split(<span class="string">&#x27;|&#x27;</span>)[-<span class="number">1</span>] <span class="keyword">if</span> n.isdigit()])</span><br><span class="line">            <span class="keyword">if</span> findNumber:</span><br><span class="line">                edgeNumberList.append(findNumber)</span><br><span class="line">    getNumber = []</span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> selEdges:</span><br><span class="line">        evlist = mc.polyInfo(s,ev=<span class="literal">True</span>)</span><br><span class="line">        checkNumber = ((evlist[<span class="number">0</span>].split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">1</span>]).split(<span class="string">&#x27;\n&#x27;</span>)[<span class="number">0</span>]).split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> checkNumber:</span><br><span class="line">            findNumber = <span class="string">&#x27;&#x27;</span>.join([n <span class="keyword">for</span> n <span class="keyword">in</span> c.split(<span class="string">&#x27;|&#x27;</span>)[-<span class="number">1</span>] <span class="keyword">if</span> n.isdigit()])</span><br><span class="line">            <span class="keyword">if</span> findNumber:</span><br><span class="line">                getNumber.append(findNumber)</span><br><span class="line">    dup = <span class="built_in">set</span>([x <span class="keyword">for</span> x <span class="keyword">in</span> getNumber <span class="keyword">if</span> getNumber.count(x) &gt; <span class="number">1</span>])</span><br><span class="line">    getHeadTail = <span class="built_in">list</span>(<span class="built_in">set</span>(getNumber) - dup)</span><br><span class="line">    vftOrder = []</span><br><span class="line">    vftOrder.append(getHeadTail[<span class="number">0</span>])</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(dup)&gt; <span class="number">0</span> <span class="keyword">and</span> count &lt; <span class="number">100</span>:</span><br><span class="line">        checkVtx = transformNode[<span class="number">0</span>]+<span class="string">&#x27;.vtx[&#x27;</span>+ vftOrder[-<span class="number">1</span>] + <span class="string">&#x27;]&#x27;</span></span><br><span class="line">        velist = mc.polyInfo(checkVtx,ve=<span class="literal">True</span>)</span><br><span class="line">        getNumber = []</span><br><span class="line">        checkNumber = ((velist[<span class="number">0</span>].split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">1</span>]).split(<span class="string">&#x27;\n&#x27;</span>)[<span class="number">0</span>]).split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> checkNumber:</span><br><span class="line">            findNumber = <span class="string">&#x27;&#x27;</span>.join([n <span class="keyword">for</span> n <span class="keyword">in</span> c.split(<span class="string">&#x27;|&#x27;</span>)[-<span class="number">1</span>] <span class="keyword">if</span> n.isdigit()])</span><br><span class="line">            <span class="keyword">if</span> findNumber:</span><br><span class="line">                getNumber.append(findNumber)</span><br><span class="line">        findNextEdge = []</span><br><span class="line">        <span class="keyword">for</span> g <span class="keyword">in</span> getNumber:</span><br><span class="line">            <span class="keyword">if</span> g <span class="keyword">in</span> edgeNumberList:</span><br><span class="line">                findNextEdge = g</span><br><span class="line">        edgeNumberList.remove(findNextEdge)</span><br><span class="line">        checkVtx = transformNode[<span class="number">0</span>]+<span class="string">&#x27;.e[&#x27;</span>+ findNextEdge + <span class="string">&#x27;]&#x27;</span></span><br><span class="line">        findVtx = mc.polyInfo(checkVtx,ev=<span class="literal">True</span>)</span><br><span class="line">        getNumber = []</span><br><span class="line">        checkNumber = ((findVtx[<span class="number">0</span>].split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">1</span>]).split(<span class="string">&#x27;\n&#x27;</span>)[<span class="number">0</span>]).split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> checkNumber:</span><br><span class="line">            findNumber = <span class="string">&#x27;&#x27;</span>.join([n <span class="keyword">for</span> n <span class="keyword">in</span> c.split(<span class="string">&#x27;|&#x27;</span>)[-<span class="number">1</span>] <span class="keyword">if</span> n.isdigit()])</span><br><span class="line">            <span class="keyword">if</span> findNumber:</span><br><span class="line">                getNumber.append(findNumber)</span><br><span class="line">        gotNextVtx = []</span><br><span class="line">        <span class="keyword">for</span> g <span class="keyword">in</span> getNumber:</span><br><span class="line">            <span class="keyword">if</span> g <span class="keyword">in</span> dup:</span><br><span class="line">                gotNextVtx = g</span><br><span class="line">        dup.remove(gotNextVtx)</span><br><span class="line">        vftOrder.append(gotNextVtx)</span><br><span class="line">        count +=  <span class="number">1</span></span><br><span class="line">    vftOrder.append(getHeadTail[<span class="number">1</span>])</span><br><span class="line">    finalList = []</span><br><span class="line">    <span class="keyword">for</span> v <span class="keyword">in</span> vftOrder:</span><br><span class="line">        finalList.append(transformNode[<span class="number">0</span>]+<span class="string">&#x27;.vtx[&#x27;</span>+ v + <span class="string">&#x27;]&#x27;</span> )</span><br><span class="line">    <span class="keyword">return</span> finalList</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">angleBetweenThreeP</span>(<span class="params">pA, pB, pC</span>):</span><br><span class="line">    a = mc.pointPosition(pA, w =<span class="number">1</span>)</span><br><span class="line">    b = mc.pointPosition(pB, w =<span class="number">1</span>)</span><br><span class="line">    c = mc.pointPosition(pC, w =<span class="number">1</span>)</span><br><span class="line">    ba = [ aa-bb <span class="keyword">for</span> aa,bb <span class="keyword">in</span> <span class="built_in">zip</span>(a,b) ]</span><br><span class="line">    bc = [ cc-bb <span class="keyword">for</span> cc,bb <span class="keyword">in</span> <span class="built_in">zip</span>(c,b) ]</span><br><span class="line">    nba = math.sqrt ( <span class="built_in">sum</span> ( (x**<span class="number">2.0</span> <span class="keyword">for</span> x <span class="keyword">in</span> ba) ) )</span><br><span class="line">    ba = [ x/nba <span class="keyword">for</span> x <span class="keyword">in</span> ba ]</span><br><span class="line">    nbc = math.sqrt ( <span class="built_in">sum</span> ( (x**<span class="number">2.0</span> <span class="keyword">for</span> x <span class="keyword">in</span> bc) ) )</span><br><span class="line">    bc = [ x/nbc <span class="keyword">for</span> x <span class="keyword">in</span> bc ]</span><br><span class="line">    scalar = <span class="built_in">sum</span> ( (aa*bb <span class="keyword">for</span> aa,bb <span class="keyword">in</span> <span class="built_in">zip</span>(ba,bc)) )</span><br><span class="line">    angle = math.acos(scalar)</span><br><span class="line">    <span class="keyword">return</span> angle</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getfaceArea</span>(<span class="params">mesh,faceId</span>):</span><br><span class="line">    <span class="keyword">if</span> mc.objectType(mesh) == <span class="string">&#x27;transform&#x27;</span>:</span><br><span class="line">        mesh = mc.listRelatives(mesh,s=<span class="literal">True</span>,ni=<span class="literal">True</span>,pa=<span class="literal">True</span>)[<span class="number">0</span>]</span><br><span class="line">    selectionList = OpenMaya.MSelectionList()</span><br><span class="line">    OpenMaya.MGlobal.getSelectionListByName(mesh,selectionList)</span><br><span class="line">    mDagPath = OpenMaya.MDagPath()</span><br><span class="line">    selectionList.getDagPath(<span class="number">0</span>,mDagPath)</span><br><span class="line">    meshFaceIt = OpenMaya.MItMeshPolygon(mDagPath)</span><br><span class="line">    <span class="keyword">if</span> faceId != <span class="literal">None</span>:</span><br><span class="line">        meshFaceUtil = OpenMaya.MScriptUtil()</span><br><span class="line">        meshFacePtr = meshFaceUtil.asIntPtr()</span><br><span class="line">        meshFaceIt.setIndex(faceId,meshFacePtr)</span><br><span class="line">    faceArea = OpenMaya.MScriptUtil()</span><br><span class="line">    faceArea.createFromDouble(<span class="number">0.0</span>)</span><br><span class="line">    faceAreaPtr = faceArea.asDoublePtr()</span><br><span class="line">    meshFaceIt.getArea(faceAreaPtr)</span><br><span class="line">    areaCheck =  OpenMaya.MScriptUtil(faceAreaPtr).asDouble()</span><br><span class="line">    <span class="keyword">return</span> areaCheck</span><br><span class="line"></span><br><span class="line">roundInset()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>人这种动物为什么要喝牛那种动物的奶——《警惕科学（完整版）》</title>
      <link href="/52048/"/>
      <url>/52048/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/JingTiKeXue3.png"></p><h1 id="人这种动物是怎样喝上牛那种动物的奶的？"><a href="#人这种动物是怎样喝上牛那种动物的奶的？" class="headerlink" title="人这种动物是怎样喝上牛那种动物的奶的？"></a>人这种动物是怎样喝上牛那种动物的奶的？</h1><p>2006年初同学聚会，在我说起我的素食三大理由“环保、健康、合天理”之后，我的中学同学，现在农科院从事转基因研究的张永祥博士告诉我一个远远超出了我脆弱的想象能力的事实。这使我立即戒掉了了牛奶，并且迅速延及其它奶制品，连冰淇淋都戒掉了。</p><p>我且把这个过程换一种方式重述一遍。</p><p>物质不灭，能量守恒，天上不会下牛奶。现在我们知道，我们喝的奶，都来自一种叫做奶牛的动物。</p><p>那么，奶牛为什么会产奶呢？</p><p>这个问题很多人不知道，我以前也比较含糊。现在我终于可以确认，奶牛之所以产奶，是因为她生小牛了。没有哪一种哺乳类动物的雌性个体会平白无故地天天从乳房里向外淌奶。</p><p>那么，奶牛为什么会生小牛呢？</p><p>因为她怀孕了。</p><p>奶牛为什么怀孕呢？</p><p>这个问题很多人都想当然地以为自己知道，所以答案才让我震惊，</p><p>——因为，因为她被人工受精了！</p><p>进而，</p><p>奶牛为什么会不断地产奶呢？</p><p>因为她不断地生小牛。</p><p>奶牛为什么不断地生小牛呢？</p><p>因为她不断地怀孕。</p><p>奶牛为什么不断地怀孕呢？</p><p>因为她不断地被人工受精。</p><p>同肉类食品一样，我们现在饮用的牛奶，都来自于工厂化的养殖业，而不是来自传统的人畜共生的畜牧业。乳业流水线上的奶牛，一辈子没谈过恋爱，一辈子没有过过性生活，甚至一辈子没有见过公牛，却一辈子不停地生小牛，一辈子在不停地被挤奶。</p><p>天啊，我的牛顿啊，这还是牛过的日子吗？</p><p>甚至，奶牛妈妈从来没有给自己的孩子哺过乳——据说，一旦让小牛吃过他娘的奶头，牛妈妈就和牛宝宝就会产生母子依恋，就不肯让人挤奶了。所以在先进的乳业工厂里，奶牛根本看不到自己的孩子，小牛也见不到他们的母亲，一生下来就被母子分离。一部分小母牛被人喂养成奶牛，重复她母亲的命运；一部分小牛被卖出去当肉牛饲养，这算是幸运的；还有一部分小牛，直接进了生化工厂，变成了各种血清、蛋白和酶！</p><p>地啊，我的爱因斯坦啊，人可以安心让牛过这样的生活吗？</p><p>在现代化的“先进”管理下，奶牛的一生大概是这样的。小母牛在16个月的时候进入青春期，人就要考虑为她授精。很快，这个一岁多的处女牛就莫名其妙地怀孕了。280天之后，小母牛分娩，作了妈妈。从此时起，自动化的机械取奶装置就开始定期吸她的奶。又过了305天，奶牛停止产奶，可以休息了。但是只能休息60天。因为此前220天，她已经第二次被人工授精了。60天后，她会产下了第二个孩子，开始了新的轮回。在七八个轮回之后，奶牛体力衰竭，就被“淘汰”了。</p><p>“淘汰”是乳品行业的术语，就是不要了，处置了。——能卖就卖了，不能卖也不能留着浪费饲料。</p><p>奶牛们就是这样生活了一辈子！</p><h2 id="田松-人这种动物为什么要喝牛那种动物的奶——《警惕科学（完整版）》第三节"><a href="#田松-人这种动物为什么要喝牛那种动物的奶——《警惕科学（完整版）》第三节" class="headerlink" title="田松 | 人这种动物为什么要喝牛那种动物的奶——《警惕科学（完整版）》第三节"></a><a href="https://www.163.com/dy/article/DGDV62IP0511C3KH.html">田松 | 人这种动物为什么要喝牛那种动物的奶——《警惕科学（完整版）》第三节</a></h2><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 阅读 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maya有什么命名规范？</title>
      <link href="/16940/"/>
      <url>/16940/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Maya中的节点和属性名称不能以数字开头，必须以英文字母开头，不能使用中文字符，特殊字符除了_以外，其他如空格、&#x2F;、-、(、)等都不允许使用。第一个单词首字母小写，后面接的其他单词首字母大写。Mya的工程文件命名虽然不受限制，可以用数字开头，也可以用中文字符和特殊字符，但笔者推荐还是按照节点和属性的命名要求来命名工程文件，以预防出现不可知的错误。<br>提示：Maya的整个文件保存路径最好都是全英文的，不要出现中文字符，否则有可能出现文件打不开等奇怪的问题。</p><p>（以上内容摘抄自，《三维建模与渲染：Maya建模与Arnold渲染百问》 第 20 问 ）</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_01.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>嵌入iframe播放器</title>
      <link href="/59730/"/>
      <url>/59730/</url>
      
        <content type="html"><![CDATA[<h1 id="iframe"><a href="#iframe" class="headerlink" title="iframe"></a>iframe</h1><p>iframe 标签用于在网页里面嵌入其他网页。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;https://www.example.com/&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">allowfullscreen</span> <span class="attr">sandbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>以上代码意思就是在网页中嵌入一个示例站点（<a href="https://www.example.com/%EF%BC%89">https://www.example.com/）</a><br>宽度自适应100% ，高度为500像素。 边框宽度为0<br>效果如下↓</p><iframe src="https://www.example.com/ "        width="100%" height="500" frameborder="0"></iframe><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; padding: 30% 45%;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">style</span>=<span class="string">&quot;position: absolute; width: 100%; height: 100%; left: 0; top: 0;&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">src</span>=<span class="string">&quot;https://player.bilibili.com/player.html?aid=692332871&amp;bvid=BV1d24y1Y79G&amp;cid=950939214&amp;p=1&amp;autoplay=0&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">framespacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span> <span class="attr">danmaku</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>自动播放需要加在链接的后方使用 “&amp;” 连接 </p><p>https :&#x2F;&#x2F;xxxxxx.xxx&amp;autoplay&#x3D;0</p><div style="position: relative; padding: 30% 45%;"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://player.bilibili.com/player.html?aid=692332871&bvid=BV1d24y1Y79G&cid=950939214&p=1&autoplay=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" danmaku="0"></iframe></div><p></p><p></p><table><thead><tr><th align="center"></th><th align="center">作用</th><th align="center">意义</th></tr></thead><tbody><tr><td align="center">autoplay</td><td align="center">自动播放</td><td align="center">0&#x2F;1</td></tr><tr><td align="center">danmaku</td><td align="center">弹幕</td><td align="center">0&#x2F;1</td></tr><tr><td align="center">muted</td><td align="center">静音</td><td align="center">0&#x2F;1</td></tr><tr><td align="center">hasMuteButton</td><td align="center">隐藏静音按钮</td><td align="center">0&#x2F;1</td></tr><tr><td align="center">hideCoverInfo</td><td align="center">播放量，弹幕等</td><td align="center">0&#x2F;1</td></tr><tr><td align="center">hideDanmakuButton</td><td align="center">隐藏弹幕按钮</td><td align="center">0&#x2F;1</td></tr><tr><td align="center">noFullScreenButton</td><td align="center">隐藏全屏按钮</td><td align="center">0&#x2F;1</td></tr><tr><td align="center">fjw</td><td align="center">记忆播放</td><td align="center">0&#x2F;1</td></tr><tr><td align="center">t</td><td align="center">开始时间&#x2F;秒</td><td align="center"></td></tr><tr><td align="center">highQuality</td><td align="center">高清</td><td align="center">0&#x2F;1</td></tr></tbody></table><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maya为什么不能使用 Ctrl+C / Ctrl+V</title>
      <link href="/7640/"/>
      <url>/7640/</url>
      
        <content type="html"><![CDATA[<h1 id="Maya为什么不能使用-Ctrl-C-Ctrl-V"><a href="#Maya为什么不能使用-Ctrl-C-Ctrl-V" class="headerlink" title="Maya为什么不能使用 Ctrl+C &#x2F; Ctrl+V"></a>Maya为什么不能使用 Ctrl+C &#x2F; Ctrl+V</h1><p>我在上学的时候接触Maya就有见到这个熟悉的字符 “pasted__”，当时我也不知道这个东西怎么产生的。后来在实习的时候知道了这玩意是Ctrl + C &#x2F; V 产生的。一开始我也没觉得有什么影响，但是我记得好像是有一个场景有很多这个字符，灯光链接出现了问题，怎么也链接不到。最后给那个模型修改了命名解决了问题。我是不会使用C V复制粘贴模型的，后来工作以后我发现还是有人使用这种方法复制粘贴模型的，可能是为了方便？快捷？ 我表示很不理解。后来我发现有问题后只要到我手里的场景文件我发现 pasted 就会进行清理，以避免不必要的麻烦。 我在<a href="/54222/">Maya重命名工具：ig_EzRename</a>一文中介绍过一键干掉pasted的功能，可以通过这个功能干掉pasted。</p><blockquote><h2 id="为什么不能用【Ctrl】-【C】-【Ctrl】-【V】替代【Ctrl】-【D】操作？"><a href="#为什么不能用【Ctrl】-【C】-【Ctrl】-【V】替代【Ctrl】-【D】操作？" class="headerlink" title="为什么不能用【Ctrl】+【C】&#x2F;【Ctrl】+【V】替代【Ctrl】+【D】操作？"></a>为什么不能用【Ctrl】+【C】&#x2F;【Ctrl】+【V】替代【Ctrl】+【D】操作？</h2><p>大家平时使用Window操作系统都习惯用【Ctrl】+【C】&#x2F;【Ctrl】+【V】来拷贝&#x2F;粘贴对象，再Maya里使用【Ctrl】+【C】&#x2F;【Ctrl】+【V】也能实现复制对象的操作，但其复制结果与【Ctrl】+【D】完全不同。</p><p>还是以小球pSphere1为例，用【Ctrl】+【C】&#x2F;【Ctrl】+【V】复制出一个新的小球，名称自动命名为pasted__pSphere1，pasted__pSphere1在上一层级还自动产生一个空的组节点作为父节点。新小球将原小球的所有节点网络完整复制了一套，新节点的命名都是在原节点前加“pasted__”。</p><p>笔者不推荐使用【Ctrl】+【C】&#x2F;【Ctrl】+【V】这种复制方式，因为它的命名方式不简洁，经过多次复制后会产生一长串的前缀字符，还形成了多层级的空组，在Hypeshade（材质编辑器）里也会出现许多一模一样的节点，导致整个场景文件凌乱不堪，整理起来非常麻烦。所以，如果想要复制完整的节点网络，就用Duplicate Special（特殊复制）；如果只想复制单独一个节点，就用Duplicate（复制）热键【Ctrl】+【D】。</p><p>（以上内容摘抄自，《三维建模与渲染：Maya建模与Arnold渲染百问》 第 19 问 ）</p></blockquote><hr><p>羊盒在2021年1月25号发布的4.2.27版本中提到Ctrl+V对场景的污染。</p><p>如果您有Ctrl+V的习惯请尽早改正。避免不必要的麻烦。</p><blockquote><p>禁用经常导致误操作的 Ctrl+V [ 不会影响复制关键帧，重启maya后生效 ]<br>(由于maya中的 Ctrl+v 粘贴出来的节点无法撒回，很容易造成场景污染，*强烈推荐勾选 *)<br>—- 我不装了，我摊牌了，这恶心玩意儿必须得勾，<br>用脚后眼想想，弄出一大堆”pasted__”节点名是人干的事儿？<br>可长点心叭，复制粘贴节点给老子死—-</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231022202512067.png" alt="暴力羊"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_01.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>传递顶点顺序</title>
      <link href="/57164/"/>
      <url>/57164/</url>
      
        <content type="html"><![CDATA[<h1 id="顶点ID"><a href="#顶点ID" class="headerlink" title="顶点ID"></a>顶点ID</h1><p>官方帮助：<a href="https://help.autodesk.com/view/MAYAUL/2023/CHS/?guid=GUID-8CF82D97-203C-4056-BEF2-EA0CD27336ED">https://help.autodesk.com/view/MAYAUL/2023/CHS/?guid=GUID-8CF82D97-203C-4056-BEF2-EA0CD27336ED</a></p><p>如果两个物体布线形状完全相同但是传递UV就会碎掉多半是因为顶点ID顺序不同。我在<a href="/63197">传递UV插件</a>一篇文章提到过，这里具体的说明一下这个问题。顶点ID顺序相同后就会正常传递UV。</p><h2 id="显示顶点ID的方法"><a href="#显示顶点ID的方法" class="headerlink" title="显示顶点ID的方法"></a>显示顶点ID的方法</h2><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231020212234126.png" alt="image-20231020220644750"></p><h2 id="对顶点重新排序"><a href="#对顶点重新排序" class="headerlink" title="对顶点重新排序"></a>对顶点重新排序</h2><p>编辑网格 —&gt;对顶点重新排序</p><p>创建多边形对象时，Maya 会自动为其指定顶点 ID。您可以使用“对顶点重新排序”(Reorder Vertices)命令更改顶点顺序。</p><p>使用方法就是执行该工具后选择同一个面上面的三个相邻顶点。即可重新排序顶点ID。可能描述的不太清楚，可以看官方帮助。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231020220644750.png" alt="image-20231020220644750"></p><h2 id="传递顶点顺序"><a href="#传递顶点顺序" class="headerlink" title="传递顶点顺序"></a>传递顶点顺序</h2><p>网格  —&gt; 传递顶点顺序</p><p>在源对象上，单击三个相邻的顶点</p><p>在目标对象上，单击与源对象上选择的三个顶点相关的三个相邻顶点</p><p>Maya 会将其余顶点重新排序，使之相对于三个选定的基础节点与源对象匹配</p><p>先选择的顶点顺序会被传递到后选择的多边形上</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231020222317574.png" alt="image-20231020222317574"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231020212253062.png" alt="image-20231020212253062"></p><hr><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpPaint3D</title>
      <link href="/39843/"/>
      <url>/39843/</url>
      
        <content type="html"><![CDATA[<h1 id="SpPaint3D"><a href="#SpPaint3D" class="headerlink" title="SpPaint3D"></a>SpPaint3D</h1><h2 id="2022-0"><a href="#2022-0" class="headerlink" title="2022.0"></a>2022.0</h2><p><a href="https://sppaint3d.helikoid.com/">SpPaint3D Maya2022.0</a></p><p>帮助：<a href="https://sppaint3d.helikoid.com/dist/2022.0/doc/README.html">spPaint3d 2022.0   自述文件</a></p><p>spPaint3d是一个对象放置工具，也可以理解为散布工具。最初是在羊盒里面见到的。因为Maya2022的原因也就不能用了，然后我就发现了这个2022版的。好像不是原作者的那一版，但是能用就行。由于工具不太常用，做了一个简单的汉化。便于使用。使用方法可以去帮助文档里面找，写的很详细。</p><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>蓝奏云：<a href="https://zhangzhilong.lanzoue.com/i7YFA1c2scvc">https://zhangzhilong.lanzoue.com/i7YFA1c2scvc</a></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>直接将解压出来的 “ dragndrop_installer.py ”文件拖拽到Maya，根据提示安装即可，需要注意的是安装的文件夹就是你拖拽的文件夹，删除了这个文件夹插件就不能使用了，建议在Maya的文档中解压安装。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231017212605596.png" alt="image-20231017212605596"></p><h2 id="2011-1"><a href="#2011-1" class="headerlink" title="2011.1"></a>2011.1</h2><p>这个2011.1也就是羊盒里面的一版。</p><p>这是2011.1版本的说明对照</p><p><a href="http://www.creativecrash.com/maya/downloads/scripts-plugins/utility-external/misc/c/sppaint3d">http://www.creativecrash.com/maya/downloads/scripts-plugins/utility-external/misc/c/sppaint3d</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/spPaint3d.png" alt="spPaint3d"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PureRef</title>
      <link href="/3191/"/>
      <url>/3191/</url>
      
        <content type="html"><![CDATA[<h1 id="PureRef-汉化版"><a href="#PureRef-汉化版" class="headerlink" title="PureRef 汉化版"></a>PureRef 汉化版</h1><h3 id="官网：https-www-pureref-com"><a href="#官网：https-www-pureref-com" class="headerlink" title="官网：https://www.pureref.com/"></a>官网：<a href="https://www.pureref.com/">https://www.pureref.com/</a></h3><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231016215938432.png" alt="image-20231016215938432"></p><p>PureRef是一个独立的程序，适用于Windows，Mac和Linux，可以摆放您的图像</p><p>无论您是在收集灵感，还是需要绘画或 3D 模型的参考图像，PureRef 都能满足您的需求，因此您可以专注于创作。</p><h3 id="下载与安装"><a href="#下载与安装" class="headerlink" title="下载与安装"></a>下载与安装</h3><h4 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h4><p>先双击安装 PureRef-1.11.1_x64.exe</p><p>再安装汉化补丁即可</p><h4 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h4><p>蓝奏云：<a href="https://zhangzhilong.lanzoue.com/iw8Ak1c00fod">https://zhangzhilong.lanzoue.com/iw8Ak1c00fod</a></p><h3 id="Bilbili关于PureRef的教学"><a href="#Bilbili关于PureRef的教学" class="headerlink" title="Bilbili关于PureRef的教学"></a>Bilbili关于PureRef的教学</h3><p>作者：<a href="https://space.bilibili.com/72488046">JHTV</a></p><p><a href="https://www.bilibili.com/video/BV1Vt4y127zv/">https://www.bilibili.com/video/BV1Vt4y127zv/</a></p><h3 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/PureRef%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3.png"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SwiftModel</title>
      <link href="/62497/"/>
      <url>/62497/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/SwiftModel.png"></p><h3 id="Swift官网：http-www-swiftmodel-com-cn"><a href="#Swift官网：http-www-swiftmodel-com-cn" class="headerlink" title="Swift官网：http://www.swiftmodel.com.cn/"></a>Swift官网：<a href="http://www.swiftmodel.com.cn/">http://www.swiftmodel.com.cn/</a></h3><p>下载地址：<a href="http://www.swiftmodel.com.cn/col.jsp?id=103">SwiftModel</a></p><p>SwiftModel 文档教程：<a href="http://www.swiftmodel.com.cn/col.jsp?id=109">SwiftModel</a></p><p>龚老师关于该工具的系列教程：<a href="https://www.bilibili.com/video/BV1uj411x7KZ/">Swift插件超详细完整使用教程</a></p><p><img src="http://26819561.s21i.faiusr.com/2/ABUIABACGAAgnuWejAYox_LMowcwoAk4ohc.jpg"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GScurveTool</title>
      <link href="/48095/"/>
      <url>/48095/</url>
      
        <content type="html"><![CDATA[<h2 id="GS曲线工具"><a href="#GS曲线工具" class="headerlink" title="GS曲线工具"></a>GS曲线工具</h2><p><strong>GS</strong>曲线工具是一个强大的工具，用于创建和操作面片和管。<strong>GS CurveTools</strong> 可用于多种工作流程，从<strong>插片头发</strong>创建到创建复杂的程序编织电缆等等。</p><p><strong>GS CurveTools</strong> 的主要功能是它能够快速创建复杂的节点网络，专为以平滑自然的方式快速操作几何体而量身定制。</p><p><strong>GS CurveTools</strong> 的主要关注点之一是插片头发工作流程。几乎每个游戏都使用某种形式的发卡为其主要角色创建复杂而美丽的发型。为了能够快速创建新的发卡，将曲线转换为发卡并快速更改其参数是<strong>GS CurveTools</strong>工作流程中非常重要的一部分。</p><h3 id="作者"><a href="#作者" class="headerlink" title="作者"></a>作者</h3><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231011212912224.png" alt="image-20231011212912224"></p><p>作者主页：<a href="https://sladkovsky3d.artstation.com/">https://sladkovsky3d.artstation.com/</a></p><p>购买地址（$24.99）：<a href="https://sladkovsky3d.artstation.com/store/zzR2/">https://sladkovsky3d.artstation.com/store/zzR2/</a></p><p>官方帮助文档：<a href="https://gs-curvetools.readthedocs.io/en/latest/">https://gs-curvetools.readthedocs.io/en/latest/</a></p><h3 id="安装步骤："><a href="#安装步骤：" class="headerlink" title="安装步骤："></a>安装步骤：</h3><p>拷贝对应版本文件夹下的 “gs_curvetools” 文件夹到文档\Maya\Maya版本\scripts\</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator\Documents\maya\2022\zh_CN\scripts</span><br></pre></td></tr></table></figure><p>启动Maya，拷贝下面这行代码到Python命令中，回车。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gs_curvetools.init <span class="keyword">as</span> ct_init;<span class="keyword">from</span> imp <span class="keyword">import</span> reload;reload(ct_init);ct_init.Init();</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/GS001.png"></p><p>执行完以上代码会有一个启动成功的界面，各个图标的作用也做了相关介绍。</p><p>在工具架的GS工具栏可以找到这个工具的图标。安装成功！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231009214603715.png" alt="image-20231009214603715"></p><h3 id="常用"><a href="#常用" class="headerlink" title="常用"></a>常用</h3><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231009215420817.png" alt="image-20231009215420817"></p><p>New Card 新建一个面片</p><p>New Tube 新建一个管道</p><p>Curve Card 根据选择的曲线创建面片</p><p>Curve Tube 根据选择的曲线创建管道</p><p>Extract Selected 将创建好的管面提取为模型。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231009215712457.png" alt="image-20231009215712457"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231009215813011.png" alt="image-20231009215813011"></p><h3 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h3><p>V1.2.7</p><p>蓝奏云：<a href="https://zhangzhilong.lanzoue.com/iSq6H1bayeyf">https://zhangzhilong.lanzoue.com/iSq6H1bayeyf</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231011213730815.png" alt="image-20231011213730815"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>暂停Windows更新</title>
      <link href="/12623/"/>
      <url>/12623/</url>
      
        <content type="html"><![CDATA[<h2 id="暂停Windows更新"><a href="#暂停Windows更新" class="headerlink" title="暂停Windows更新"></a>暂停Windows更新</h2><p>之前用过第三方工具进行暂停Windows的更新，但是有一个弊端，就是有的应用商店无法使用，有的无法登陆微软账户。这种修改注册表的方式可以暂停很长时间。正常的话Windows允许暂停更新32天，有的是7天，原理就是通过修改注册表参数延长这个日期，本质上不会破坏Windows的正常运行，只是暂停了Windows的更新。从而达到不更新系统的目的。</p><p>Win键+R 运行 Regedit</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230916200733863.png" alt="image-20230916200733863"></p><p>打开注册表编辑器后输入以下路径。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">计算机\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsUpdate\UX\Settings</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230916201205926.png" alt="image-20230916201205926"></p><p>在空白处邮右键新建<strong>DWORD（32位）值</strong></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230916201334904.png" alt="image-20230916201334904"></p><p>点击确定后把命名修改为：<strong>FlightSettingsMaxPauseDays</strong></p><p>数值数据修改为十进制的 <strong>3000</strong></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230916201654466.png" alt="image-20230916201654466"></p><p>完成以上操作后打开Windows的设置，找到Windows更新，可以看到我现在是可以暂停到2023&#x2F;10&#x2F;22，点击高级选项。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230916201834991.png" alt="image-20230916201834991"></p><p>然后在暂停更新的选项栏选择日期，可以看到可以暂停到2031年的12月1日。选择需要的日期返回。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230916202038814.png" alt="image-20230916202038814"></p><p>就可以暂停更新啦！</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230916202210694.png" alt="image-20230916202210694"></p><hr><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2345看图王绿色去广告版</title>
      <link href="/53540/"/>
      <url>/53540/</url>
      
        <content type="html"><![CDATA[<h3 id="2345看图王"><a href="#2345看图王" class="headerlink" title="2345看图王"></a>2345看图王</h3><h3 id="官网："><a href="#官网：" class="headerlink" title="官网："></a>官网：</h3><p><a href="https://pic.2345.cc/">https://pic.2345.cc/</a></p><p>2345看图王是一款速度超快的看图软件，简洁易操作。采用了超强图片引擎，在低配置的电脑上也能闪电般打开十几上百兆的大图，运用精妙的图像处理技术，还原真实色彩，支持CMYK模式；比传统图片查看器支持更多的图片格式，除了支持JPG&#x2F;BMP&#x2F;PNG常见图片格式 和TIF&#x2F;GIF动画格式，更兼容PSD&#x2F;RAW&#x2F;WEBP&#x2F;JP2APNG等专业图像格式，所支持的格式多达69种格式；提供了图片美化功能、图像管理功能、PDF阅读器。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230916181738851.png" alt="image-20230916181738851"></p><h3 id="绿化版本：10-10"><a href="#绿化版本：10-10" class="headerlink" title="绿化版本：10.10"></a>绿化版本：10.10</h3><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230916181922583.png" alt="image-20230916181922583"></p><h3 id="安装与卸载"><a href="#安装与卸载" class="headerlink" title="安装与卸载"></a>安装与卸载</h3><p>安装很简单，双击运行选择安装位置即可。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230916181826737.png" alt="image-20230916181826737"></p><p>卸载也很简单，直接找到你所安装的目录，找到 <strong>!)卸载清除.bat</strong> 双击运行按照提示就可以彻底卸载。</p><h3 id="下载："><a href="#下载：" class="headerlink" title="下载："></a>下载：</h3><p>蓝奏云：<a href="https://zhangzhilong.lanzoue.com/igbHi18pfwah">https://zhangzhilong.lanzoue.com/igbHi18pfwah</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于Xgen遇到的问题</title>
      <link href="/29368/"/>
      <url>/29368/</url>
      
        <content type="html"><![CDATA[<p>错误：<strong>XGen Error–You have generated over 163840 primities on a single face</strong></p><p>在<strong>CGSOCIETY</strong>找到了解决方法</p><p>在比例很小的面片上面创建Xgen，后放大到需要的大小。再制作就不会出现问题了。</p><p>比如正常缩放是 1  1  1  缩放到0.01  0.01  0.01 然后冻结变换，创建Xgen样条线，再放大100倍调整参数。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/CGTalk%20_%20XGen%20Error--You%20have%20generated%20over%2016384.png"></p><p>创建Xgen的面片需要是 Lambert材质。</p><p>2023年10月18日20:43:04 更新</p><h2 id="随机函数"><a href="#随机函数" class="headerlink" title="随机函数"></a>随机函数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$a=rand(0.1,1.0);</span><br><span class="line">$a</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>反向Smooth</title>
      <link href="/19028/"/>
      <url>/19028/</url>
      
        <content type="html"><![CDATA[<h2 id="反向Smoth工具"><a href="#反向Smoth工具" class="headerlink" title="反向Smoth工具"></a>反向Smoth工具</h2><h3 id="界面"><a href="#界面" class="headerlink" title="界面"></a>界面</h3><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230901224328315.png" alt="image-20230901224328315"></p><p>反向Smoth(平滑) 工具来源于羊盒。进行了界面上面的优化和修改。支持Maya2022版本，相比Maya的减少功能还是这个比较好用。记录一下。</p><h3 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h3><p>直接在Maya的Python面板粘贴运行即可。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import maya.cmds as cmds</span><br><span class="line"></span><br><span class="line">def smoothReduce():</span><br><span class="line">    sel=cmds.ls(sl=True)</span><br><span class="line">    if sel:</span><br><span class="line">        pointNum=cmds.polyEvaluate(v=True)</span><br><span class="line">        vertexId = sel[0]+&#x27;.vtx[&#123;&#125;]&#x27;.format(str(pointNum))</span><br><span class="line">        lastEdgeGroup=cmds.polyListComponentConversion(vertexId,fv=True,te=True)[0]</span><br><span class="line">        cmds.select(lastEdgeGroup)</span><br><span class="line"></span><br><span class="line">        while 1:</span><br><span class="line">            calcu = cmds.ls(sl=True)</span><br><span class="line">            cmds.SelectEdgeLoopSp()</span><br><span class="line">            edge = cmds.ls(sl=True,fl=True)</span><br><span class="line">            edges = [int(ii.split(&#x27;[&#x27;)[1].split(&#x27;]&#x27;)[0]) for ii in edge]</span><br><span class="line">            cmds.polySelect(er=edges,en=2)</span><br><span class="line">            pp = cmds.ls(sl=True)</span><br><span class="line">            if pp == calcu:</span><br><span class="line">                break</span><br><span class="line">        cmds.polyDelEdge( cv=True )</span><br><span class="line">    else:</span><br><span class="line">        cmds.warning(&#x27;not selected!&#x27;)</span><br><span class="line"></span><br><span class="line">if cmds.window(&quot;WSmooths&quot;, exists=True):</span><br><span class="line"> cmds.deleteUI(&quot;WSmooths&quot;, window=True)</span><br><span class="line"></span><br><span class="line">sizeX = 280</span><br><span class="line"></span><br><span class="line">WSmooth = cmds.window( &quot;WSmooths&quot;,title=&quot;三岁豆Er&quot;, iconName=&#x27;Short Name&#x27;, widthHeight=(sizeX, 150),mnb = True, mxb = False, sizeable = False )</span><br><span class="line">cmds.columnLayout( columnAttach=(&#x27;both&#x27;, 10), rowSpacing=10, columnWidth=sizeX )</span><br><span class="line">cmds.text(l=&#x27;&#x27;,h=20)</span><br><span class="line">cmds.text(fn=&quot;plainLabelFont&quot;,l=&#x27;选择需要反向smooth的模型&#x27;)</span><br><span class="line">cmds.text(fn=&quot;plainLabelFont&quot;,l=&#x27;记得删历史&#x27;)</span><br><span class="line">cmds.text(l=&#x27;&#x27;,h=5)</span><br><span class="line">cmds.button(l=&quot;反向Smooth&quot;,c=&quot;smoothReduce()&quot;,h=40,w=10 )</span><br><span class="line">cmds.setParent( &#x27;..&#x27; )</span><br><span class="line">cmds.showWindow( WSmooth )</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>重命名工具ig_EzRename</title>
      <link href="/54222/"/>
      <url>/54222/</url>
      
        <content type="html"><![CDATA[<h3 id="Maya重命名工具：ig-EzRename"><a href="#Maya重命名工具：ig-EzRename" class="headerlink" title="Maya重命名工具：ig_EzRename"></a>Maya重命名工具：ig_EzRename</h3><p>作者：<a href="https://www.artstation.com/igorsilva3d/store">https://www.artstation.com/igorsilva3d/store</a>  （需科学上网）</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230827161845157.png" alt="image-20230827161845157"></p><p>作者官网还有两款插件，由于用不到也没有了解。感兴趣可以去看一下。</p><h4 id="ig-EzRename"><a href="#ig-EzRename" class="headerlink" title="ig_EzRename"></a>ig_EzRename</h4><p>这款插件我第一次用到是在劲暴羊工具盒里面。由于画忆大佬的推荐加入到了羊盒里面。后来用了Maya的2022版本，不支持羊盒，不支持Python2的的脚本。后来就不太使用这款插件了，再后来无意间发现了这个插件的作者，去作者的主页发现了作者已经更新了1.3版本，主要是针对Python3进行的版本升级，下载下来使用了一下，支持了Maya2022。这个插件有一个很好的功能，”干掉pasted__”。既然支持了新版本的Maya，那就再拿回来用一下吧。</p><p>原版依旧是纯英文版，虽然常用的功能看英文也能使用，感觉不太明了，又看了一下画佬推荐的版本。我就进行了对这个插件的汉化优化，主要修改了汉化，对布局进行了一些优化，大部分查考了以前的汉化版。我是基于原作者的1.3版本支持Python3的脚本进行修改，修改后进行测试，支持Maya2018，Maya2020，Maya2022，运行没有问题。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/%E9%87%8D%E5%91%BD%E5%90%8D%E5%B7%A5%E5%85%B7.png" alt="重命名工具"></p><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>蓝奏云：<a href="https://zhangzhilong.lanzoue.com/iKSeX16m8w2h">https://zhangzhilong.lanzoue.com/iKSeX16m8w2h</a></p><p>压缩包内包含三个版本，作者原版，画忆推荐版本，我的修改版。</p><p>画忆推荐版：只支持Maya2022以下版本。</p><p>三岁豆Er修改版：支持Maya2018，Maya2020，Maya2022。其他版本没用测试。</p><h3 id="安装插件方法"><a href="#安装插件方法" class="headerlink" title="安装插件方法"></a>安装插件方法</h3><p>把 <strong>ig_EzRename.py</strong> 复制到C:\Users\Administrator\Documents\maya\scripts 路径下</p><p>在Maya的Python脚本编辑器内输入启动脚本启动该插件</p><p>启动方法有两种，一种是Maya2022以下版本Python2环境的启动脚本</p><p>还有一种是Maya2022版本以上Python3环境的启动脚本</p><h4 id="2024年1月24日更新"><a href="#2024年1月24日更新" class="headerlink" title="2024年1月24日更新"></a>2024年1月24日更新</h4><p>如果你懒得选择版本，我将提供一个判断的脚本帮您自动完成。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line"></span><br><span class="line"># 检查当前Python版本</span><br><span class="line">if sys.version_info[0] &gt;= 3:</span><br><span class="line">    # Python 3代码</span><br><span class="line">    from importlib import reload</span><br><span class="line">    import ig_EzRename</span><br><span class="line">    reload(ig_EzRename)</span><br><span class="line">    ig_EzRename.UI()</span><br><span class="line">else:</span><br><span class="line">    # Python 2代码</span><br><span class="line">    import ig_EzRename</span><br><span class="line">    reload(ig_EzRename)</span><br><span class="line">    ig_EzRename.UI()</span><br></pre></td></tr></table></figure><p>Python2启动脚本（Maya2022以下版本）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import ig_EzRename</span><br><span class="line">reload(ig_EzRename)</span><br><span class="line">ig_EzRename.UI()</span><br></pre></td></tr></table></figure><p>Python3启动脚本（Maya2022以上版本）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from importlib import reload</span><br><span class="line">import ig_EzRename</span><br><span class="line">reload(ig_EzRename)</span><br><span class="line">ig_EzRename.UI()</span><br></pre></td></tr></table></figure><h3 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h3><p>三岁豆Er修改版源代码</p><p>文件名：ig_EzRename.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: gb2312 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> cmds</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">UI</span>():</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> SelectName</span><br><span class="line"><span class="keyword">global</span> RenameText</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> StartValue</span><br><span class="line"><span class="keyword">global</span> PaddingValue</span><br><span class="line"><span class="keyword">global</span> NumberCheck</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> RemoveFirst</span><br><span class="line"><span class="keyword">global</span> RemoveEnd</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> PrefixText</span><br><span class="line"><span class="keyword">global</span> SuffixText</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> SearchText</span><br><span class="line"><span class="keyword">global</span> ReplaceText</span><br><span class="line"><span class="keyword">global</span> SRCheck</span><br><span class="line"></span><br><span class="line"><span class="comment">#UI Width</span></span><br><span class="line">sizeX = <span class="number">280</span></span><br><span class="line">version = <span class="string">&quot;v1.3&quot;</span></span><br><span class="line"><span class="keyword">if</span> cmds.window(<span class="string">&quot;igEzRenameWin&quot;</span>, exists=<span class="literal">True</span>):</span><br><span class="line">cmds.deleteUI(<span class="string">&quot;igEzRenameWin&quot;</span>, window=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Creating UI</span></span><br><span class="line">igEzRenamWin = cmds.window(<span class="string">&quot;igEzRenameWin&quot;</span>, title=<span class="string">&quot;重命名工具 &quot;</span>+version, width=sizeX+<span class="number">6</span>, height=<span class="number">385</span>, mnb = <span class="literal">True</span>, mxb = <span class="literal">False</span>, sizeable = <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Creating interface elements</span></span><br><span class="line">mainLayout = cmds.columnLayout(<span class="string">&quot;mainColumnLayout&quot;</span>, width = sizeX, adjustableColumn=<span class="literal">False</span>, co = [<span class="string">&quot;both&quot;</span>,<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#Select All Button</span></span><br><span class="line">cmds.separator(h=<span class="number">5</span>, style = <span class="string">&quot;none&quot;</span>, parent = mainLayout)</span><br><span class="line">cmds.button(label = <span class="string">&quot;选择全部&quot;</span>, w=sizeX, h=<span class="number">30</span>, c=SelectAll, ann = <span class="string">&quot;选择场景中的所有对象&quot;</span>)</span><br><span class="line">cmds.separator(h=<span class="number">5</span>, style = <span class="string">&quot;none&quot;</span>, parent = mainLayout)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Select by Name</span></span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">30</span>), (<span class="number">2</span>, <span class="number">60</span>)], cs = [(<span class="number">5</span>,<span class="number">5</span>), (<span class="number">5</span>,<span class="number">5</span>)])</span><br><span class="line">cmds.button(label = <span class="string">&quot;按名称选择&quot;</span>, w=sizeX/<span class="number">3</span>, h=<span class="number">30</span>, c=SelectName, align = <span class="string">&quot;Center&quot;</span>, ann=<span class="string">&quot;按名称选择对象&quot;</span>)</span><br><span class="line">SelectName = cmds.textField(w = sizeX*<span class="number">0.646</span>)</span><br><span class="line">cmds.separator(w = sizeX, h=<span class="number">15</span>, style = <span class="string">&quot;in&quot;</span>, parent = mainLayout)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Rename and Number</span></span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">25</span>), (<span class="number">2</span>, <span class="number">60</span>)])</span><br><span class="line"><span class="comment">#Rename Field</span></span><br><span class="line">cmds.text(label=<span class="string">&quot;    重命名 :&quot;</span>, font = <span class="string">&quot;boldLabelFont&quot;</span>, w = sizeX/<span class="number">4</span>, align=<span class="string">&quot;left&quot;</span>)</span><br><span class="line">RenameText = cmds.textField(w = sizeX*<span class="number">0.75</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Start Field</span></span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">25</span>), (<span class="number">2</span>, <span class="number">60</span>)])</span><br><span class="line">cmds.text(label=<span class="string">&quot;       开始 :&quot;</span>, font = <span class="string">&quot;boldLabelFont&quot;</span>, w = sizeX/<span class="number">4</span>, align=<span class="string">&quot;left&quot;</span>)</span><br><span class="line">StartValue = cmds.textField(w = sizeX/<span class="number">4</span>, tx=<span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="comment">#Padding Field</span></span><br><span class="line">cmds.text(label=<span class="string">&quot;       位数 :&quot;</span>, font = <span class="string">&quot;boldLabelFont&quot;</span>, w = sizeX/<span class="number">4</span>, align=<span class="string">&quot;left&quot;</span>)</span><br><span class="line">PaddingValue = cmds.textField(w = sizeX/<span class="number">4</span>, tx=<span class="string">&quot;2&quot;</span>)</span><br><span class="line"><span class="comment">#Number Letters</span></span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">20</span>), (<span class="number">2</span>, <span class="number">60</span>)])</span><br><span class="line">cmds.text(label=<span class="string">&quot;&quot;</span>, font = <span class="string">&quot;boldLabelFont&quot;</span>, w = sizeX/<span class="number">4</span>-<span class="number">2</span>, align=<span class="string">&quot;left&quot;</span>)</span><br><span class="line">NumberCheck = cmds.radioButtonGrp(labelArray2=[ <span class="string">&#x27;数字&#x27;</span>, <span class="string">&#x27;字母&#x27;</span>], numberOfRadioButtons=<span class="number">2</span>, w=sizeX, h=<span class="number">20</span>, sl=<span class="number">1</span>, cw = ([<span class="number">1</span>,<span class="number">120</span>]))</span><br><span class="line"><span class="comment">#ButtonRename and Number</span></span><br><span class="line">cmds.separator(h=<span class="number">5</span>, style = <span class="string">&quot;none&quot;</span>, parent = mainLayout)</span><br><span class="line">cmds.button(label = <span class="string">&quot;重命名和编号&quot;</span>, w=sizeX, h=<span class="number">30</span>, c=RenameNumber, align = <span class="string">&quot;Center&quot;</span>, parent = mainLayout, bgc = (<span class="number">.1</span>,<span class="number">.5</span>,<span class="number">.3</span>))</span><br><span class="line">cmds.separator(w = sizeX, h=<span class="number">15</span>, style = <span class="string">&quot;in&quot;</span>, parent = mainLayout)</span><br><span class="line"></span><br><span class="line"><span class="comment">#RemoveCharacter</span></span><br><span class="line"><span class="comment">#Remove First/Last</span></span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">25</span>), (<span class="number">2</span>, <span class="number">60</span>)], cs = [(<span class="number">5</span>,<span class="number">5</span>)])</span><br><span class="line">cmds.text(label=<span class="string">&quot;  移除:&quot;</span>, font = <span class="string">&quot;boldLabelFont&quot;</span>, w = sizeX/<span class="number">3</span>-<span class="number">12</span>, align=<span class="string">&quot;left&quot;</span>)</span><br><span class="line">cmds.button(label = <span class="string">&quot;首字符-&gt;&quot;</span>, w=sizeX/<span class="number">3</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.Remove(True)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>)</span><br><span class="line">cmds.button(label = <span class="string">&quot;&lt;-末尾字符&quot;</span>, w=sizeX/<span class="number">3</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.Remove(False)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>)</span><br><span class="line">cmds.separator(h=<span class="number">5</span>, style = <span class="string">&quot;none&quot;</span>, parent = mainLayout)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Remove pasted__</span></span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">25</span>), (<span class="number">2</span>, <span class="number">60</span>)], cs = [(<span class="number">90</span>,<span class="number">91</span>)])</span><br><span class="line">cmds.text(label=<span class="string">&quot;  &quot;</span>, font = <span class="string">&quot;boldLabelFont&quot;</span>, w = sizeX/<span class="number">3</span>, align=<span class="string">&quot;left&quot;</span>)</span><br><span class="line">cmds.button(label = <span class="string">&quot;干掉 pasted__&quot;</span>, w=sizeX/<span class="number">3</span>, h=<span class="number">25</span>, c=RemovePasted, align = <span class="string">&quot;Center&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Remove UI</span></span><br><span class="line">cmds.separator(h=<span class="number">5</span>, style = <span class="string">&quot;none&quot;</span>, parent = mainLayout)</span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">25</span>), (<span class="number">2</span>, <span class="number">60</span>)], cs = [(<span class="number">8.5</span>,<span class="number">8.5</span>)])</span><br><span class="line">RemoveFirst = cmds.textField(w = sizeX/<span class="number">5</span>, tx=<span class="string">&quot;1&quot;</span>, ann=<span class="string">&quot;写下你想在文本开头删除的字符数量&quot;</span>)</span><br><span class="line">cmds.button(label = <span class="string">&quot;-&quot;</span>, w=<span class="number">25</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.RemoveChar(&#x27;begin&#x27;)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>, ann=<span class="string">&quot;在文本开头处删除&quot;</span>)</span><br><span class="line">cmds.button(label = <span class="string">&quot;移除&quot;</span>, w=sizeX/<span class="number">4</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.RemoveChar(&#x27;all&#x27;)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>, ann=<span class="string">&quot;在文本开头和末尾处删除&quot;</span>)</span><br><span class="line">cmds.button(label = <span class="string">&quot;-&quot;</span>, w=<span class="number">25</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.RemoveChar(&#x27;end&#x27;)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>, ann=<span class="string">&quot;在文本末尾处删除&quot;</span>)</span><br><span class="line">RemoveEnd = cmds.textField(w = sizeX/<span class="number">5</span>, tx=<span class="string">&quot;1&quot;</span>, ann=<span class="string">&quot;写下你想在文本末尾删除的字符数量&quot;</span>)</span><br><span class="line">cmds.separator(w = sizeX, h=<span class="number">15</span>, style = <span class="string">&quot;in&quot;</span>, parent = mainLayout)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Suffix</span></span><br><span class="line"><span class="comment">#Control Suffix</span></span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">25</span>), (<span class="number">2</span>, <span class="number">60</span>)], cs = [(<span class="number">5</span>,<span class="number">5</span>)])</span><br><span class="line">cmds.text(label=<span class="string">&quot;     前缀:&quot;</span>, font = <span class="string">&quot;boldLabelFont&quot;</span>, w = sizeX/<span class="number">4</span>-<span class="number">10</span>, align=<span class="string">&quot;left&quot;</span>, ann=<span class="string">&quot;添加前缀&quot;</span>)</span><br><span class="line">PrefixText = cmds.textField(w = sizeX/<span class="number">2.5</span>+<span class="number">33</span>, tx=<span class="string">&quot;Prefix_&quot;</span>, ann=<span class="string">&quot;输入你想添加的前缀名称&quot;</span>)</span><br><span class="line">cmds.button(label = <span class="string">&quot;添加&quot;</span>, w=sizeX/<span class="number">4</span>-<span class="number">10</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.PrefixSuffix(False)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>)</span><br><span class="line">cmds.separator(h=<span class="number">5</span>, style = <span class="string">&quot;none&quot;</span>, parent = mainLayout)</span><br><span class="line"><span class="comment">#Group Suffix</span></span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">25</span>), (<span class="number">2</span>, <span class="number">60</span>)], cs = [(<span class="number">5</span>,<span class="number">5</span>)])</span><br><span class="line">cmds.text(label=<span class="string">&quot;     后缀:&quot;</span>, font = <span class="string">&quot;boldLabelFont&quot;</span>, w = sizeX/<span class="number">4</span>-<span class="number">10</span>, align=<span class="string">&quot;left&quot;</span>, ann=<span class="string">&quot;添加后缀&quot;</span>)</span><br><span class="line">SuffixText = cmds.textField(w = sizeX/<span class="number">2.5</span>+<span class="number">33</span>, tx=<span class="string">&quot;_Mesh&quot;</span>, ann=<span class="string">&quot;请输入你想添加的后缀名称&quot;</span>)</span><br><span class="line">cmds.button(label = <span class="string">&quot;添加&quot;</span>, w=sizeX/<span class="number">4</span>-<span class="number">10</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.PrefixSuffix(True)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>)</span><br><span class="line">cmds.separator(w = sizeX, h=<span class="number">15</span>, style = <span class="string">&quot;in&quot;</span>, parent = mainLayout)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Prefix</span></span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">30</span>), (<span class="number">2</span>, <span class="number">60</span>)], cs = [(<span class="number">5</span>,<span class="number">5</span>)])</span><br><span class="line">cmds.button(label = <span class="string">&quot;_Grp&quot;</span>, w=sizeX/<span class="number">5</span>-<span class="number">4</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.Suffix(&#x27;_Grp&#x27;)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>, ann = <span class="string">&quot;添加 Grp 后缀&quot;</span>, bgc = (<span class="number">.1</span>,<span class="number">.2</span>,<span class="number">.3</span>)) </span><br><span class="line">cmds.button(label = <span class="string">&quot;_Geo&quot;</span>, w=sizeX/<span class="number">5</span>-<span class="number">4</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.Suffix(&#x27;_Geo&#x27;)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>, ann = <span class="string">&quot;添加 Geo 后缀&quot;</span>, bgc = (<span class="number">.1</span>,<span class="number">.2</span>,<span class="number">.3</span>))</span><br><span class="line">cmds.button(label = <span class="string">&quot;_Hi&quot;</span>, w=sizeX/<span class="number">5</span>-<span class="number">4</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.Suffix(&#x27;_Hi&#x27;)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>, ann = <span class="string">&quot;添加 Hi 后缀&quot;</span>, bgc = (<span class="number">.1</span>,<span class="number">.2</span>,<span class="number">.3</span>))</span><br><span class="line">cmds.button(label = <span class="string">&quot;_Jnt&quot;</span>, w=sizeX/<span class="number">5</span>-<span class="number">4</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.Suffix(&#x27;_Jnt&#x27;)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>, ann = <span class="string">&quot;添加 Jnt 后缀&quot;</span>, bgc = (<span class="number">.1</span>,<span class="number">.2</span>,<span class="number">.3</span>))</span><br><span class="line">cmds.button(label = <span class="string">&quot;_Drv&quot;</span>, w=sizeX/<span class="number">5</span>-<span class="number">4</span>, h=<span class="number">25</span>, c=<span class="string">&quot;ig_EzRename.Suffix(&#x27;_Drv&#x27;)&quot;</span>, align = <span class="string">&quot;Center&quot;</span>, ann = <span class="string">&quot;添加 Drv 后缀&quot;</span>, bgc = (<span class="number">.1</span>,<span class="number">.2</span>,<span class="number">.3</span>))</span><br><span class="line">cmds.separator(w = sizeX, h=<span class="number">15</span>, style = <span class="string">&quot;in&quot;</span>, parent = mainLayout)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Search and Replace</span></span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">25</span>), (<span class="number">2</span>, <span class="number">60</span>)], cs = [(<span class="number">5</span>,<span class="number">5</span>)])</span><br><span class="line">cmds.text(label=<span class="string">&quot;     搜索:&quot;</span>, font = <span class="string">&quot;boldLabelFont&quot;</span>, w = sizeX/<span class="number">4</span>-<span class="number">10</span>, align=<span class="string">&quot;left&quot;</span>)</span><br><span class="line">SearchText = cmds.textField(w = sizeX/<span class="number">2</span>+<span class="number">100</span>)</span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">25</span>), (<span class="number">2</span>, <span class="number">60</span>)], cs = [(<span class="number">5</span>,<span class="number">5</span>)])</span><br><span class="line">cmds.text(label=<span class="string">&quot;     替换:&quot;</span>, font = <span class="string">&quot;boldLabelFont&quot;</span>, w = sizeX/<span class="number">4</span>-<span class="number">10</span>, align=<span class="string">&quot;left&quot;</span>)</span><br><span class="line">ReplaceText = cmds.textField(w = sizeX/<span class="number">2</span>+<span class="number">100</span>)</span><br><span class="line">cmds.rowColumnLayout( numberOfRows=<span class="number">1</span>, w=sizeX, parent=mainLayout, rowHeight=[(<span class="number">1</span>, <span class="number">30</span>), (<span class="number">2</span>, <span class="number">60</span>)], cs = [(<span class="number">5</span>,<span class="number">5</span>)])</span><br><span class="line">SRCheck = cmds.radioButtonGrp(labelArray3=[ <span class="string">&#x27;已选择&#x27;</span>, <span class="string">&#x27;层级&#x27;</span>, <span class="string">&#x27;全部&#x27;</span>], numberOfRadioButtons=<span class="number">3</span>, w=sizeX, h=<span class="number">30</span>, sl=<span class="number">1</span>, cw = ([<span class="number">1</span>,<span class="number">100</span>],[<span class="number">2</span>,<span class="number">100</span>],[<span class="number">3</span>,<span class="number">100</span>]))</span><br><span class="line">cmds.button(label = <span class="string">&quot;应 用&quot;</span>, w=sizeX, h=<span class="number">30</span>, c=SearchReplace, align = <span class="string">&quot;Center&quot;</span>, parent = mainLayout, bgc = (<span class="number">.1</span>,<span class="number">.5</span>,<span class="number">.3</span>))</span><br><span class="line">cmds.separator(h=<span class="number">5</span>, style = <span class="string">&quot;none&quot;</span>, parent = mainLayout)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Show UI:</span></span><br><span class="line">cmds.showWindow(igEzRenamWin)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">SelectAll</span>(<span class="params">*args</span>):</span><br><span class="line">cmds.select(ado=<span class="literal">True</span>, hi = <span class="literal">True</span>)</span><br><span class="line">selection = cmds.ls(selection=<span class="literal">True</span>, sn=<span class="literal">True</span>)</span><br><span class="line">selectionAdd = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">SelectName</span>(<span class="params">*args</span>):</span><br><span class="line">cmds.select(cl=<span class="literal">True</span>)</span><br><span class="line">name = cmds.textField(SelectName, text = <span class="number">1</span>, q=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">selection = cmds.ls(name, l = <span class="literal">True</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">cmds.warning(<span class="string">&quot;Object Don&#x27;t Exist&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> objs <span class="keyword">in</span> selection:</span><br><span class="line">cmds.select(objs, add=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">RenameNumber</span>(<span class="params">*args</span>):</span><br><span class="line"></span><br><span class="line">number = cmds.textField(StartValue, text = <span class="number">1</span>, q=<span class="literal">True</span>)</span><br><span class="line">number = <span class="built_in">int</span>(number)</span><br><span class="line"></span><br><span class="line">padding = cmds.textField(PaddingValue, text = <span class="number">1</span>, q=<span class="literal">True</span>)</span><br><span class="line">padding = <span class="built_in">int</span>(padding)</span><br><span class="line"></span><br><span class="line">NumberLetters = cmds.radioButtonGrp(NumberCheck, q=<span class="literal">True</span>, select=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">newName = cmds.textField(RenameText, text = <span class="number">1</span>, q=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">selection = cmds.ls(selection=<span class="literal">True</span>, sn=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">lettersList = [<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>,<span class="string">&quot;E&quot;</span>,<span class="string">&quot;F&quot;</span>,<span class="string">&quot;G&quot;</span>,<span class="string">&quot;H&quot;</span>,<span class="string">&quot;I&quot;</span>,<span class="string">&quot;J&quot;</span>,<span class="string">&quot;K&quot;</span>,<span class="string">&quot;L&quot;</span>,<span class="string">&quot;M&quot;</span>,<span class="string">&quot;N&quot;</span>,<span class="string">&quot;O&quot;</span>,<span class="string">&quot;P&quot;</span>,<span class="string">&quot;Q&quot;</span>,<span class="string">&quot;R&quot;</span>,<span class="string">&quot;S&quot;</span>,<span class="string">&quot;T&quot;</span>,<span class="string">&quot;U&quot;</span>,<span class="string">&quot;V&quot;</span>,<span class="string">&quot;W&quot;</span>,<span class="string">&quot;X&quot;</span>,<span class="string">&quot;Y&quot;</span>,<span class="string">&quot;Z&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#Number suffix</span></span><br><span class="line">y = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> obj <span class="keyword">in</span> selection: </span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line"><span class="comment">#Teste if has duplicate mesh with the same name on the scene and return the name without parents</span></span><br><span class="line">trueName = testDuplicateName(obj)</span><br><span class="line"><span class="comment">#Save the original name</span></span><br><span class="line">oldName = trueName</span><br><span class="line"></span><br><span class="line"><span class="comment">#If true use numbers, else use letters</span></span><br><span class="line"><span class="keyword">if</span> NumberLetters == <span class="number">1</span>:</span><br><span class="line">zeros = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">int</span>(padding)):</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(<span class="built_in">str</span>(number)) &lt;= x:</span><br><span class="line">zeros = zeros+<span class="string">&quot;0&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Create the newName and rename</span></span><br><span class="line">name = newName+<span class="string">&quot;_&quot;</span>+<span class="string">&quot;&#123;:0&gt;&quot;</span>+<span class="built_in">str</span>(padding)+<span class="string">&quot;&#125;&quot;</span></span><br><span class="line">newNameList = name.<span class="built_in">format</span>(number)</span><br><span class="line">cmds.rename(obj, name.<span class="built_in">format</span>(number))</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">newNameList = newName+<span class="string">&quot;_&quot;</span>+lettersList[y]</span><br><span class="line">cmds.rename(obj, newName+<span class="string">&quot;_&quot;</span>+lettersList[y])</span><br><span class="line"><span class="keyword">if</span> y &lt; <span class="built_in">len</span>(lettersList)-<span class="number">1</span>:</span><br><span class="line">y+=<span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">y=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#For to rename all the oldNames on list to newNames</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(selection)):</span><br><span class="line">newParentName = selection[x].replace(oldName, newNameList)</span><br><span class="line">selection[x] = newParentName</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">number = <span class="built_in">int</span>(number+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">RemoveChar</span>(<span class="params"><span class="type">Type</span></span>):</span><br><span class="line"></span><br><span class="line">first = cmds.textField(RemoveFirst, text = <span class="number">1</span>, q=<span class="literal">True</span>)</span><br><span class="line">end = cmds.textField(RemoveEnd, text = <span class="number">1</span>, q=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">selection = cmds.ls(selection = <span class="literal">True</span>, sn=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> objs <span class="keyword">in</span> selection:</span><br><span class="line"><span class="comment">#Teste if has duplicate mesh with the same name on the scene</span></span><br><span class="line">trueName = testDuplicateName(objs)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Save the original name</span></span><br><span class="line">oldName = trueName</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="type">Type</span> == <span class="string">&quot;all&quot;</span>:</span><br><span class="line">name = trueName[:-<span class="built_in">int</span>(end)]</span><br><span class="line">name = name[<span class="built_in">int</span>(first):]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="type">Type</span> == <span class="string">&quot;begin&quot;</span>:</span><br><span class="line">name = trueName[<span class="built_in">int</span>(first):]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="type">Type</span> == <span class="string">&quot;end&quot;</span>:</span><br><span class="line">name = trueName[:-<span class="built_in">int</span>(end)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">cmds.rename(objs, <span class="built_in">str</span>(name))</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#For to rename all the oldNames on list to newNames</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(selection)):</span><br><span class="line">newParentName = selection[x].replace(oldName, name)</span><br><span class="line">selection[x] = newParentName</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Remove</span>(<span class="params"><span class="type">Type</span></span>):</span><br><span class="line"></span><br><span class="line">selection = cmds.ls(selection = <span class="literal">True</span>, sn = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> objs <span class="keyword">in</span> selection:</span><br><span class="line"><span class="comment">#Teste if has duplicate mesh with the same name on the scene</span></span><br><span class="line">trueName = testDuplicateName(objs)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Save the original name</span></span><br><span class="line">oldName = trueName</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="type">Type</span>:</span><br><span class="line">name = trueName[<span class="number">1</span>:]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">name = trueName[:-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">cmds.rename(objs, name)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#For to rename all the oldNames on list to newNames</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(selection)):</span><br><span class="line">newParentName = selection[x].replace(oldName, name)</span><br><span class="line">selection[x] = newParentName</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">RemovePasted</span>(<span class="params">*args</span>):</span><br><span class="line"></span><br><span class="line">selection = cmds.ls(<span class="string">&quot;pasted__*&quot;</span>, sn = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> objs <span class="keyword">in</span> selection:</span><br><span class="line"><span class="comment">#Teste if has duplicate mesh with the same name on the scene</span></span><br><span class="line">trueName = testDuplicateName(objs)</span><br><span class="line"></span><br><span class="line">name = trueName[<span class="number">8</span>:]</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">cmds.rename(objs, name)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">cmds.warning(<span class="string">&quot;已删除字符 pasted__&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">PrefixSuffix</span>(<span class="params">Suffix</span>):</span><br><span class="line">prefix = cmds.textField(PrefixText, text = <span class="number">1</span>, q=<span class="literal">True</span>)</span><br><span class="line">suffix = cmds.textField(SuffixText, text = <span class="number">1</span>, q=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">selection = cmds.ls(selection = <span class="literal">True</span>, sn = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> objs <span class="keyword">in</span> selection:</span><br><span class="line"></span><br><span class="line"><span class="comment">#Teste if has duplicate mesh with the same name on the scene</span></span><br><span class="line">trueName = testDuplicateName(objs)</span><br><span class="line"><span class="comment">#Save the original name</span></span><br><span class="line">oldName = trueName</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> Suffix:</span><br><span class="line">name = <span class="built_in">str</span>(trueName)+suffix</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">name = prefix+<span class="built_in">str</span>(trueName)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">cmds.rename(objs, name)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#For to rename all the oldNames on list to newNames</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(selection)):</span><br><span class="line">newParentName = selection[x].replace(oldName, name)</span><br><span class="line">selection[x] = newParentName</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Suffix</span>(<span class="params">Text</span>):</span><br><span class="line"></span><br><span class="line">selection = cmds.ls(selection = <span class="literal">True</span>, sn = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> objs <span class="keyword">in</span> selection:</span><br><span class="line"><span class="comment">#Test if has duplicate mesh with the same name on the scene</span></span><br><span class="line">trueName = testDuplicateName(objs)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Save the original name</span></span><br><span class="line">oldName = trueName</span><br><span class="line"></span><br><span class="line">newName = trueName+Text</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">cmds.rename(objs, newName)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#For to rename all the oldNames on list to newNames</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(selection)):</span><br><span class="line">newParentName = selection[x].replace(oldName, newName)</span><br><span class="line">selection[x] = newParentName</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">SearchReplace</span>(<span class="params">*args</span>):</span><br><span class="line"></span><br><span class="line">search = cmds.textField(SearchText, text = <span class="number">1</span>, q=<span class="literal">True</span>)</span><br><span class="line">replace = cmds.textField(ReplaceText, text = <span class="number">1</span>, q=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">SRMethod = cmds.radioButtonGrp(SRCheck, q=<span class="literal">True</span>, select=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Selected search and Replace method</span></span><br><span class="line"><span class="keyword">if</span> SRMethod == <span class="number">1</span>:</span><br><span class="line">selection = cmds.ls(selection = <span class="literal">True</span>, sn = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Hierarchy search and Replace method</span></span><br><span class="line"><span class="keyword">if</span> SRMethod == <span class="number">2</span>:</span><br><span class="line">cmds.select(hi = <span class="literal">True</span>)</span><br><span class="line">selection = cmds.ls(selection = <span class="literal">True</span>, sn = <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#All search and Replace method</span></span><br><span class="line"><span class="keyword">if</span> SRMethod == <span class="number">3</span>:</span><br><span class="line"><span class="comment">#Select All DagObjects in scene</span></span><br><span class="line">selection = []</span><br><span class="line">cmds.select(ado = <span class="literal">True</span>, hi = <span class="literal">True</span>)</span><br><span class="line">selection = cmds.ls(selection = <span class="literal">True</span>, sn=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#for to rename the objects </span></span><br><span class="line"><span class="keyword">for</span> obj <span class="keyword">in</span> selection:</span><br><span class="line"><span class="comment">#Teste if has duplicate mesh with the same name on the scene and return the name without parents</span></span><br><span class="line">trueName = testDuplicateName(obj)</span><br><span class="line"><span class="comment">#Save the original name</span></span><br><span class="line">oldName = trueName</span><br><span class="line"><span class="comment">#Search and replace to create the new name</span></span><br><span class="line">newName = trueName.replace(search, replace)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Rename the object</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">cmds.rename(obj, newName)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#For to rename all the oldNames on list to newNames</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(selection)):</span><br><span class="line">newParentName = selection[x].replace(oldName, newName)</span><br><span class="line">selection[x] = newParentName</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Slecao: &quot;</span>, selection)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">testDuplicateName</span>(<span class="params">Obj</span>):</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">trueName =  Obj.split(<span class="string">&quot;|&quot;</span>)</span><br><span class="line"><span class="keyword">return</span> trueName[<span class="built_in">len</span>(trueName)-<span class="number">1</span>]</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line"><span class="keyword">return</span> Obj</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vs Code</title>
      <link href="/45943/"/>
      <url>/45943/</url>
      
        <content type="html"><![CDATA[<h3 id="Vs-Code"><a href="#Vs-Code" class="headerlink" title="Vs Code"></a>Vs Code</h3><h4 id="官网：https-code-visualstudio-com"><a href="#官网：https-code-visualstudio-com" class="headerlink" title="官网：https://code.visualstudio.com/"></a>官网：<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></h4><p>发现官网的下载速度无论科学上网还是正常下载速度都很慢，备份一个 1.81.1的官方版本。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230825004117125.png" alt="image-20230825004117125"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230825003701599.png" alt="image-20230825003701599"></p><h4 id="下载地址：https-zhangzhilong-lanzoue-com-iw6GM16ci5zi"><a href="#下载地址：https-zhangzhilong-lanzoue-com-iw6GM16ci5zi" class="headerlink" title="下载地址：https://zhangzhilong.lanzoue.com/iw6GM16ci5zi"></a>下载地址：<a href="https://zhangzhilong.lanzoue.com/iw6GM16ci5zi">https://zhangzhilong.lanzoue.com/iw6GM16ci5zi</a></h4><p>设置简体中文的方法</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/Snipaste_2023-08-25_00-40-14.png"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的Maya工具架Zhang</title>
      <link href="/24815/"/>
      <url>/24815/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="密码错误，请重试" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="09be2eddb1d90cde4f2a5dd045fb2ea92eab8bb7df1c06142a2781f94a2cdda6">5560b822679e40d5171246821a336b3d6e9a89b5e7b55c03ec65a709bed8d59755d22f07115b9a3bee31b5abb8fe16bc05a619a311addf4de672cb1c16a2e61ddb7f721aacd3bce506491607742eb8dc5d518b1a81c21a6aa25b0a3f1d2838fb0f27fd7cc5d99f69a9cffb3d2d328b739bfa3b02d56c2c06a24289dbfdf6ac586cd06df0a45b96e7e9bbbeefc59b105c785ba00c124b0fdff50187ba0648ada24c6050c597ca8f288c6d62242d5fb65352f57fd1d274831a06060d133d0a872a33d8e1a96dee89b4ad8cde67b110c01b7359ac50e1e0be179e206f67ef6cfaf60dd5b8a9a2bdd039c2b68faa19343074f72545bb814c5aa31b843078d8b2ce23ae607b0a63c8597767a65ead08b47f8f2f50ef98bcf38c313294b73e74b59017930f0a4ea43254fb05f5f082bd2e86a2ad297a6c21ae4f58662e7e03f6401451192c17df5f036d85662f084119379db86f535e54fcd12066e2997fcc18fc47909a5ea103c4154a1e8b014f5b03fa6dfd6f8a7fdf850d6edd27209d80622b4a8126e186d8fd59798b96aa8520b63f10cf9f63461215ac1005d8b9432166ebadfc7d44d959e021cff56fdc90c786e92a71</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">如有需要，请联系我获取文章密码</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> Mel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RizomBridge</title>
      <link href="/38329/"/>
      <url>/38329/</url>
      
        <content type="html"><![CDATA[<h1 id="Maya桥接RizomUV"><a href="#Maya桥接RizomUV" class="headerlink" title="Maya桥接RizomUV"></a>Maya桥接RizomUV</h1><h3 id="RizomUV官网：https-www-rizom-lab-com"><a href="#RizomUV官网：https-www-rizom-lab-com" class="headerlink" title="RizomUV官网：https://www.rizom-lab.com/"></a>RizomUV官网：<a href="https://www.rizom-lab.com/">https://www.rizom-lab.com/</a></h3><h4 id="作者官网：optagon-gumroad-com"><a href="#作者官网：optagon-gumroad-com" class="headerlink" title="作者官网：optagon.gumroad.com"></a>作者官网：<a href="https://optagon.gumroad.com/l/gqKcz">optagon.gumroad.com</a></h4><p>价格：$5+（需要科学上网，需要国外信用卡）</p><h4 id="下载地址："><a href="#下载地址：" class="headerlink" title="下载地址："></a>下载地址：</h4><p>支持Python3环境：<a href="https://zhangzhilong.lanzoue.com/imTsd0zkinpc">https://zhangzhilong.lanzoue.com/imTsd0zkinpc</a><br>旧版本下载：<a href="https://zhangzhilong.lanzoue.com/il31F140f9za">https://zhangzhilong.lanzoue.com/il31F140f9za</a></p><p>建议使用非汉化修改版的RizomUV进行桥接,避免出现乱七八糟的问题。</p><p>新版暂不支持Maya2018  2020未测试</p><h4 id="插件界面："><a href="#插件界面：" class="headerlink" title="插件界面："></a><strong>插件界面：</strong></h4><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image_kRLnxfpicJ.png"></p><h4 id="安装说明："><a href="#安装说明：" class="headerlink" title="安装说明："></a>安装说明：</h4><ul><li>2023&#x2F;07&#x2F;37 可以忽略这一步，当在Maya运行该插件时，插件会提醒你设置你的RizomUV的安装路径</li></ul><p>将插件目录文件夹下的config_default.ini文件双击打开</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image_XnfLzkm3i9.png"></p><p>将以上目录更改为本机Rizomuv的安装目录 <strong>（注意是反斜杠）</strong></p><p>将整个修改过路径的RizomBridge文件夹复制到Maya对应版本的scripts目录下</p><p><strong>C:\Users\Administrator\Documents\maya\2018\zh_CN\scripts</strong></p><h4 id="打开Maya在脚本编辑器Python下输入以下内容"><a href="#打开Maya在脚本编辑器Python下输入以下内容" class="headerlink" title="打开Maya在脚本编辑器Python下输入以下内容"></a>打开Maya在脚本编辑器Python下输入以下内容</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> RizomBridge <span class="keyword">import</span> RizomUVBridge</span><br><span class="line">RizomUVBridge.run()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image_v8mKQWKedx.png"></p><h4 id="使用："><a href="#使用：" class="headerlink" title="使用："></a><strong>使用：</strong></h4><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image_63w8Oia-d-.png"></p><p>第一项为打开RizomUV软件</p><p>第二项为将选中的模型发送至RizomUV <strong>（模型在1的状态下，杜绝按3的状态）</strong></p><p>第三项为将UV导回至Maya</p><h4 id="2024年3月22日更新"><a href="#2024年3月22日更新" class="headerlink" title="2024年3月22日更新"></a>2024年3月22日更新</h4><p>修改已配置好的RizomUV版本，（RizomUV版本切换）<br>修改uisettings.xml文件</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240322215351841.png" alt="image-20240322215351841"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDM下载器</title>
      <link href="/25633/"/>
      <url>/25633/</url>
      
        <content type="html"><![CDATA[<h3 id="InternetDownloadManager"><a href="#InternetDownloadManager" class="headerlink" title="InternetDownloadManager"></a>InternetDownloadManager</h3><h3 id="官网："><a href="#官网：" class="headerlink" title="官网："></a>官网：</h3><p><a href="https://www.internetdownloadmanager.com/">https://www.internetdownloadmanager.com/</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/20230804231049.png" alt="image-20230804230037197"></p><p>记录一个IDM的便携版，不用繁琐的破解，直接点击绿化即可完成安装。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230804230326104.png" alt="image-20230804230326104"></p><p>我使用360安全浏览器，配合浏览器<a href="https://ext.se.360.cn/webstore/search/idm">插件</a>使用。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230804230813826.png" alt="image-20230804230813826"></p><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>蓝奏云下载地址：<a href="https://zhangzhilong.lanzouj.com/iNQK70313peh">https://zhangzhilong.lanzouj.com/iNQK70313peh</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>窗口在第二块屏幕移动回来的方法</title>
      <link href="/63412/"/>
      <url>/63412/</url>
      
        <content type="html"><![CDATA[<p>有些时候我们断开第二个显示器或者远程控制不支持切换屏幕，就会遇到第二块屏幕的内容无法移动到主屏幕的情况。</p><p>第一步：我们可以使用快捷键  <strong>Alt+空格</strong>打开Windows窗口自带的一个小窗口</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230731215514427.png"></p><p>理论上Windows所有的窗口使用这个快捷键都可以打开这个小窗口，包括Maya里面的二级窗口。</p><p>第二步：我们能打开上面这个小窗口就好办了。其实也会分两种情况，第一种是全屏的情况，也就是在第二块屏幕全屏，不支持移动。这种情况需要按<strong>R</strong>键还原，将窗口设置为非全屏状态，然后再<strong>Alt+空格</strong>打开小窗口，点击<strong>M</strong>键，再点一下小键盘的小箭头，就可以移动鼠标直接将窗口带回到第一块屏幕，也可以使用小键盘的上下左右移动键慢慢将窗口移回到第一块屏幕。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230731220256017.png"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UV传递工具</title>
      <link href="/63197/"/>
      <url>/63197/</url>
      
        <content type="html"><![CDATA[<h1 id="UV传递工具"><a href="#UV传递工具" class="headerlink" title="UV传递工具"></a>UV传递工具</h1><p>Maya进行UV传递的方法有很多种，Maya自带的功能也能实现。我还是习惯使用插件实现传递。</p><h2 id="第一种"><a href="#第一种" class="headerlink" title="第一种"></a>第一种</h2><p>来自小静的UV传递插件</p><p>作者主页：<a href="https://smilejing.cn/">https://smilejing.cn/</a></p><p>进行了界面上的小优化，功能没动，使用更加方便。也是最简单的UV传递方法，选择正确UV的模型，加选需要传递给的模型，点击执行即可完成传递。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230728230554014.png" alt="image-20230728230554014"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">////////////批量传递UV工具/////////////</span><br><span class="line"></span><br><span class="line">global proc callUvOneToN() &#123;</span><br><span class="line">  </span><br><span class="line">  string $objSel[] = `ls -sl`;</span><br><span class="line">  </span><br><span class="line">  int $numSel = size($objSel);</span><br><span class="line">  </span><br><span class="line">  if ($numSel &lt;= 1) &#123;</span><br><span class="line">    confirmDialog -title &quot;Message&quot; -message &quot;至少选择两个物体&quot; -button &quot;OK&quot; -defaultButton &quot;OK&quot;;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  string $source = $objSel[$numSel-1];</span><br><span class="line">  </span><br><span class="line">  string $str = &quot;&quot;;</span><br><span class="line">  </span><br><span class="line">  int $i;</span><br><span class="line">    </span><br><span class="line">  for ($i=0; $i&lt;$numSel-1; $i++) &#123;</span><br><span class="line">    polyTransfer -vc 0 -uv 1 -v 0-ao $source $objSel[$i];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if(`window -ex FY_tool_3UV`) deleteUI FY_tool_3UV; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">window -title &quot;批量传递UV工具&quot; -sizeable 0 -tlb 0 FY_tool_3UV;</span><br><span class="line">columnLayout  -columnAttach &quot;both&quot; 10 -rowSpacing 5 -columnWidth 300;</span><br><span class="line">text -h 30 -l &quot;&quot;;</span><br><span class="line">text -fn &quot;boldLabelFont&quot; -l &quot;选择所有物体，UV将会以最后选择的物体为准&quot;;</span><br><span class="line">text -h 30-l &quot;&quot;;</span><br><span class="line">button -l &quot;传递&quot; -h 30 -bgc 0.45 0.55 0.27 -c &quot;callUvOneToN()&quot;;</span><br><span class="line">text -h 20 -l &quot;&quot;;</span><br><span class="line">setParent ..;   </span><br><span class="line">showWindow FY_tool_3UV;</span><br></pre></td></tr></table></figure><h2 id="第二种"><a href="#第二种" class="headerlink" title="第二种"></a>第二种</h2><p>插件来源：<a href="http://www.animate8.com/">老船动画吧</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230728230621825.png" alt="image-20230728230621825"></p><p>第一种传递方法固然方便，但是功能比较单一，就需要这个进阶版的UV传递工具。我个人也是进行了一些界面上的小优化，功能没有改动。这个工具可以实现多个模型一块选定一次性传递多个模型的UV。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230728225705130.png" alt="image-20230728225705130"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20230728230419460.png" alt="image-20230728230419460"></p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//多边形UV传递工具</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> gtUVtransforWin()&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="string">`window -ex gtUVtransforWin`</span>) <span class="keyword">deleteUI</span>  -<span class="keyword">window</span> gtUVtransforWin;</span><br><span class="line"><span class="keyword">if</span>(<span class="string">`windowPref -ex gtUVtransforWin`</span>) <span class="keyword">windowPref</span> -r gtUVtransforWin;</span><br><span class="line"><span class="keyword">window</span> -title <span class="string">&quot;UV传递工具&quot;</span> -sizeable <span class="number">0</span> gtUVtransforWin;</span><br><span class="line"></span><br><span class="line"><span class="keyword">columnLayout</span>  -columnAttach <span class="string">&quot;both&quot;</span> <span class="number">10</span> -rowSpacing <span class="number">5</span> -columnWidth <span class="number">350</span>;</span><br><span class="line"><span class="keyword">text</span>  -h <span class="number">10</span>  -label<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">radioButtonGrp</span>  -cw3 <span class="number">100</span>  <span class="number">100</span>  <span class="number">100</span>  -numberOfRadioButtons <span class="number">2</span> -l <span class="string">&quot;层级方式：&quot;</span>  -la2 <span class="string">&quot;选择的物体:&quot;</span> <span class="string">&quot;所有子层级&quot;</span>  -sl <span class="number">1</span> gtUVRad; </span><br><span class="line"><span class="keyword">radioButtonGrp</span>  -cw3 <span class="number">100</span>  <span class="number">100</span>  <span class="number">100</span>  -numberOfRadioButtons <span class="number">2</span> -l <span class="string">&quot;判断方式：&quot;</span>  -la2 <span class="string">&quot;顶点数量:&quot;</span> <span class="string">&quot;当前位置&quot;</span>  -sl <span class="number">1</span> gtUVcondition;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">rowColumnLayout</span> -nc <span class="number">2</span> -cw <span class="number">1</span> <span class="number">240</span> -cw <span class="number">2</span> <span class="number">100</span> ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">textFieldGrp</span> -l <span class="string">&quot;编辑好UV的模型：&quot;</span> -<span class="keyword">text</span> <span class="string">&quot;&quot;</span> -ed <span class="number">0</span> -cw2  <span class="number">100</span> <span class="number">120</span> gtUVobj;</span><br><span class="line"><span class="keyword">button</span>  -l <span class="string">&quot;载入模型&quot;</span> -c <span class="string">&quot;gtUVtransforProcLoad&quot;</span> gtUVBut;</span><br><span class="line"></span><br><span class="line"><span class="keyword">setParent</span>..;</span><br><span class="line"><span class="keyword">separator</span> -style double;</span><br><span class="line"><span class="keyword">rowColumnLayout</span> -nc <span class="number">3</span> -cw <span class="number">1</span> <span class="number">168</span> -cw <span class="number">2</span> <span class="number">4</span>  -cw <span class="number">3</span> <span class="number">168</span>  ;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">button</span>  -l <span class="string">&quot;等数量传递UV&quot;</span> -c <span class="string">&quot;gtUVtransforProc&quot;</span> gtIntsecoundBnButA;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">button</span>  -l <span class="string">&quot;一对N传递UV&quot;</span> -c <span class="string">&quot;gtUVtransforProcA&quot;</span> gtIntsecoundBnButAA;</span><br><span class="line"></span><br><span class="line"><span class="keyword">setParent</span>..;</span><br><span class="line"><span class="keyword">separator</span> -style double;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;可以载入全部编辑好UV的多变形模型，或者一个&quot;</span> -bgc <span class="number">0.38</span> <span class="number">0.38</span> <span class="number">0.38</span> -h <span class="number">50</span> gtVexSameNum;</span><br><span class="line"><span class="keyword">text</span> -h <span class="number">5</span>  -label<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">showWindow</span> gtUVtransforWin;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/////////////////////////</span></span><br><span class="line">gtUVtransforWin;</span><br><span class="line"><span class="comment">/////////////////////////////</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> gtUVtransforProcLoad()&#123;</span><br><span class="line">    <span class="keyword">int</span> $condition=<span class="string">`radioButtonGrp  -q  -sl  gtUVcondition`</span>; </span><br><span class="line">    <span class="keyword">string</span> $sel[]=<span class="string">`ls -sl`</span>;</span><br><span class="line">    <span class="keyword">string</span> $name=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">string</span> $nameE=<span class="string">&quot;&quot;</span>;    </span><br><span class="line">    <span class="keyword">if</span>($condition==<span class="number">1</span>)&#123;      </span><br><span class="line">        <span class="keyword">for</span>($j=<span class="number">0</span>;$j&lt;<span class="keyword">size</span>($sel);$j++)&#123;</span><br><span class="line">        <span class="keyword">select</span> -r $sel;</span><br><span class="line">        <span class="keyword">select</span> -d $sel[$j];</span><br><span class="line">        <span class="keyword">int</span> $tempvex[]=<span class="string">`polyEvaluate -v $sel[$j]`</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">string</span> $tempSel[]=<span class="string">`ls -sl`</span>;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($tempSel);$i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> $tempvexa[]=<span class="string">`polyEvaluate -v $tempSel[$i]`</span>;</span><br><span class="line">        <span class="keyword">if</span>($tempvexa[<span class="number">0</span>]==$tempvex[<span class="number">0</span>])$nameE+=$tempSel[$i]+<span class="string">&quot; &quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">string</span> $mm[];</span><br><span class="line">        <span class="keyword">if</span>($nameE!=<span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> $num=<span class="string">`tokenize $nameE &quot; &quot; $mm`</span>;</span><br><span class="line">        <span class="keyword">select</span> -r $sel;</span><br><span class="line">        <span class="keyword">select</span> -d ($mm);</span><br><span class="line">        <span class="keyword">text</span> -e -bgc <span class="number">0.3</span> <span class="number">0</span> <span class="number">0</span> -l ($nameE+<span class="string">&quot;:\n当前选择的这些模型顶点数量相同\n无法自动识别对应物体，请逐个传递UV数据&quot;</span>) gtVexSameNum;       </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">select</span> -r $sel;  </span><br><span class="line">        <span class="keyword">text</span> -e -bgc <span class="number">0.1</span> <span class="number">0.2</span> <span class="number">0</span> -l (<span class="string">&quot;所有选择的模型全部载入到输入框中&quot;</span>) gtVexSameNum;                 </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">string</span> $nam[]=<span class="string">`ls -sl`</span>;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($nam);$i++)&#123;</span><br><span class="line">        $name+=$nam[$i]+<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">textFieldGrp</span> -e -tx ($name) gtUVobj; </span><br><span class="line">    <span class="keyword">if</span>($nameE!=<span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line">    <span class="keyword">select</span> -r ($mm);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">select</span> -r $nam;   </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">string</span> $nam[]=<span class="string">`ls -sl`</span>;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($nam);$i++)&#123;</span><br><span class="line">        $name+=$nam[$i]+<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">textFieldGrp</span> -e -tx ($name) gtUVobj; </span><br><span class="line">    <span class="keyword">text</span> -e -bgc <span class="number">0.1</span> <span class="number">0.2</span> <span class="number">0</span> -l (<span class="string">&quot;所有选择的模型全部载入到输入框中&quot;</span>) gtVexSameNum;                    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">///////////////</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> gtUVtransforProcAA()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">string</span> $sel[]=<span class="string">`ls -sl -l`</span>;</span><br><span class="line">    <span class="keyword">string</span> $unDoObj[];</span><br><span class="line">    <span class="keyword">string</span> $targetO= <span class="string">`textFieldGrp -q -tx  gtUVobj`</span>;</span><br><span class="line">    <span class="keyword">int</span> $style=<span class="string">`radioButtonGrp  -q  -sl  gtUVRad`</span>;  </span><br><span class="line">    <span class="keyword">string</span> $mm[];</span><br><span class="line">    <span class="keyword">int</span> $tm=<span class="string">`tokenize $targetO &quot; &quot; $mm`</span>;</span><br><span class="line">    <span class="keyword">string</span> $targetObj[];</span><br><span class="line">    <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($mm);$i++)&#123;</span><br><span class="line">       $targetObj[$i]=$mm[$i]; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>($style==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">select</span> -cl;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($sel);$i++)&#123;</span><br><span class="line">   <span class="keyword">string</span> $objMm[]=<span class="string">`listRelatives -c -ad  -type &quot;mesh&quot; $sel[$i]`</span>;</span><br><span class="line">         <span class="keyword">select</span> -add   $objMm; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">string</span> $objMesh[]=<span class="string">`ls -sl -type &quot;mesh&quot;`</span>;</span><br><span class="line">   <span class="keyword">string</span>  $objAll[];</span><br><span class="line">     <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($objMesh);$i++)&#123;</span><br><span class="line">       <span class="keyword">string</span> $temp[]=<span class="string">`listRelatives -p $objMesh[$i]`</span>;</span><br><span class="line">       $objAll[$i]=$temp[<span class="number">0</span>]; </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">select</span> -r $objAll;</span><br><span class="line">    <span class="keyword">string</span> $objM[]=<span class="string">`ls -type &quot;transform&quot; -sl`</span>;</span><br><span class="line">    <span class="keyword">select</span> -r $objM;</span><br><span class="line">    <span class="keyword">select</span> -d $targetObj;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">string</span> $objMeshT[]=<span class="string">`ls -sl`</span>;</span><br><span class="line">    <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($objMeshT);$i++)&#123;</span><br><span class="line">   <span class="keyword">string</span> $obj=$objMeshT[$i];</span><br><span class="line">   <span class="keyword">int</span> $objV[]=<span class="string">`polyEvaluate -v $obj`</span>;</span><br><span class="line">   <span class="keyword">string</span> $oldObj=<span class="string">&quot;&quot;</span>;</span><br><span class="line">   <span class="keyword">for</span>($j=<span class="number">0</span>;$j&lt;<span class="keyword">size</span>($targetObj);$j++)&#123;</span><br><span class="line">   <span class="keyword">int</span> $objVe[]=<span class="string">`polyEvaluate -v $targetObj[$j]`</span>;</span><br><span class="line">   <span class="keyword">if</span>($objV[<span class="number">0</span>]==$objVe[<span class="number">0</span>])</span><br><span class="line">   $oldObj=$targetObj[$j]; </span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span>($oldObj==<span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line">      <span class="keyword">int</span> $undoS=<span class="keyword">size</span>($unDoObj);</span><br><span class="line">      $unDoObj[$undoS] =$obj;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">string</span> $inputs[]= <span class="string">`listHistory  $obj`</span>;</span><br><span class="line">    <span class="keyword">int</span> $skin=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>($ii=<span class="number">3</span>;$ii&lt;<span class="keyword">size</span>($inputs);$ii++)&#123;</span><br><span class="line">        <span class="keyword">string</span> $type=<span class="string">`nodeType ($inputs[$ii])`</span>;</span><br><span class="line">        <span class="keyword">if</span>($type==<span class="string">&quot;tweak&quot;</span>)$skin=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>($skin==<span class="number">1</span>)&#123;</span><br><span class="line">     <span class="keyword">string</span> $targetShape[]= <span class="string">`listRelatives -shapes $obj`</span>;  </span><br><span class="line">    <span class="keyword">string</span> $targetOrigin = ($targetShape[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">select</span> -r $targetOrigin ;</span><br><span class="line">    <span class="keyword">setAttr</span> ($targetOrigin +<span class="string">&quot;.intermediateObject&quot;</span>) <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">select</span> -r  $oldObj;</span><br><span class="line">    <span class="keyword">select</span> -add $targetOrigin ;</span><br><span class="line">    <span class="keyword">transferAttributes</span> -transferPositions <span class="number">0</span> -transferNormals <span class="number">0</span> -transferUVs <span class="number">2</span> -transferColors <span class="number">0</span> -sampleSpace <span class="number">5</span> -sourceUvSpace <span class="string">&quot;map1&quot;</span> -targetUvSpace <span class="string">&quot;map1&quot;</span> -searchMethod <span class="number">3</span>-flipUVs <span class="number">0</span> -colorBorders <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">select</span> -r $targetOrigin;</span><br><span class="line">    DeleteHistory;</span><br><span class="line">    <span class="keyword">setAttr</span> ($targetOrigin +<span class="string">&quot;.intermediateObject&quot;</span>) <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">select</span> -d;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">if</span>($skin==<span class="number">0</span>)&#123;  </span><br><span class="line">    <span class="keyword">select</span> -r  $oldObj;</span><br><span class="line">    <span class="keyword">select</span> -add $obj ;  </span><br><span class="line">    <span class="keyword">transferAttributes</span> -transferPositions <span class="number">0</span> -transferNormals <span class="number">0</span> -transferUVs <span class="number">2</span> -transferColors <span class="number">0</span> -sampleSpace <span class="number">5</span> -sourceUvSpace <span class="string">&quot;map1&quot;</span> -targetUvSpace <span class="string">&quot;map1&quot;</span> -searchMethod <span class="number">3</span> -flipUVs <span class="number">0</span> -colorBorders <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">select</span> -r $obj;</span><br><span class="line">    DeleteHistory;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;     </span><br><span class="line">    <span class="keyword">int</span> $undoS=<span class="keyword">size</span>($unDoObj);</span><br><span class="line">    <span class="keyword">if</span>($undoS&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">string</span> $unDoO=<span class="string">&quot;&quot;</span>;</span><br><span class="line">   <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;$undoS;$i++)&#123;</span><br><span class="line">       $unDoO+=$unDoObj[$i]+<span class="string">&quot;、&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">    <span class="keyword">text</span> -e -bgc <span class="number">0.3</span> <span class="number">0</span> <span class="number">0</span> -l ($unDoO+<span class="string">&quot;:\n当前选择的模型没有对应目标模型\n请手动查找，并逐个传递UV数据&quot;</span>) gtVexSameNum;       </span><br><span class="line">    <span class="keyword">select</span> -r $unDoObj;</span><br><span class="line">    <span class="keyword">clear</span> $unDoObj;</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">text</span> -e -bgc <span class="number">0.1</span> <span class="number">0.3</span> <span class="number">0</span> -l (<span class="string">&quot;当前选择的模型全部完成传递UV数据操作&quot;</span>) gtVexSameNum;       </span><br><span class="line">       <span class="keyword">select</span> -r  $objMeshT;   </span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">///////////////////</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> gtUVtransforProcBB()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">string</span> $sel[]=<span class="string">`ls -sl -l`</span>;</span><br><span class="line">    <span class="keyword">string</span> $unDoObj[];</span><br><span class="line">    <span class="keyword">string</span> $targetO= <span class="string">`textFieldGrp -q -tx  gtUVobj`</span>;</span><br><span class="line">    <span class="keyword">int</span> $style=<span class="string">`radioButtonGrp  -q  -sl  gtUVRad`</span>;  </span><br><span class="line">    <span class="keyword">string</span> $mm[];</span><br><span class="line">    <span class="keyword">int</span> $tm=<span class="string">`tokenize $targetO &quot; &quot; $mm`</span>;</span><br><span class="line">    <span class="keyword">string</span> $targetObj[];</span><br><span class="line">    <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($mm);$i++)&#123;</span><br><span class="line">       $targetObj[$i]=$mm[$i]; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>($style==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">select</span> -cl;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($sel);$i++)&#123;</span><br><span class="line">   <span class="keyword">string</span> $objMm[]=<span class="string">`listRelatives -c -ad  -type &quot;mesh&quot; $sel[$i]`</span>;</span><br><span class="line">         <span class="keyword">select</span> -add   $objMm; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">string</span> $objMesh[]=<span class="string">`ls -sl -type &quot;mesh&quot;`</span>;</span><br><span class="line">   <span class="keyword">string</span>  $objAll[];</span><br><span class="line">     <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($objMesh);$i++)&#123;</span><br><span class="line">       <span class="keyword">string</span> $temp[]=<span class="string">`listRelatives -p $objMesh[$i]`</span>;</span><br><span class="line">       $objAll[$i]=$temp[<span class="number">0</span>]; </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">select</span> -r $objAll;</span><br><span class="line">    <span class="keyword">string</span> $objM[]=<span class="string">`ls -type &quot;transform&quot; -sl`</span>;</span><br><span class="line">    <span class="keyword">select</span> -r $objM;</span><br><span class="line">    <span class="keyword">select</span> -d $targetObj;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">   <span class="keyword">string</span> $objMeshT[]=<span class="string">`ls -sl`</span>;</span><br><span class="line">   <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($objMeshT);$i++)&#123;</span><br><span class="line">   <span class="keyword">string</span> $obj=$objMeshT[$i];</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">float</span> $posA[]=<span class="string">`xform -q -ws -t ($obj+&quot;.vtx[0]&quot;)`</span>;      </span><br><span class="line">   <span class="keyword">string</span> $oldObj=<span class="string">&quot;&quot;</span>;</span><br><span class="line">   <span class="keyword">float</span> $dis=<span class="number">1000000</span>;</span><br><span class="line">   <span class="keyword">for</span>($j=<span class="number">0</span>;$j&lt;<span class="keyword">size</span>($targetObj);$j++)&#123;</span><br><span class="line">   <span class="keyword">float</span> $posB[]=<span class="string">`xform -q -ws -t ($targetObj[$j]+&quot;.vtx[0]&quot;)`</span>;</span><br><span class="line">   <span class="keyword">float</span> $cdis=<span class="keyword">mag</span>(&lt;&lt;$posA[<span class="number">0</span>],$posA[<span class="number">1</span>],$posA[<span class="number">2</span>]&gt;&gt;-&lt;&lt;$posB[<span class="number">0</span>],$posB[<span class="number">1</span>],$posB[<span class="number">2</span>]&gt;&gt;);</span><br><span class="line">   <span class="keyword">if</span>($cdis&lt;$dis)&#123;</span><br><span class="line">       $dis=$cdis;</span><br><span class="line">       $oldObj=$targetObj[$j]; </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>($oldObj==<span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line">      <span class="keyword">int</span> $undoS=<span class="keyword">size</span>($unDoObj);</span><br><span class="line">      $unDoObj[$undoS] =$obj;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">string</span> $inputs[]= <span class="string">`listHistory  $obj`</span>;</span><br><span class="line">    <span class="keyword">int</span> $skin=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>($ii=<span class="number">3</span>;$ii&lt;<span class="keyword">size</span>($inputs);$ii++)&#123;</span><br><span class="line">        <span class="keyword">string</span> $type=<span class="string">`nodeType ($inputs[$ii])`</span>;</span><br><span class="line">        <span class="keyword">if</span>($type==<span class="string">&quot;tweak&quot;</span>)$skin=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>($skin==<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">string</span> $targetShape[]= <span class="string">`listRelatives -shapes $obj`</span>;  </span><br><span class="line">    <span class="keyword">string</span> $targetOrigin = ($targetShape[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">select</span> -r $targetOrigin ;</span><br><span class="line">    <span class="keyword">setAttr</span> ($targetOrigin +<span class="string">&quot;.intermediateObject&quot;</span>) <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">select</span> -r  $oldObj;</span><br><span class="line">    <span class="keyword">select</span> -add $targetOrigin ;</span><br><span class="line">    <span class="keyword">transferAttributes</span> -transferPositions <span class="number">0</span> -transferNormals <span class="number">0</span> -transferUVs <span class="number">2</span> -transferColors <span class="number">0</span> -sampleSpace <span class="number">5</span> -sourceUvSpace <span class="string">&quot;map1&quot;</span> -targetUvSpace <span class="string">&quot;map1&quot;</span> -searchMethod <span class="number">3</span>-flipUVs <span class="number">0</span> -colorBorders <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">select</span> -r $targetOrigin;</span><br><span class="line">    DeleteHistory;</span><br><span class="line">    <span class="keyword">setAttr</span> ($targetOrigin +<span class="string">&quot;.intermediateObject&quot;</span>) <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">select</span> -d;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">if</span>($skin==<span class="number">0</span>)&#123;  </span><br><span class="line">    <span class="keyword">select</span> -r  $oldObj;</span><br><span class="line">    <span class="keyword">select</span> -add $obj ;  </span><br><span class="line">    <span class="keyword">transferAttributes</span> -transferPositions <span class="number">0</span> -transferNormals <span class="number">0</span> -transferUVs <span class="number">2</span> -transferColors <span class="number">0</span> -sampleSpace <span class="number">5</span> -sourceUvSpace <span class="string">&quot;map1&quot;</span> -targetUvSpace <span class="string">&quot;map1&quot;</span> -searchMethod <span class="number">3</span> -flipUVs <span class="number">0</span> -colorBorders <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">select</span> -r $obj;</span><br><span class="line">    DeleteHistory;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;  </span><br><span class="line">           </span><br><span class="line">    <span class="keyword">int</span> $undoS=<span class="keyword">size</span>($unDoObj);</span><br><span class="line">    <span class="keyword">if</span>($undoS&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">string</span> $unDoO=<span class="string">&quot;&quot;</span>;</span><br><span class="line">   <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;$undoS;$i++)&#123;</span><br><span class="line">       $unDoO+=$unDoObj[$i]+<span class="string">&quot;、&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">    <span class="keyword">text</span> -e -bgc <span class="number">0.3</span> <span class="number">0</span> <span class="number">0</span> -l ($unDoO+<span class="string">&quot;:\n当前选择的模型没有对应目标模型\n请手动查找，并逐个传递UV数据&quot;</span>) gtVexSameNum;       </span><br><span class="line">    <span class="keyword">select</span> -r $unDoObj;</span><br><span class="line">    <span class="keyword">clear</span> $unDoObj;</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">text</span> -e -bgc <span class="number">0.1</span> <span class="number">0.3</span> <span class="number">0</span> -l (<span class="string">&quot;当前选择的模型全部完成传递UV数据操作&quot;</span>) gtVexSameNum;       </span><br><span class="line">       <span class="keyword">select</span> -r  $objMeshT;   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//////////////////</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> gtUVtransforProc()</span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">int</span> $condition=<span class="string">`radioButtonGrp  -q  -sl  gtUVcondition`</span>; </span><br><span class="line">   <span class="keyword">if</span>($condition==<span class="number">1</span>)</span><br><span class="line">       gtUVtransforProcAA;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">       gtUVtransforProcBB;   </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/////////////////////////</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> gtUVtransforProcA()&#123;</span><br><span class="line">   <span class="keyword">string</span> $targetO= <span class="string">`textFieldGrp -q -tx  gtUVobj`</span>;</span><br><span class="line">   <span class="keyword">int</span> $ex=<span class="string">`objExists $targetO`</span>;</span><br><span class="line">   <span class="keyword">if</span>($ex==<span class="number">0</span>)<span class="keyword">error</span> <span class="string">&quot;请载入一个编辑好UV的多边形物体名称&quot;</span>;     </span><br><span class="line">    <span class="keyword">int</span> $style=<span class="string">`radioButtonGrp  -q  -sl  gtUVRad`</span>;  </span><br><span class="line">    <span class="keyword">string</span> $sel[]=<span class="string">`ls -sl`</span>; </span><br><span class="line">    <span class="keyword">if</span>($style==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">select</span> -cl;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($sel);$i++)&#123;</span><br><span class="line">         <span class="keyword">string</span> $objMm[]=<span class="string">`listRelatives -c -ad  -type &quot;mesh&quot; $sel[$i]`</span>;</span><br><span class="line">         <span class="keyword">select</span> -add   $objMm; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">string</span> $objMesh[]=<span class="string">`ls -sl -type &quot;mesh&quot;`</span>;</span><br><span class="line">        <span class="keyword">string</span>  $objAll[];</span><br><span class="line">     <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($objMesh);$i++)&#123;</span><br><span class="line">       <span class="keyword">string</span> $temp[]=<span class="string">`listRelatives -p $objMesh[$i]`</span>;</span><br><span class="line">       $objAll[$i]=$temp[<span class="number">0</span>]; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">select</span> -r $objAll;</span><br><span class="line">    <span class="keyword">string</span> $objM[]=<span class="string">`ls -type &quot;transform&quot; -sl`</span>;</span><br><span class="line">    <span class="keyword">select</span> -r $objM;</span><br><span class="line">    <span class="keyword">select</span> -d $targetO;  </span><br><span class="line">    &#125;</span><br><span class="line">                </span><br><span class="line">   <span class="keyword">string</span> $objMeshT[]=<span class="string">`ls -sl`</span>;</span><br><span class="line">   <span class="keyword">int</span> $numA=<span class="keyword">size</span>($objMeshT);       </span><br><span class="line">   <span class="keyword">string</span> $notMatchM[];</span><br><span class="line">   <span class="keyword">clear</span> $notMatchM;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($objMeshT);$i++)&#123;</span><br><span class="line">   <span class="keyword">string</span> $obj=$objMeshT[$i];</span><br><span class="line">   <span class="keyword">string</span> $shap[]=<span class="string">`listRelatives -s $obj`</span>;</span><br><span class="line">   $ex=<span class="string">`objExists $shap[0]`</span>;</span><br><span class="line">   <span class="keyword">string</span> $type;</span><br><span class="line">   <span class="keyword">if</span>($ex!=<span class="number">0</span>)$type=<span class="string">`nodeType $shap[0]`</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>($type!=<span class="string">&quot;mesh&quot;</span>)&#123;</span><br><span class="line">       <span class="keyword">print</span> ($obj+<span class="string">&quot;:不是多边形物体！&quot;</span>);</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;  </span><br><span class="line">   <span class="keyword">int</span> $objV[]=<span class="string">`polyEvaluate -v $obj`</span>;</span><br><span class="line">   <span class="keyword">string</span> $oldObj=$targetO;</span><br><span class="line">   <span class="keyword">int</span> $objVe[]=<span class="string">`polyEvaluate -v $oldObj`</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>($objV[<span class="number">0</span>]!=$objVe[<span class="number">0</span>])&#123;</span><br><span class="line">       <span class="keyword">int</span> $nsize=<span class="keyword">size</span>($notMatchM);</span><br><span class="line">       $notMatchM[$nsize]=$obj;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">string</span> $inputs[]= <span class="string">`listHistory  $obj`</span>;</span><br><span class="line">    <span class="keyword">int</span> $skin=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>($ii=<span class="number">0</span>;$ii&lt;<span class="keyword">size</span>($inputs);$ii++)&#123;</span><br><span class="line">        <span class="keyword">string</span> $type=<span class="string">`nodeType ($inputs[$ii])`</span>;</span><br><span class="line">        <span class="keyword">if</span>($type==<span class="string">&quot;tweak&quot;</span>)$skin=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>($skin==<span class="number">1</span>)&#123;</span><br><span class="line">     <span class="keyword">string</span> $targetShape[]= <span class="string">`listRelatives -shapes $obj`</span>;  </span><br><span class="line">    <span class="keyword">string</span> $targetOrigin = ($targetShape[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">select</span> -r $targetOrigin ;</span><br><span class="line">    <span class="keyword">setAttr</span> ($targetOrigin +<span class="string">&quot;.intermediateObject&quot;</span>) <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">select</span> -r  $oldObj;</span><br><span class="line">    <span class="keyword">select</span> -add $targetOrigin ;</span><br><span class="line">    <span class="keyword">transferAttributes</span> -transferPositions <span class="number">0</span> -transferNormals <span class="number">0</span> -transferUVs <span class="number">2</span> -transferColors <span class="number">0</span> -sampleSpace <span class="number">5</span> -sourceUvSpace <span class="string">&quot;map1&quot;</span> -targetUvSpace <span class="string">&quot;map1&quot;</span> -searchMethod <span class="number">3</span>-flipUVs <span class="number">0</span> -colorBorders <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">select</span> -r $targetOrigin;</span><br><span class="line">    DeleteHistory;</span><br><span class="line">    <span class="keyword">setAttr</span> ($targetOrigin +<span class="string">&quot;.intermediateObject&quot;</span>) <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">select</span> -d;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">if</span>($skin==<span class="number">0</span>)&#123;  </span><br><span class="line">    <span class="keyword">select</span> -r  $oldObj;</span><br><span class="line">    <span class="keyword">select</span> -add $obj ;  </span><br><span class="line">    <span class="keyword">transferAttributes</span> -transferPositions <span class="number">0</span> -transferNormals <span class="number">0</span> -transferUVs <span class="number">2</span> -transferColors <span class="number">0</span> -sampleSpace <span class="number">5</span> -sourceUvSpace <span class="string">&quot;map1&quot;</span> -targetUvSpace <span class="string">&quot;map1&quot;</span> -searchMethod <span class="number">3</span> -flipUVs <span class="number">0</span> -colorBorders <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">select</span> -r $obj;</span><br><span class="line">    DeleteHistory;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> $nsize=<span class="keyword">size</span>($notMatchM);</span><br><span class="line">    <span class="keyword">if</span>($nsize==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">text</span> -e -bgc <span class="number">0.1</span> <span class="number">0.3</span> <span class="number">0</span> -l (<span class="string">&quot;当前选择的模型全部完成传递UV数据操作&quot;</span>) gtVexSameNum; </span><br><span class="line">        <span class="keyword">select</span> -r  $objMeshT;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">string</span> $noeOM=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;$nsize;$i++)</span><br><span class="line">            $noeOM+=($notMatchM[$i]+<span class="string">&quot;、&quot;</span>);</span><br><span class="line">        <span class="keyword">text</span> -e -bgc <span class="number">0.1</span> <span class="number">0.3</span> <span class="number">0</span> -l (<span class="string">&quot;当前选择的模型中：&quot;</span>+$noeOM+<span class="string">&quot;这些模型顶点不匹配，没有传递UV数据操作&quot;</span>) gtVexSameNum; </span><br><span class="line">        <span class="keyword">select</span> -r $notMatchM; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;           </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//////////////////////</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Mel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bat批处理</title>
      <link href="/26832/"/>
      <url>/26832/</url>
      
        <content type="html"><![CDATA[<h2 id="复制文件"><a href="#复制文件" class="headerlink" title="复制文件"></a>复制文件</h2><p>执行以下bat可实现复制E盘测试文件夹下面的所有文件到C盘根目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">:: 要复制的文件夹</span><br><span class="line">set SOUECE=E:\测试</span><br><span class="line">:: 复制到的目录</span><br><span class="line">set DESTINATION=C:\</span><br><span class="line">xcopy %SOUECE% %DESTINATION%\ /s/y</span><br><span class="line">pause</span><br></pre></td></tr></table></figure><h2 id="创建文件夹"><a href="#创建文件夹" class="headerlink" title="创建文件夹"></a>创建文件夹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md 文件夹名称</span><br></pre></td></tr></table></figure><h2 id="创建Maya工程目录"><a href="#创建Maya工程目录" class="headerlink" title="创建Maya工程目录"></a>创建Maya工程目录</h2><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">md</span> data</span><br><span class="line"><span class="built_in">md</span> images</span><br><span class="line"><span class="built_in">md</span> scenes</span><br><span class="line"><span class="built_in">md</span> sourceimages</span><br><span class="line"></span><br><span class="line"><span class="built_in">more</span> +<span class="number">9</span> %<span class="number">0</span> &gt;&gt; workspace.mel</span><br><span class="line"><span class="keyword">exit</span> /b</span><br><span class="line"></span><br><span class="line">//Maya <span class="number">2018</span> Project Definition</span><br><span class="line"></span><br><span class="line">workspace -fr &quot;fluidCache&quot; &quot;cache/nCache/fluid&quot;;</span><br><span class="line">workspace -fr &quot;images&quot; &quot;images&quot;;</span><br><span class="line">workspace -fr &quot;offlineEdit&quot; &quot;scenes/edits&quot;;</span><br><span class="line">workspace -fr &quot;furShadowMap&quot; &quot;renderData/fur/furShadowMap&quot;;</span><br><span class="line">workspace -fr &quot;iprImages&quot; &quot;renderData/iprImages&quot;;</span><br><span class="line">workspace -fr &quot;renderData&quot; &quot;renderData&quot;;</span><br><span class="line">workspace -fr &quot;scripts&quot; &quot;scripts&quot;;</span><br><span class="line">workspace -fr &quot;fileCache&quot; &quot;cache/nCache&quot;;</span><br><span class="line">workspace -fr &quot;eps&quot; &quot;data&quot;;</span><br><span class="line">workspace -fr &quot;shaders&quot; &quot;renderData/shaders&quot;;</span><br><span class="line">workspace -fr &quot;<span class="number">3</span>dPaintTextures&quot; &quot;sourceimages/<span class="number">3</span>dPaintTextures&quot;;</span><br><span class="line">workspace -fr &quot;translatorData&quot; &quot;data&quot;;</span><br><span class="line">workspace -fr &quot;mel&quot; &quot;scripts&quot;;</span><br><span class="line">workspace -fr &quot;furFiles&quot; &quot;renderData/fur/furFiles&quot;;</span><br><span class="line">workspace -fr &quot;OBJ&quot; &quot;data&quot;;</span><br><span class="line">workspace -fr &quot;particles&quot; &quot;cache/particles&quot;;</span><br><span class="line">workspace -fr &quot;scene&quot; &quot;scenes&quot;;</span><br><span class="line">workspace -fr &quot;furEqualMap&quot; &quot;renderData/fur/furEqualMap&quot;;</span><br><span class="line">workspace -fr &quot;sourceImages&quot; &quot;sourceimages&quot;;</span><br><span class="line">workspace -fr &quot;furImages&quot; &quot;renderData/fur/furImages&quot;;</span><br><span class="line">workspace -fr &quot;clips&quot; &quot;clips&quot;;</span><br><span class="line">workspace -fr &quot;depth&quot; &quot;renderData/depth&quot;;</span><br><span class="line">workspace -fr &quot;sceneAssembly&quot; &quot;sceneAssembly&quot;;</span><br><span class="line">workspace -fr &quot;teClipExports&quot; &quot;<span class="built_in">Time</span> Editor/Clip Exports&quot;;</span><br><span class="line">workspace -fr &quot;movie&quot; &quot;movies&quot;;</span><br><span class="line">workspace -fr &quot;audio&quot; &quot;sound&quot;;</span><br><span class="line">workspace -fr &quot;bifrostCache&quot; &quot;cache/bifrost&quot;;</span><br><span class="line">workspace -fr &quot;autoSave&quot; &quot;autosave&quot;;</span><br><span class="line">workspace -fr &quot;mayaAscii&quot; &quot;scenes&quot;;</span><br><span class="line">workspace -fr &quot;<span class="built_in">move</span>&quot; &quot;data&quot;;</span><br><span class="line">workspace -fr &quot;sound&quot; &quot;sound&quot;;</span><br><span class="line">workspace -fr &quot;diskCache&quot; &quot;data&quot;;</span><br><span class="line">workspace -fr &quot;illustrator&quot; &quot;data&quot;;</span><br><span class="line">workspace -fr &quot;mayaBinary&quot; &quot;scenes&quot;;</span><br><span class="line">workspace -fr &quot;templates&quot; &quot;assets&quot;;</span><br><span class="line">workspace -fr &quot;furAttrMap&quot; &quot;renderData/fur/furAttrMap&quot;;</span><br><span class="line">workspace -fr &quot;timeEditor&quot; &quot;<span class="built_in">Time</span> Editor&quot;;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Bat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浏览器扩展插件</title>
      <link href="/22204/"/>
      <url>/22204/</url>
      
        <content type="html"><![CDATA[<h2 id="Chrome-应用商店："><a href="#Chrome-应用商店：" class="headerlink" title="Chrome 应用商店："></a>Chrome 应用商店：</h2><p>官网：<a href="https://chrome.google.com/webstore/category/extensions">Chrome 应用商店</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main//img/image-20230726213242271.png" alt="image-20230726213242271"></p><h2 id="Edge扩展插件"><a href="#Edge扩展插件" class="headerlink" title="Edge扩展插件"></a>Edge扩展插件</h2><p>官网：<a href="https://microsoftedge.microsoft.com/addons/Microsoft-Edge-Extensions-Home">Microsoft Edge 加载项</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main//img/image-20230726215444561.png" alt="image-20230726215444561"></p><h2 id="Tampermonkey"><a href="#Tampermonkey" class="headerlink" title="Tampermonkey"></a>Tampermonkey</h2><p>提到浏览器扩展必不可少的肯定是油猴</p><p>油猴的官网：<a href="https://www.tampermonkey.net/">https://www.tampermonkey.net/</a></p><p>可以直接去谷歌商店去下载安装 Tampermonkey</p><p>也可以在官网点击下载按钮进行下载安装</p><p>（ 另外我发现一个问题，如果你使用Edge访问官网，可能会没有以下下载按钮。）</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main//img/image-20230726213607424.png" alt="image-20230726213607424"></p><p>油猴是非常强大的扩展插件，具有很高的执行权限。安装的时候一定要确认脚本的安全性，因为浏览器在使用中会获取很多平台的密码。各种各样的个人信息</p><p>虽然油猴的插件很方便，安装脚本的时候一定要注意脚本的安全性。（会看代码的去看一下源码）安全第一！</p><h2 id="AdGuard"><a href="#AdGuard" class="headerlink" title="AdGuard"></a>AdGuard</h2><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main//img/image-20230726214032233.png" alt="image-20230726214032233"></p><p>很好用的广告屏蔽插件，同样有手机软件和电脑软件，只不过是收费的。</p><p>AdGuard官网：<a href="https://adguard.com/zh_cn/welcome.html">https://adguard.com/zh_cn&#x2F;welcome.html</a></p><p>Chrome 应用商店下载地址：<a href="https://chrome.google.com/webstore/detail/adguard-adblocker/bgnkhhnnamicmpeenaelnjfhikgbkllg">AdGuard</a></p><p>Github项目地址：<a href="https://github.com/AdguardTeam/AdguardBrowserExtension">https://github.com/AdguardTeam/AdguardBrowserExtension</a></p><h2 id="猫抓-cat-catch"><a href="#猫抓-cat-catch" class="headerlink" title="猫抓(cat catch)"></a>猫抓(cat catch)</h2><p>猫抓(cat-catch) 资源嗅探扩展，能够抓取当前网页上面的音频视频文件。主要就是这个功能，也是在Github开源的项目，很老牌的一个扩展。</p><p>了解插件的更多信息，请前往帮助文档：<a href="https://o2bmm.gitbook.io/cat-catch/">https://o2bmm.gitbook.io/cat-catch/</a></p><p>Github开源地址：<a href="https://github.com/xifangczy/cat-catch">https://github.com/xifangczy/cat-catch</a></p><p>Chrome 应用商店下载地址：<a href="https://chrome.google.com/webstore/detail/jfedfbgedapdagkghmgibemcoggfppbb">https://chrome.google.com/webstore/detail/jfedfbgedapdagkghmgibemcoggfppbb</a></p><h2 id="IDM-Integration-Module"><a href="#IDM-Integration-Module" class="headerlink" title="IDM Integration Module"></a>IDM Integration Module</h2><p>360安全浏览器：<a href="https://ext.se.360.cn/webstore/search/idm">应用市场 (360.cn)</a></p><p>Edge扩展下载地址：<a href="https://microsoftedge.microsoft.com/addons/detail/idm-integration-module/llbjbkhnmlidjebalopleeepgdfgcpec">IDM Integration Module</a></p><p>需要配合IDM客户端使用。</p><h2 id="沉浸式翻译"><a href="#沉浸式翻译" class="headerlink" title="沉浸式翻译"></a>沉浸式翻译</h2><p>很好用的网页翻译扩展，有些时候感觉没有Edge自带的好使。有些时候已经登陆了某些东西，不方便再复制到Edge访问可以用这个临时顶一下。其实也挺好用的，最大的特点是对照式翻译，原文和译文都显示。翻速度一般。了解更多请移步<a href="https://immersivetranslate.com/docs/">帮助文档</a></p><p>Github开源地址：<a href="https://github.com/immersive-translate/immersive-translate/releases/">Github沉浸式翻译</a></p><p>Chrome 应用商店下载地址：<a href="https://chromewebstore.google.com/detail/%E6%B2%89%E6%B5%B8%E5%BC%8F%E7%BF%BB%E8%AF%91-%E7%BD%91%E9%A1%B5%E7%BF%BB%E8%AF%91%E6%8F%92%E4%BB%B6-pdf%E7%BF%BB%E8%AF%91-%E5%85%8D%E8%B4%B9/bpoadfkcbjbfhfodiogcnhhhpibjhbnh">沉浸式翻译</a></p><p>帮助文档地址：<a href="https://immersivetranslate.com/docs/">https://immersivetranslate.com/docs/</a></p><h2 id="WebRTC-Control"><a href="#WebRTC-Control" class="headerlink" title="WebRTC Control"></a>WebRTC Control</h2><p>谷歌应用商店：<a href="https://chrome.google.com/webstore/detail/webrtc-control/fjkmabmdepjfammlpliljpnbhleegehm/related">WebRTC Control</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231105162307534.png" alt="image-20231105162307534"></p><h2 id="自由跳转"><a href="#自由跳转" class="headerlink" title="自由跳转"></a>自由跳转</h2><p>微博，知乎，简书等网站的外链有时候不能直接访问，通过这个插件来修改不能跳转的外链。</p><p>谷歌应用商店：<a href="https://chromewebstore.google.com/detail/%E8%87%AA%E7%94%B1%E8%B7%B3%E8%BD%AC/ldfofldbjpkkenoichgpoikbfgplgfdd">自由跳转</a></p><p><img src="https://lh3.googleusercontent.com/Iq6KX5DRnCXM-osxp4kIY-ogRTmx-daLblfhZzeordiJQMa2g7R5gSGuVqtxhPpQCmLjVt-PYXD80l1dw0UOCe3ZzQ=s800-w800-h500"></p><p>未完待续。。。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>卸载 Adobe Creative Cloud</title>
      <link href="/50098/"/>
      <url>/50098/</url>
      
        <content type="html"><![CDATA[<h2 id="卸载-Adobe-Creative-Cloud"><a href="#卸载-Adobe-Creative-Cloud" class="headerlink" title="卸载 Adobe Creative Cloud"></a>卸载 <strong>Adobe Creative Cloud</strong></h2><p><img src="https://s1.ax1x.com/2023/07/24/pCO0pe1.png"></p><p>如果安装了没有简化<strong>Adobe Creative Cloud</strong>程序的Adobe的产品，您的电脑将会多出来一个<strong>Adobe Creative Cloud</strong>程序，这个程序吧，不能直接卸载。非正版用户基本上用不上，有些时候还自动开启了开机启动，右下角就会有个图标，时不时可能还会提示你更新Adobe的产品。很讨厌，那么就用官方提供的工具卸载他吧！</p><p>官方提供的卸载工具可以放心使用。</p><p>卸载Adobe Creative Cloud官方工具：<a href="https://helpx.adobe.com/cn/creative-cloud/help/uninstall-creative-cloud-desktop-app.html">https://helpx.adobe.com/cn/creative-cloud/help/uninstall-creative-cloud-desktop-app.html</a></p><p>官方介绍的很详细，就不过多赘述了。</p><p>当然你也可以在有需要的时候从官网安装：<a href="https://helpx.adobe.com/cn/download-install/using/download-creative-cloud-apps.html">https://helpx.adobe.com/cn/download-install/using/download-creative-cloud-apps.html</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Adobe </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Adobe </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于Ps安装插件未正常签署问题</title>
      <link href="/59450/"/>
      <url>/59450/</url>
      
        <content type="html"><![CDATA[<h1 id="关于Ps安装插件未正常签署问题"><a href="#关于Ps安装插件未正常签署问题" class="headerlink" title="关于Ps安装插件未正常签署问题"></a>关于Ps安装插件未正常签署问题</h1><p><img src="https://s1.ax1x.com/2023/07/17/pCo2hKs.png"></p><p>这个是因为Ps要求每个插件发布出来，都通过专门的签名工具进行签名，签名的含义，就是所有者对此进行盖章，表示是官方出品，这样Ps才认。我们如果私自修改了插件的内容，就会导致这个问题。我们可以将Ps的签名检查功能关掉，方法如下。</p><p>Win+R 输入 regedit  打开注册表编辑器，进入  计算机\HKEY_CURRENT_USER\SOFTWARE\Adobe\</p><p>查看CSXS，我的是CSXS.11 </p><p><img src="https://s1.ax1x.com/2023/07/17/pCoWd0I.png"></p><p>双击运行我提供的注册表，双击运行即可关闭签名检查功能。</p><p><code>（注意，牵扯到修改注册表，注意备份，以防意外）</code></p><p><img src="https://s1.ax1x.com/2023/07/17/pCoWRns.png"></p><p><strong>注册表下载：<a href="https://zhangzhilong.lanzoue.com/iR99y12rxxxa">蓝奏云</a></strong></p>]]></content>
      
      
      <categories>
          
          <category> Ps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Adobe </tag>
            
            <tag> Ps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ps将Jsx脚本固定</title>
      <link href="/9663/"/>
      <url>/9663/</url>
      
        <content type="html"><![CDATA[<h1 id="Ps将Jsx脚本固定"><a href="#Ps将Jsx脚本固定" class="headerlink" title="Ps将Jsx脚本固定"></a>Ps将Jsx脚本固定</h1><p><img src="https://s1.ax1x.com/2023/07/17/pCoRIQH.png"></p><p>将Jsx脚本直接放入以下目录，重启Ps即可。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\Adobe\Adobe Photoshop 2023\Presets\Scripts</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Ps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Adobe </tag>
            
            <tag> Ps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ps图层批量重命名</title>
      <link href="/55929/"/>
      <url>/55929/</url>
      
        <content type="html"><![CDATA[<h1 id="Ps图层批量重命名"><a href="#Ps图层批量重命名" class="headerlink" title="Ps图层批量重命名"></a>Ps图层批量重命名</h1><p>当Ps的图层数量较多时，我们一个一个命名将会十分痛苦，接下来我介绍几个我搜集到的重命名图层的几种方法。</p><h3 id="Jsx脚本"><a href="#Jsx脚本" class="headerlink" title="Jsx脚本"></a>Jsx脚本</h3><p>顾名思义，就是通过Jsx脚本实现该功能，极其方便。但是我在使用中发现这个重命名方法不可控。会影响到其他不需要重命名的图层。</p><p>直接贴代码：</p><p>复制代码，粘贴到记事本里面，将记事本后缀  .txt  修改为  .jsx</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">app.bringToFront();</span><br><span class="line">var YourName = prompt(&quot;请输入新的图层名称&quot;,&#x27;请输入&#x27;)</span><br><span class="line">if (documents.length == 0) &#123;</span><br><span class="line">    alert(&quot;抱歉，没有图层&quot;);</span><br><span class="line">&#125;</span><br><span class="line">else &#123;</span><br><span class="line">    var visibility = false;</span><br><span class="line">    var docRef = activeDocument;</span><br><span class="line">        changeLayerName(docRef);</span><br><span class="line">&#125;</span><br><span class="line">function changeLayerName(layer)&#123;</span><br><span class="line">        var layers = layer.layers;</span><br><span class="line">    if(layers)&#123;</span><br><span class="line">    for(var i = 0; i &lt; layers.length; i ++)&#123;</span><br><span class="line">        layers[i].name = YourName + [i];</span><br><span class="line">        changeLayerName(layers[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>打开PS  在文件→脚本→浏览，找到刚刚新建的脚本。就会弹出从命名窗口。输入名称就可以重命名了，自动添加序号。</p><p><img src="https://s1.ax1x.com/2023/07/16/pCIsfhj.png"></p><p><img src="https://s1.ax1x.com/2023/07/16/pCIsX4J.png"></p><h3 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h3><h4 id="插件名称：Renamy"><a href="#插件名称：Renamy" class="headerlink" title="插件名称：Renamy"></a>插件名称：Renamy</h4><h4 id="作者：Alexander-Stotskii"><a href="#作者：Alexander-Stotskii" class="headerlink" title="作者：Alexander Stotskii"></a>作者：<a href="https://stotskii.gumroad.com/">Alexander Stotskii</a></h4><h3 id="售价：-29-99"><a href="#售价：-29-99" class="headerlink" title="售价：$29.99"></a>售价：$29.99</h3><p>下载：<a href="https://zhangzhilong.lanzoue.com/iqR3V12ns2uh">蓝奏云</a></p><p>试用版可以直接进行安装，将后缀.zxp修改为.zip。将文件解压到<code>C:\Program Files\Adobe\Adobe Photoshop 2023\Required\CEP\extensions</code>的目录下</p><p>这样插件就安装成功了，打开Ps，在窗口→扩展  找到Renamy即可使用。</p><p><img src="https://s1.ax1x.com/2023/07/16/pCIyLsP.png"></p><p><img src="https://s1.ax1x.com/2023/07/16/pCIymvt.png"></p><p><img src="https://s1.ax1x.com/2023/07/16/pCI6cFg.png"></p><p>由于我本人想用的直接明白一点所以我简单汉化了这个插件的界面</p><p>汉化版目前不公开，下载密码请通过本站<a href="https://sansuidouer.github.io/2023/06/26/GuanYu/">关于我</a>联系本人。免费分享。</p><p>汉化后会出现无法使用的问题，这里有<a href="https://sansuidouer.github.io/2023/07/17/Pssign/">解决方法</a>。</p><p>汉化版下载：<a href="https://zhangzhilong.lanzoue.com/i4ABP12nsmli">蓝奏云</a></p><h3 id="稿定设计助理"><a href="#稿定设计助理" class="headerlink" title="稿定设计助理"></a>稿定设计助理</h3><h4 id="官网：稿定设计助理PS插件"><a href="#官网：稿定设计助理PS插件" class="headerlink" title="官网：稿定设计助理PS插件"></a>官网：<a href="https://pszhuli.com/">稿定设计助理PS插件</a></h4><p>这个插件功能很强全，重命名图层只是其中一个功能，缺点是比较麻烦，有点臃肿，需要登陆，我没有深度了解。自行了解吧。</p><p><img src="https://s1.ax1x.com/2023/07/16/pCIcMtg.png"></p><p>2023&#x2F;07&#x2F;17：更新  目前稿定设计助理这个插件官方没有提供卸载方法。谨慎安装。</p>]]></content>
      
      
      <categories>
          
          <category> Ps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Adobe </tag>
            
            <tag> Ps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Quick Any2Ico 图标提取工具</title>
      <link href="/23971/"/>
      <url>/23971/</url>
      
        <content type="html"><![CDATA[<h1 id="Quick-Any2Ico-图标提取工具"><a href="#Quick-Any2Ico-图标提取工具" class="headerlink" title="Quick Any2Ico 图标提取工具"></a>Quick Any2Ico 图标提取工具</h1><h4 id="Quick-Any2Ico是一个免费的便携式应用程序从任何创建高质量的图标文件、文件夹或资源。它还可以添加或删除图像-图标文件中的格式，将提取的图标保存为-PNG-格式等等。"><a href="#Quick-Any2Ico是一个免费的便携式应用程序从任何创建高质量的图标文件、文件夹或资源。它还可以添加或删除图像-图标文件中的格式，将提取的图标保存为-PNG-格式等等。" class="headerlink" title="Quick Any2Ico是一个免费的便携式应用程序从任何创建高质量的图标文件、文件夹或资源。它还可以添加或删除图像 图标文件中的格式，将提取的图标保存为 PNG 格式等等。"></a>Quick Any2Ico是一个免费的便携式应用程序从任何创建高质量的图标文件、文件夹或资源。它还可以添加或删除图像 图标文件中的格式，将提取的图标保存为 PNG 格式等等。</h4><h4 id="官网：https-www-carifred-com-quick-any2ico"><a href="#官网：https-www-carifred-com-quick-any2ico" class="headerlink" title="官网：https://www.carifred.com/quick_any2ico"></a>官网：<a href="https://www.carifred.com/quick_any2ico">https://www.carifred.com/quick_any2ico</a></h4><p><img src="https://s1.ax1x.com/2023/07/13/pC4PiwV.png"></p><h4 id="下载地址：蓝奏云"><a href="#下载地址：蓝奏云" class="headerlink" title="下载地址：蓝奏云"></a>下载地址：<a href="https://zhangzhilong.lanzoue.com/iUpJy12caq3a">蓝奏云</a></h4><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>班迪录屏</title>
      <link href="/16613/"/>
      <url>/16613/</url>
      
        <content type="html"><![CDATA[<h1 id="班迪录屏"><a href="#班迪录屏" class="headerlink" title="班迪录屏"></a>班迪录屏</h1><h2 id="listary简介："><a href="#listary简介：" class="headerlink" title="listary简介："></a>listary简介：</h2><h3 id="官网：https-www-bandicam-cn"><a href="#官网：https-www-bandicam-cn" class="headerlink" title="官网：https://www.bandicam.cn"></a>官网：<a href="https://www.bandicam.cn/">https://www.bandicam.cn</a></h3><p>Bandicam（班迪录屏）一款简单好用的电脑屏幕录制软件，录屏幕，录游戏，录视频的功能强大的录屏工具，比起其他软件其性能更加卓越。 与其他软件相比，用 Bandicam 录制的视频大小更小。质量不会有较大压缩。老牌录屏软件，多种录屏模式。</p><p><img src="https://s2.loli.net/2023/07/11/JTzxCQFLrZnAHE8.png" alt="Snipaste_2023-07-11_20-58-45.png"></p><h3 id="VIP版"><a href="#VIP版" class="headerlink" title="VIP版"></a>VIP版</h3><p>Bandicam_6.2.1.2目前是能找到的最新的VIP版，这是2023年五月份更新的一个版本。</p><p>这个版本更新了以下内容。</p><ul><li>在 Windows 10 和 11 中改进了屏幕录像性能。</li><li>在屏幕录制模式中改进了 HDR 显示器捕获性能。</li><li>添加了将文件保存在日期格式（YYYY-MM-DD）的文件夹下的选项。</li><li>添加了选择录制目标区域的热键（Ctrl+Shift+F）。</li><li>添加了最大化网络摄像头预览的热键（Shift+Tab）。</li><li>录制，暂停和图像捕获按钮的工具提示中显示了快捷键。</li><li>修复了其他一些小错误。</li></ul><h4 id="下载地址："><a href="#下载地址：" class="headerlink" title="下载地址："></a>下载地址：</h4><p>蓝奏云：<a href="https://zhangzhilong.lanzoue.com/i3PMt121coub">https://zhangzhilong.lanzoue.com/i3PMt121coub</a></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>清除原始数据</title>
      <link href="/3107/"/>
      <url>/3107/</url>
      
        <content type="html"><![CDATA[<h1 id="清除原始数据"><a href="#清除原始数据" class="headerlink" title="清除原始数据"></a>清除原始数据</h1><p>这个问题我在CSDN写过一篇文章介绍解决方法，可以去看原贴，这里做一个简单的搬运。</p><p><a href="https://blog.csdn.net/weixin_45083866/article/details/130155342">关于Adobe Photoshop 无法显示原始数据</a></p><p><img src="https://s1.ax1x.com/2023/07/10/pCRgcUs.png"></p><p><img src="https://s1.ax1x.com/2023/07/10/pCRg6Ej.png"></p><p><img src="https://s1.ax1x.com/2023/07/10/pCRgrDg.png"></p><p><img src="https://s1.ax1x.com/2023/07/10/pCRgrDg.png"></p><p>贴一下这个脚本的源代码</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deleteDocumentAncestorsMetadata</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">whatApp = <span class="title class_">String</span>(app.<span class="property">name</span>);<span class="comment">//String version of the app name</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(whatApp.<span class="title function_">search</span>(<span class="string">&quot;Photoshop&quot;</span>) &gt; <span class="number">0</span>) &#123; <span class="comment">//Check for photoshop specifically, or this will cause errors</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Function Scrubs Document Ancestors from Files</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!documents.<span class="property">length</span>) &#123;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;There are no open documents. Please open a file to run this script.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="title class_">ExternalObject</span>.<span class="property">AdobeXMPScript</span> == <span class="literal">undefined</span>) <span class="title class_">ExternalObject</span>.<span class="property">AdobeXMPScript</span> = <span class="keyword">new</span> <span class="title class_">ExternalObject</span>(<span class="string">&quot;lib:AdobeXMPScript&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xmp = <span class="keyword">new</span> <span class="title class_">XMPMeta</span>( activeDocument.<span class="property">xmpMetadata</span>.<span class="property">rawData</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Begone foul Document Ancestors!</span></span><br><span class="line"></span><br><span class="line">xmp.<span class="title function_">deleteProperty</span>(<span class="title class_">XMPConst</span>.<span class="property">NS_PHOTOSHOP</span>, <span class="string">&quot;DocumentAncestors&quot;</span>);</span><br><span class="line"></span><br><span class="line">app.<span class="property">activeDocument</span>.<span class="property">xmpMetadata</span>.<span class="property">rawData</span> = xmp.<span class="title function_">serialize</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Now run the function to remove the document ancestors</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">deleteDocumentAncestorsMetadata</span>(); </span><br></pre></td></tr></table></figure><h4 id="也可以直接下载：蓝奏云"><a href="#也可以直接下载：蓝奏云" class="headerlink" title="也可以直接下载：蓝奏云"></a>也可以直接下载：<a href="https://zhangzhilong.lanzoue.com/iRFmm0szkv9e">蓝奏云</a></h4><p>2023&#x2F;07&#x2F;17 更新：可以通过这个方法固定到PS中。（在顶端上搜索 “Ps将Jsx脚本固定” ）</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Ps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typora</title>
      <link href="/35679/"/>
      <url>/35679/</url>
      
        <content type="html"><![CDATA[<h1 id="Typora"><a href="#Typora" class="headerlink" title="Typora"></a>Typora</h1><h3 id="官网：https-typora-io"><a href="#官网：https-typora-io" class="headerlink" title="官网：https://typora.io"></a>官网：<a href="https://typora.io/">https://typora.io</a></h3><p>Typora是Markdown的一个编辑器，界面简单美观，由 Abner Lee 开发的轻量级Markdown 编辑器，与其他 Markdown 编辑器不同的是，Typora 没有采用源代码和预览双栏显示的方式，而是采用所见即所得的编辑方式，实现了即时预览的功能，但也可切换至源代码编辑模式。</p><hr><p><img src="https://s1.ax1x.com/2023/07/08/pCgUFlq.png"></p><h3 id="什么是Markdown？"><a href="#什么是Markdown？" class="headerlink" title="什么是Markdown？"></a>什么是Markdown？</h3><p>Markdown的文件大小极小，也是一大优点，方便传输编辑。没有Markdown编辑器可直接用记事本打开阅读。</p><p>Markdown是一种轻量级标记语言，它允许人们使用易读易写的纯文本格式编写文档。</p><p>Markdown 语言在 2004 由约翰·格鲁伯（英语：John Gruber）创建。</p><p>Markdown 编写的文档可以导出 HTML 、Word、图像、PDF、Epub 等多种格式的文档。</p><p>Markdown 编写的文档后缀为 .md, .markdown。</p><p><a href="http://markdown.p2hp.com/">Markdown中文网了解更多</a></p><h3 id="Typora目前的收费"><a href="#Typora目前的收费" class="headerlink" title="Typora目前的收费"></a>Typora目前的收费</h3><p><img src="https://s1.ax1x.com/2023/07/08/pCgU6HS.png"></p><h4 id="Typora激活版"><a href="#Typora激活版" class="headerlink" title="Typora激活版"></a>Typora激活版</h4><p>下载地址：<a href="https://zhangzhilong.lanzoue.com/i2oeq10h0omf">蓝奏云</a></p><p>将winmm.dll放置安装目录即可完成安装。</p><p><img src="https://s1.ax1x.com/2023/07/08/pCgU5j0.png"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows快捷指令</title>
      <link href="/578/"/>
      <url>/578/</url>
      
        <content type="html"><![CDATA[<h1 id="快速打开Windows开机启动目录"><a href="#快速打开Windows开机启动目录" class="headerlink" title="快速打开Windows开机启动目录"></a>快速打开Windows开机启动目录</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell:startup</span><br></pre></td></tr></table></figure><p>可以将需要开机自启的快捷方式放入该目录。使用方法有两种，第一种是可以在资源管理器直接输入后回车。</p><p><img src="https://s1.ax1x.com/2023/07/08/pCgY010.png"></p><p>第二种是可以使用  Win+R  使用运行命令执行该代码。</p><p><img src="https://s1.ax1x.com/2023/07/08/pCgYgAJ.png"></p><h1 id="鼠标右键-“发送到”-目录"><a href="#鼠标右键-“发送到”-目录" class="headerlink" title="鼠标右键 “发送到” 目录"></a>鼠标右键 “发送到” 目录</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell:sendto</span><br></pre></td></tr></table></figure><p>使用方法同上</p>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Listary</title>
      <link href="/23086/"/>
      <url>/23086/</url>
      
        <content type="html"><![CDATA[<p><img src="https://www.listary.com/wp-content/themes/listary5/images/logo.png"></p><h1 id="listary简介："><a href="#listary简介：" class="headerlink" title="listary简介："></a>listary简介：</h1><p>这是一款Windows搜索神器，这里不做过多介绍，想了解更多请自行百度或者去B站看，有很多演示。目前最新的版本注册机不好找，现在我在这里分享出来，以下是官网对Listary的介绍：Listary 是一款革命性的 Windows 搜索实用程序，它使查找文件和启动应用程序的速度极快，适合休闲用户和高级用户！</p><h4 id="官网：https-www-listary-com"><a href="#官网：https-www-listary-com" class="headerlink" title="官网：https://www.listary.com/"></a>官网：<a href="https://www.listary.com/">https://www.listary.com/</a></h4><h4 id="注册机：蓝奏云"><a href="#注册机：蓝奏云" class="headerlink" title="注册机：蓝奏云"></a>注册机：<a href="https://zhangzhilong.lanzoue.com/iaTKK11fv52b">蓝奏云</a></h4><h4 id="使用方法："><a href="#使用方法：" class="headerlink" title="使用方法："></a>使用方法：</h4><p>去官网下载最新版进行安装，下载注册机，里面有源码和编译好的程序，如果你仅仅想注册Listary为专业版请忽略源码和.Vs文件夹</p><p>直接打开编译好的ListaryRegist.exe，最好以管理员运行</p><p>emaill填你的邮箱，也可以随便填。</p><p>点击generate即可生成6行激活码，复制激活码去Listary进行激活。</p><p>如果注册失败基本说明注册机已经失效了。</p><p><img src="https://s1.ax1x.com/2023/07/08/pCcoXtJ.png"></p><h3 id="注册成功"><a href="#注册成功" class="headerlink" title="注册成功"></a>注册成功</h3><p><img src="https://s1.ax1x.com/2023/07/08/pCcTpX6.png"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客测试文档</title>
      <link href="/15361/"/>
      <url>/15361/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="密码错误，请重试" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="ff29d581e4657479ee0d0ecc150fa483230a3588eb95bff8a637d81e45e33bce">5560b822679e40d5171246821a336b3d9ceb050be2fbdad01ca8ed9e7f74e2a5f0406750af190f71003d40c4dccdc46ae101a220662324cc9d4aa4798048846dfbd3567351d32820fbc0bb6fbdcb8f057e10d9ea64cfbaa045aa988815b6424e9fba17620540220952fa8618061554cd8061f00d5e522c448596fce2903bcf96c07f1befaead31b625cbf54c8dac22fd506fcf0f9b04a5f44f28cbcff5b5c9c7c59c7213168e0b73d03d1df8d0bd02113ebc89c85d20751c5137f946e74758bee3661eae84443f88227c208474169404d117a3198997d8feeff76354a78af3763f99ee6f87f0e177e20b12b327986c4cc986cf069a8ad4deedc47b7ac65122c14f970da42fe736d534169a3b68a2ff939cfd3a341bbb66d31f59befd727f50bf1afb7e0bbfae081d12c1c90393aeb637bb9fb46618281a60ec98b417c238f5835df9578a4d1136c654f24b5995f0be953662a7d128f8b9e20b12f1e1639621159bf4f3ad26a5ec70a35e9dfa73387429f00b80c74d787102a89078fd54f4781af3ef175a947a8e2217786620e3bf75e17de6db0e0afbce340cd59f0393508c7a0e772e8c9482c81ff8874351b922457462338f1642be95d3fc3fb620020e2b22241be508dce40de5f1e119eca9df0857ee1b67843f15bdd501be34873ee7062e09510ee94400f0695075dd6c62cd7e44c75475c5b01cb50ecf0ba81caafc9626bf20d8da322ba4703735d618ae8d4f73887482ec174f7bcb70ae00597f0067c160224a9f9b8968570030942b6c0c006547c7605b4f30d72a60903d2df4ea5966922ae84c5709ce9449e19917ec219bcf1d7dae0939e412db99ee78dd7676d9d17cec9c04519a5612494e041acacaeb09fd01b58046f7072b31295b2ab9b582b60770fc0bedca74e3a50a55e14aff64f4c2f58f615100af5a472ab43630ff0c251d0bc5a75dd7a07e7fd4c1dd9488afd033dff9d2327e4ecd934df9c0dda369d2ae36de042c1e0dd51d0c14fe58f34664ab0c33adf90972e1a3788fa755940ce32c2645dd4ecb895002867ee7df1f26926edd9c0f3053caff9b2d3e5356e8ce9637cbc2f448585228d8991b1c34ca38c8fbc0531a321ab66c6ba430b464b6c7b4762ff08da18d3a50b2518e37727c5523de0f96450abf578810d07068f324445bafcbfc5de1e7c19afe5e9fe042cd6ee68aac1c8094306ce17065bce6c4447ed505c098c13d857cddf3b7498b4769bafb79e52096257bfa3aae796c61fba0d04c817eb32b5bb3287199a143aa6f082742382ac036afbf1bbca59a4f12a44b526daeae3020e481fac2aba13b98c8fe615c1a99371379e5d7fbe4a40057a83516cbd90128259e3a99b01e086e4a24111364663657a46e1c802d2740a09d70bb4d372f791e41434a7b384823d53da24c2bf00a543edd5e9b6c86b1ed9ac387567d67a889dbc2beb5d0243ae898620f2bf3b6b032e93f1d5dab4b459c3aa8e4ddddd01a0221a26a8a7a6f293729d95dd08b550dfc657a2dec2ef24de976bbb28319bd310a74c81478a97f3f9b92f85a1c8b14f3bb368a50e46bd2ffa670bbab2f1e4fd9282d0c6e3f13d892c475f7afd791c6a3ae0eaeec888bd73761c42de4ab5d752942920a806554c5092e1197be9a6df6fe143d7c7df2900a4d7615db39deda41ba1bc91d1c8dfe850c93c4588b4a6ea2eddde6478a5e24784b95bbdf54392c77fbc8a10386d6a52d0a3715aea6e9e89fbf9a2526d6f8dad56ce3499fc6a24aa675358f2cba1b5c5b5608fa77752c6b7ebb54df946adb03786bc532d37ed4bbd73ca8c4cf8802b7ff6cf61ffb18b5f573b3898f1188551245857977bed48f3deafe5dac5c79e9c50ef9b90294baeee302</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">当前文章暂不对外可见，请输入访问密码后查看！</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CopyAttrValues</title>
      <link href="/60596/"/>
      <url>/60596/</url>
      
        <content type="html"><![CDATA[<h1 id="Mel语言命令：copyAttrValues"><a href="#Mel语言命令：copyAttrValues" class="headerlink" title="Mel语言命令：copyAttrValues"></a>Mel语言命令：copyAttrValues</h1><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copyAttrValues;</span><br></pre></td></tr></table></figure><p>这是Maya内置的一个命令，直译成中文就是 “复制属性值”。</p><p>所实现的功能就是可以复制的属性，最直接的用法就是选中一个物体再加选一个，再加选需要复制的属性，执行该命令。第一个物体的属性就会被设置为第二个物体的属性值。直接看下图演示！  这个命令目前测试Maya2014以上版本均可使用，在Maya2018新增加了一个功能。在菜单栏修改→匹配变换，里面可以设置更详细的匹配变换功能。这个命令可以在Maya2018以下版本没有匹配变换功能的Maya使用。</p><p><img src="https://pic.imgdb.cn/item/64a578781ddac507cc12fb81.gif"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Mel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>贴图设置工具</title>
      <link href="/25160/"/>
      <url>/25160/</url>
      
        <content type="html"><![CDATA[<h1 id="贴图设置工具"><a href="#贴图设置工具" class="headerlink" title="贴图设置工具"></a>贴图设置工具</h1><h3 id="脚本语言：Mel"><a href="#脚本语言：Mel" class="headerlink" title="脚本语言：Mel"></a>脚本语言：Mel</h3><h3 id="脚本界面："><a href="#脚本界面：" class="headerlink" title="脚本界面："></a>脚本界面：</h3><p><img src="https://s1.ax1x.com/2023/07/04/pCszQVP.png"></p><h3 id="使用说明："><a href="#使用说明：" class="headerlink" title="使用说明："></a>使用说明：</h3><p>这个工具是因为连贴图的时候使用。设置各种贴图的颜色空间，什么Raw，什么勾选忽略颜色空间，Alpha为亮度等，一两个贴图还可以。贴图一多一遍一遍的设置无疑是浪费时间的，Maya也有颜色空间规则可以自动识别贴图的后缀设置色彩空间。但是后缀没有设别的话就不会应用正确的色彩空间。所以写了这个小工具，能精准控制每一张贴图的色彩空间。</p><h3 id="各按钮功能："><a href="#各按钮功能：" class="headerlink" title="各按钮功能："></a>各按钮功能：</h3><h4 id="忽略所有贴图色彩空间规则："><a href="#忽略所有贴图色彩空间规则：" class="headerlink" title="忽略所有贴图色彩空间规则："></a>忽略所有贴图色彩空间规则：</h4><p>无需选中任何贴图，直接执行可忽略当前场景的所有贴图的色彩空间规则。原理也很简单，就是识别场景中所有的贴图节点，全部勾选忽略色彩空间规则。</p><p><img src="https://s1.ax1x.com/2023/07/04/pCszfVx.png"></p><h4 id="2dTexture："><a href="#2dTexture：" class="headerlink" title="2dTexture："></a>2dTexture：</h4><p>使用方法就是先选中一个place2dTexture节点，再加选需要链接这个place2dTexture的贴图执行。</p><p>就可以自动连接好，不限于渐变节点，其他节点均可。</p><p><img src="https://s1.ax1x.com/2023/07/04/pCySFLn.png"></p><p><img src="https://s1.ax1x.com/2023/07/04/pCySdQH.png"></p><h4 id="sRGB："><a href="#sRGB：" class="headerlink" title="sRGB："></a>sRGB：</h4><p>这个按键就是选中需要设置色彩空间为sRGB的贴图，执行这个功能，可以设置色彩空间为sRGB，勾选忽略颜色空间规则，检查是否勾选Alpha为亮度。如果勾选Alpha为亮度，则执行取消勾选。如果未勾选则忽略；</p><h4 id="Rwa："><a href="#Rwa：" class="headerlink" title="Rwa："></a>Rwa：</h4><p>这个按键就是选中需要设置色彩空间为Raw的贴图，执行这个功能，可以设置色彩空间为Raw，勾选忽略颜色空间规则，检查是否勾选Alpha为亮度。如果勾选则忽略，如果未勾选则执行勾选；</p><h4 id="Utility-sRGB："><a href="#Utility-sRGB：" class="headerlink" title="Utility - sRGB："></a>Utility - sRGB：</h4><p>这个和sRGB功能一样，唯一区别就是将色彩空间设置为Utility - sRGB；</p><h4 id="Utility-RAW："><a href="#Utility-RAW：" class="headerlink" title="Utility - RAW："></a>Utility - RAW：</h4><p>和Raw功能相同，区别是色彩空间设置为Utility - RAW</p><h3 id="功能讲解完毕，上源码！"><a href="#功能讲解完毕，上源码！" class="headerlink" title="功能讲解完毕，上源码！"></a>功能讲解完毕，上源码！</h3><h4 id="脚本源码："><a href="#脚本源码：" class="headerlink" title="脚本源码："></a>脚本源码：</h4><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//贴图设置工具//</span></span><br><span class="line"><span class="comment">// 作者：三岁豆 , 创建日期 2023.06.07 //</span></span><br><span class="line"><span class="comment">// 2024年1月24日 添加保留边和角功能 //</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">////////////忽略所有贴图色彩空间规则///////////////</span></span><br><span class="line"><span class="keyword">proc</span> Ignoreall()&#123; </span><br><span class="line">        <span class="keyword">string</span> $FileJD[]=<span class="string">`ls -type file`</span>;</span><br><span class="line">        <span class="keyword">for</span> ($one <span class="keyword">in</span> $FileJD)&#123;</span><br><span class="line">        <span class="keyword">setAttr</span> ($one+<span class="string">&quot;.ignoreColorSpaceFileRules&quot;</span>) <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">&quot;所有贴图忽略颜色空间规则成功&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">////////////OpenSubdiv 保留边和角///////////////</span></span><br><span class="line"><span class="keyword">proc</span> OpenSubdivT()&#123; </span><br><span class="line">        <span class="keyword">string</span> $Subdiv[<span class="number">0</span>] = <span class="string">`ls -sl -dag -type shape`</span>;</span><br><span class="line">        <span class="keyword">for</span> ($one <span class="keyword">in</span> $Subdiv)</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">`objExists ($one+&quot;.osdFvarBoundary&quot;)`</span>)</span><br><span class="line">        &#123;<span class="keyword">setAttr</span> ($one+<span class="string">&quot;.osdFvarBoundary&quot;</span>) <span class="number">1</span>;&#125;</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">&quot;已将UV平滑模式设置为保留边和角&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">////////////设置格式为 sRGB 忽略规则///////////////</span></span><br><span class="line"><span class="keyword">proc</span> BsRGB()&#123;</span><br><span class="line">        <span class="keyword">string</span> $sRGBsel[] = <span class="string">`ls -sl`</span>;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>; $i&lt;<span class="string">`size($sRGBsel)`</span>; $i++)</span><br><span class="line">        &#123;</span><br><span class="line">           <span class="keyword">setAttr</span>  -type <span class="string">&quot;string&quot;</span> ($sRGBsel[$i] + <span class="string">&quot;.colorSpace&quot;</span>)<span class="string">&quot;sRGB&quot;</span>; </span><br><span class="line">           <span class="keyword">setAttr</span> ($sRGBsel[$i]+ <span class="string">&quot;.ignoreColorSpaceFileRules&quot;</span>) <span class="number">1</span>;</span><br><span class="line">           <span class="keyword">print</span> (<span class="string">&quot;  Utility - sRGB - Texture设置成功&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">////////////设置格式为Raw  忽略规则  Alpha为亮度///////////////</span></span><br><span class="line"><span class="keyword">proc</span> BRaw()&#123;</span><br><span class="line">        <span class="keyword">string</span> $Rawsel[] = <span class="string">`ls -sl`</span>;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>; $i&lt;<span class="string">`size($Rawsel)`</span>; $i++)&#123;</span><br><span class="line">           <span class="keyword">setAttr</span>  -type <span class="string">&quot;string&quot;</span> ($Rawsel[$i] + <span class="string">&quot;.colorSpace&quot;</span>)<span class="string">&quot;Raw&quot;</span>; </span><br><span class="line">           <span class="keyword">setAttr</span> ($Rawsel[$i]+ <span class="string">&quot;.ignoreColorSpaceFileRules&quot;</span>) <span class="number">1</span>;</span><br><span class="line">           <span class="keyword">setAttr</span> ($Rawsel[$i]+ <span class="string">&quot;.alphaIsLuminance&quot;</span>) <span class="number">1</span>;</span><br><span class="line">           <span class="keyword">print</span> (<span class="string">&quot;  Utility - Raw  设置成功&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">////////////设置格式为 Utility - sRGB - Texture 忽略规则///////////////</span></span><br><span class="line"><span class="keyword">proc</span> BUsRGB()&#123;</span><br><span class="line">        <span class="keyword">string</span> $Usrgbsel[] = <span class="string">`ls -sl`</span>;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>; $i&lt;<span class="string">`size($Usrgbsel)`</span>; $i++)</span><br><span class="line">        &#123;</span><br><span class="line">           <span class="keyword">setAttr</span>  -type <span class="string">&quot;string&quot;</span> ($Usrgbsel[$i] + <span class="string">&quot;.colorSpace&quot;</span>)<span class="string">&quot;Utility - sRGB - Texture&quot;</span>; </span><br><span class="line">           <span class="keyword">setAttr</span> ($Usrgbsel[$i]+ <span class="string">&quot;.ignoreColorSpaceFileRules&quot;</span>) <span class="number">1</span>;</span><br><span class="line">           <span class="keyword">print</span> (<span class="string">&quot;  Utility - sRGB - Texture设置成功&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">////////////设置格式为 Utility - RAW 忽略规则 Alpha为亮度///////////////</span></span><br><span class="line"><span class="keyword">proc</span> BUraw()&#123;</span><br><span class="line">        <span class="keyword">string</span> $URAWsel[] = <span class="string">`ls -sl`</span>;</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>; $i&lt;<span class="string">`size($URAWsel)`</span>; $i++)&#123;</span><br><span class="line">           <span class="keyword">setAttr</span>  -type <span class="string">&quot;string&quot;</span> ($URAWsel[$i] + <span class="string">&quot;.colorSpace&quot;</span>)<span class="string">&quot;Utility - Raw&quot;</span>; </span><br><span class="line">           <span class="keyword">setAttr</span> ($URAWsel[$i]+ <span class="string">&quot;.ignoreColorSpaceFileRules&quot;</span>) <span class="number">1</span>;</span><br><span class="line">           <span class="keyword">setAttr</span> ($URAWsel[$i]+ <span class="string">&quot;.alphaIsLuminance&quot;</span>) <span class="number">1</span>;</span><br><span class="line">           <span class="keyword">print</span> (<span class="string">&quot;  Utility - Raw  设置成功&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//批量连接2dTexture到贴图File节点，先选择2dTexture，后选择贴图节点（可支持rs法线贴图连接）//</span></span><br><span class="line"><span class="keyword">proc</span> B2dtex()&#123;</span><br><span class="line"><span class="keyword">string</span> $Nsel[] = <span class="string">`ls -sl`</span>;</span><br><span class="line"><span class="keyword">string</span> $NTile = ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.repeatUV&quot;</span>);</span><br><span class="line"><span class="keyword">select</span> -d $Nsel[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">string</span> $sel[] = <span class="string">`ls -sl`</span>;</span><br><span class="line"><span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="string">`size($sel)`</span>;$i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="string">`objectType $sel[$i]`</span>==<span class="string">&quot;file&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.coverage&quot;</span>) ($sel[$i]+<span class="string">&quot;.coverage&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.mirrorU&quot;</span>) ($sel[$i]+<span class="string">&quot;.mirrorU&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.mirrorV&quot;</span>) ($sel[$i]+<span class="string">&quot;.mirrorV&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.noiseUV&quot;</span>) ($sel[$i]+<span class="string">&quot;.noiseUV&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.offset&quot;</span>) ($sel[$i]+<span class="string">&quot;.offset&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.uvFilterSize&quot;</span>) ($sel[$i]+<span class="string">&quot;.uvFilterSize&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.repeatUV&quot;</span>) ($sel[$i]+<span class="string">&quot;.repeatUV&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.rotateFrame&quot;</span>) ($sel[$i]+<span class="string">&quot;.rotateFrame&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.rotateUV&quot;</span>) ($sel[$i]+<span class="string">&quot;.rotateUV&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.stagger&quot;</span>) ($sel[$i]+<span class="string">&quot;.stagger&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.translateFrame&quot;</span>) ($sel[$i]+<span class="string">&quot;.translateFrame&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.vertexCameraOne&quot;</span>) ($sel[$i]+<span class="string">&quot;.vertexCameraOne&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.vertexUvOne&quot;</span>) ($sel[$i]+<span class="string">&quot;.vertexUvOne&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.vertexUvThree&quot;</span>) ($sel[$i]+<span class="string">&quot;.vertexUvThree&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.vertexUvTwo&quot;</span>) ($sel[$i]+<span class="string">&quot;.vertexUvTwo&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.wrapU&quot;</span>) ($sel[$i]+<span class="string">&quot;.wrapU&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.wrapV&quot;</span>) ($sel[$i]+<span class="string">&quot;.wrapV&quot;</span>);</span><br><span class="line">        <span class="keyword">connectAttr</span> -force ($Nsel[<span class="number">0</span>]+<span class="string">&quot;.outUV&quot;</span>) ($sel[$i]+<span class="string">&quot;.uvCoord&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">`objectType $sel[$i]`</span>==<span class="string">&quot;RedshiftNormalMap&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">connectAttr</span> -f $NTile ($sel[$i]+<span class="string">&quot;.repeats&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////主要窗口//////////////////</span></span><br><span class="line"><span class="keyword">string</span> $WindowMapColor = <span class="string">&quot;WindowMapColor&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`window -ex $WindowMapColor`</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">deleteUI</span> -<span class="keyword">window</span> $WindowMapColor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $windowtex = <span class="string">`window -title &quot;三岁豆Er&quot;</span></span><br><span class="line"><span class="string">       -sizeable 0</span></span><br><span class="line"><span class="string">       $WindowMapColor`</span>;</span><br><span class="line"><span class="keyword">columnLayout</span>  -columnAttach <span class="string">&quot;both&quot;</span> <span class="number">10</span> -rowSpacing <span class="number">5</span> -columnWidth <span class="number">230</span>;</span><br><span class="line">       <span class="keyword">text</span>  -h <span class="number">50</span>  -label<span class="string">&quot;贴图设置工具&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;忽略所有贴图色彩空间规则&quot;</span> -bgc <span class="number">0.2</span> <span class="number">0.8</span> <span class="number">0.9</span> -c <span class="string">&quot;Ignoreall()&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;2dTexture&quot;</span> -c <span class="string">&quot;B2dtex()&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;保留边和角&quot;</span> -c <span class="string">&quot;OpenSubdivT()&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;sRGB&quot;</span> -c <span class="string">&quot;BsRGB()&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;Raw&quot;</span> -c <span class="string">&quot;BRaw()&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;Utility - sRGB&quot;</span>  -c  <span class="string">&quot;BUsRGB()&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;Utility - Raw&quot;</span>  -c  <span class="string">&quot;BUraw()&quot;</span>;</span><br><span class="line">       <span class="keyword">text</span>  -h <span class="number">5</span> -label<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="keyword">showWindow</span> $WindowMapColor;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vray阴影层添加移除工具</title>
      <link href="/11762/"/>
      <url>/11762/</url>
      
        <content type="html"><![CDATA[<h1 id="Vray阴影层添加移除工具"><a href="#Vray阴影层添加移除工具" class="headerlink" title="Vray阴影层添加移除工具"></a>Vray阴影层添加移除工具</h1><h3 id="脚本语言：Mel"><a href="#脚本语言：Mel" class="headerlink" title="脚本语言：Mel"></a>脚本语言：Mel</h3><h3 id="脚本界面："><a href="#脚本界面：" class="headerlink" title="脚本界面："></a>脚本界面：</h3><p><img src="https://s1.ax1x.com/2023/07/04/pCsvYFS.png"></p><h3 id="使用说明："><a href="#使用说明：" class="headerlink" title="使用说明："></a>使用说明：</h3><p>此工具是在项目中需要渲染Vray材质的物体阴影产生的，由于拖拽的方式在较大场景中很不方便，加上卡顿可能会误拖拽。有了这个工具会方便许多。</p><p>添加：选中一个或多个模型，点击添加可将选中模型添加到 Vrayobjectproperties。</p><p>移除：选中一个或多个模型，点击移除可将选中模型移出 Vrayobjectproperties。</p><p>创建阴影层：创建阴影层按钮不需要选中物体，会直接创建好 Vrayobjectproperties，并设置好参数</p><p><img src="https://s1.ax1x.com/2023/07/04/pCsvxmt.png"></p><h2 id="2023年11月1日21-38-32-更新"><a href="#2023年11月1日21-38-32-更新" class="headerlink" title="2023年11月1日21:38:32 更新"></a>2023年11月1日21:38:32 更新</h2><p>增加了采样器类型选项，方便快速设置切换</p><p>解决了重新声明变量的报错问题</p><p>采样器类型快速切换，前提是渲染设置的渲染器为 V-Ray</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231101214748733.png" alt="image-20231101214748733"></p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20231101214432220.png" alt="image-20231101214432220"></p><h3 id="脚本源码："><a href="#脚本源码：" class="headerlink" title="脚本源码："></a>脚本源码：</h3><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Vray 阴影层添加移除工具//</span></span><br><span class="line"><span class="comment">// 作者：三岁豆 , 创建日期 2023.05.28//</span></span><br><span class="line"><span class="comment">// 2023.11.01 更新了Vray采样器类型//</span></span><br><span class="line"><span class="comment">// 修改Window名称为 WindowSDWS//</span></span><br><span class="line"><span class="comment">//解决重新声明变量报错问题//</span></span><br><span class="line"><span class="comment">// 升级版本V6.0 //</span></span><br><span class="line"><span class="comment">//定义创建阴影层并设置参数//</span></span><br><span class="line"><span class="keyword">proc</span> YY()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">createNode</span> <span class="string">&quot;VRayObjectProperties&quot;</span> -n <span class="string">&quot;vrayobjectproperties&quot;</span>;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vrayobjectproperties.alphaContribution&quot;</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vrayobjectproperties.affectAlpha&quot;</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vrayobjectproperties.shadows&quot;</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vrayobjectproperties.matteSurface&quot;</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vrayobjectproperties.matteForSecondaryRays&quot;</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot;阴影层创建成功！&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> Buckets()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vraySettings.samplerType&quot;</span> <span class="number">4</span>;</span><br><span class="line"><span class="keyword">print</span> (<span class="string">&quot; Buckets 设置成功&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">proc</span> Progressives()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vraySettings.samplerType&quot;</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot; Progressive 设置成功&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $WindowSDWS = <span class="string">&quot;WindowSDWS&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`window -ex $WindowSDWS`</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">deleteUI</span> -<span class="keyword">window</span> $WindowSDWS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $windowsdw = <span class="string">`window -title &quot;三岁豆Er&quot;</span></span><br><span class="line"><span class="string">       -sizeable 0</span></span><br><span class="line"><span class="string">       $WindowSDWS`</span>;</span><br><span class="line"><span class="keyword">columnLayout</span>  -columnAttach <span class="string">&quot;both&quot;</span> <span class="number">10</span> -rowSpacing <span class="number">5</span> -columnWidth <span class="number">230</span>;</span><br><span class="line">      <span class="keyword">text</span>  -h <span class="number">50</span>  -label<span class="string">&quot;Vray 阴影层添加移除工具&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;添加&quot;</span> -command <span class="string">&quot;sets -edit -forceElement  vrayobjectproperties&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;移除&quot;</span> -command <span class="string">&quot;sets -edit -rm  vrayobjectproperties;&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;创建阴影层&quot;</span> -command <span class="string">&quot;YY&quot;</span>;</span><br><span class="line">       <span class="keyword">separator</span> -h <span class="number">2</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;Bucket&quot;</span> -bgc <span class="number">0.9</span>  <span class="number">0.7</span> <span class="number">0.2</span> -command <span class="string">&quot;Buckets&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;Progressive&quot;</span> -bgc <span class="number">0.6</span>  <span class="number">0.7</span> <span class="number">0.2</span> -command <span class="string">&quot;Progressives&quot;</span>;</span><br><span class="line">       <span class="keyword">text</span>  -h <span class="number">5</span> -label<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="keyword">showWindow</span> $WindowSDWS;</span><br></pre></td></tr></table></figure><h2 id="2024年1月21日更新：-大更新"><a href="#2024年1月21日更新：-大更新" class="headerlink" title="2024年1月21日更新：(大更新)"></a>2024年1月21日更新：(大更新)</h2><p>请根据自己的需求选择是否更新这个版本</p><p>如果场景很乱有很多重名的模型节点会出错，因为这个版本增加了较为复杂的运算，不允许同名节点的存在。</p><p>如果上面的个版本能满足需求不要使用现有的这个版本，因为我个人使用这个版本感觉比较方便。</p><h3 id="功能说明："><a href="#功能说明：" class="headerlink" title="功能说明："></a>功能说明：</h3><ul><li>创建阴影层：增加判断语句，不会多次点击创建多个，保证场景只有一个阴影层，名称为vrayobjectproperties</li><li>添加：添加选定的对象加入阴影层，选择的对象高光属性会被关闭，请不要选中组添加，虽然也会被添加进去，但是组里面的对象的材质不会被关闭高光属性</li><li>移除：将选中的对象移除阴影层，还会自动还原高光属性，选中组除外。</li><li>清空：清空阴影层内所有的对象和组，功能和移除一样，只不过不用手动选中对象和组</li><li>检查：检检查功能是因为害怕场景中有被关闭高光属性的材质出现，点击检查会找到这些被赋予有材质的对象。从而避免不必要的错误。</li><li>Bucket：功能未改变</li><li>Progressive：功能未改变。</li></ul><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/image-20240121171904412.png" alt="image-20240121171904412"></p><h3 id="脚本源码：-1"><a href="#脚本源码：-1" class="headerlink" title="脚本源码："></a>脚本源码：</h3><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Vray 阴影层渲染辅助工具//</span></span><br><span class="line"><span class="comment">// 作者：三岁豆 , 创建日期 2024.01.18//</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//阴影层创建并设置参数部分//</span></span><br><span class="line"><span class="keyword">proc</span> SDWlayD() &#123;</span><br><span class="line">    <span class="comment">// 检查 vrayobjectproperties 节点是否已存在</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">objExists</span>(<span class="string">&quot;vrayobjectproperties&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">print</span> <span class="string">&quot;VRayObjectProperties已存在。\n&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建 VRayObjectProperties 节点</span></span><br><span class="line">    <span class="keyword">createNode</span> <span class="string">&quot;VRayObjectProperties&quot;</span> -n <span class="string">&quot;vrayobjectproperties&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 设置 VRayObjectProperties 的属性</span></span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vrayobjectproperties.alphaContribution&quot;</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vrayobjectproperties.affectAlpha&quot;</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vrayobjectproperties.shadows&quot;</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vrayobjectproperties.matteSurface&quot;</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vrayobjectproperties.matteForSecondaryRays&quot;</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 打印成功信息</span></span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot;阴影层创建成功！\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//渲染方式Buckets//</span></span><br><span class="line"><span class="keyword">proc</span> Buckets()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vraySettings.samplerType&quot;</span> <span class="number">4</span>;</span><br><span class="line"><span class="keyword">print</span> (<span class="string">&quot; Buckets 切换成功&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//渲染方式Progressive//</span></span><br><span class="line"><span class="keyword">proc</span> Progressives()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">setAttr</span> <span class="string">&quot;vraySettings.samplerType&quot;</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot; Progressive 切换成功&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加到阴影层//</span></span><br><span class="line"><span class="keyword">proc</span> addToShadowLayer() &#123;</span><br><span class="line">    <span class="keyword">string</span> $selectedObjects[] = <span class="string">`ls -sl`</span>;</span><br><span class="line">    <span class="keyword">sets</span> -edit -add <span class="string">&quot;vrayobjectproperties&quot;</span> $selectedObjects;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//从阴影层中移除//</span></span><br><span class="line"><span class="keyword">proc</span> removeToShadowLayer() &#123;</span><br><span class="line">    <span class="keyword">string</span> $selectedObjects[] = <span class="string">`ls -sl`</span>;</span><br><span class="line">    <span class="keyword">sets</span> -edit -remove <span class="string">&quot;vrayobjectproperties&quot;</span> $selectedObjects;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空渲染层//</span></span><br><span class="line"><span class="keyword">proc</span> clearsets() &#123;</span><br><span class="line">    <span class="keyword">string</span> $setName = <span class="string">&quot;vrayobjectproperties&quot;</span>;</span><br><span class="line">    <span class="keyword">string</span> $allObjectsInSet[] = <span class="string">`sets -q $setName`</span>;</span><br><span class="line">    <span class="keyword">for</span> ($obj <span class="keyword">in</span> $allObjectsInSet) &#123;</span><br><span class="line">        <span class="keyword">select</span> -r $obj;</span><br><span class="line">        setVrayReflAmount(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">select</span> -cl;</span><br><span class="line">    <span class="keyword">for</span> ($obj <span class="keyword">in</span> $allObjectsInSet) &#123;</span><br><span class="line">        <span class="keyword">sets</span> -remove $setName $obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//材质反射开启或者关闭部分//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> setVrayReflAmount(<span class="keyword">float</span> $value) &#123;</span><br><span class="line">    <span class="keyword">string</span> $selectedObjects[] = <span class="string">`ls -sl`</span>;</span><br><span class="line">    <span class="keyword">for</span> ($object <span class="keyword">in</span> $selectedObjects) &#123;</span><br><span class="line">        <span class="keyword">string</span> $shapes[] = <span class="string">`listRelatives -shapes $object`</span>;</span><br><span class="line">        <span class="keyword">for</span> ($shape <span class="keyword">in</span> $shapes) &#123;</span><br><span class="line">            <span class="keyword">string</span> $shadingEngines[] = <span class="string">`listConnections -type &quot;shadingEngine&quot; $shape`</span>;</span><br><span class="line">            <span class="keyword">for</span> ($shadingEngine <span class="keyword">in</span> $shadingEngines) &#123;</span><br><span class="line">                <span class="keyword">string</span> $materials[] = <span class="string">`listConnections ($shadingEngine + &quot;.surfaceShader&quot;)`</span>;</span><br><span class="line">                <span class="keyword">for</span> ($material <span class="keyword">in</span> $materials) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="string">`objectType -isType &quot;VRayMtl&quot; $material`</span> &amp;&amp; <span class="string">`attributeExists &quot;reflectionColorAmount&quot; $material`</span>) &#123;</span><br><span class="line">                        <span class="keyword">setAttr</span> ($material + <span class="string">&quot;.reflectionColorAmount&quot;</span>) $value;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//检查场景部分//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> checkVrayReflAmount() &#123;</span><br><span class="line">    <span class="keyword">string</span> $allMaterials[] = <span class="string">`ls -mat`</span>;</span><br><span class="line">    <span class="keyword">string</span> $transformsToSelect[] = &#123;&#125;;</span><br><span class="line">    <span class="keyword">int</span> $notResetCount = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> $setToZeroCount = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ($material <span class="keyword">in</span> $allMaterials) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">`objectType -isType &quot;VRayMtl&quot; $material`</span> &amp;&amp; <span class="string">`attributeExists &quot;reflectionColorAmount&quot; $material`</span>) &#123;</span><br><span class="line">            <span class="keyword">float</span> $amount = <span class="string">`getAttr ($material + &quot;.reflectionColorAmount&quot;)`</span>;</span><br><span class="line">            <span class="keyword">if</span> ($amount != <span class="number">1.0</span>) &#123;</span><br><span class="line">                <span class="keyword">string</span> $sgs[] = <span class="string">`listConnections -type &quot;shadingEngine&quot; $material`</span>;</span><br><span class="line">                <span class="keyword">for</span> ($sg <span class="keyword">in</span> $sgs) &#123;</span><br><span class="line">                    <span class="keyword">string</span> $connections[] = <span class="string">`listConnections ($sg + &quot;.dagSetMembers&quot;)`</span>;</span><br><span class="line">                    <span class="keyword">string</span> $meshes[] = <span class="string">`ls -dag -type &quot;mesh&quot; $connections`</span>;</span><br><span class="line">                    <span class="keyword">for</span> ($mesh <span class="keyword">in</span> $meshes) &#123;</span><br><span class="line">                        <span class="keyword">string</span> $parent[] = <span class="string">`listRelatives -parent $mesh`</span>;</span><br><span class="line">                        <span class="keyword">if</span> (<span class="keyword">size</span>($parent) &gt; <span class="number">0</span> &amp;&amp; !<span class="keyword">stringArrayContains</span>($parent[<span class="number">0</span>], $transformsToSelect)) &#123;</span><br><span class="line">                            $transformsToSelect[<span class="keyword">size</span>($transformsToSelect)] = $parent[<span class="number">0</span>];</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                $notResetCount++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> ($amount == <span class="number">0.0</span>) &#123;</span><br><span class="line">                $setToZeroCount++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ($notResetCount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">select</span> -r $transformsToSelect;</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">&quot;以下模型包含 reflectionColorAmount 不为 1 的 VrayMtl 材质的 mesh 节点: &quot;</span> + <span class="keyword">stringArrayToString</span>($transformsToSelect, <span class="string">&quot;, &quot;</span>) + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">&quot;所有 VRayMtl 材质的 reflectionColorAmount 已设置为 1。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ($setToZeroCount == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">confirmDialog</span> -title <span class="string">&quot;检查结果&quot;</span> -message <span class="string">&quot;场景中没有反射权重为0的材质&quot;</span> -<span class="keyword">button</span> <span class="string">&quot;确定&quot;</span> -defaultButton <span class="string">&quot;确定&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义添加到阴影层并关闭反射按钮功能//</span></span><br><span class="line"><span class="keyword">proc</span> addlayD() &#123;</span><br><span class="line">    addToShadowLayer();</span><br><span class="line">    setVrayReflAmount(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义移除从阴影层移除并还原反射//</span></span><br><span class="line"><span class="keyword">proc</span> removelayD() &#123;</span><br><span class="line">    removeToShadowLayer();</span><br><span class="line">    setVrayReflAmount(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> createUI() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">`window -exists myWindow`</span>) &#123;</span><br><span class="line">        <span class="keyword">deleteUI</span> myWindow;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">window</span> -title <span class="string">&quot;三岁豆Er&quot;</span> -sizeable <span class="number">0</span> -widthHeight <span class="number">220</span> <span class="number">288</span> myWindow ;</span><br><span class="line">    <span class="keyword">columnLayout</span>  -adjustableColumn true -columnAttach <span class="string">&quot;both&quot;</span> <span class="number">10</span> -rowSpacing <span class="number">5</span> -columnWidth <span class="number">230</span>;</span><br><span class="line">    <span class="keyword">text</span>  -h <span class="number">50</span>  -label<span class="string">&quot;Vray阴影层辅助工具 v1.0&quot;</span>;</span><br><span class="line">    <span class="keyword">button</span> -label <span class="string">&quot;创建阴影层&quot;</span> -bgc <span class="number">0.9</span>  <span class="number">0.6</span> <span class="number">0.6</span> -command <span class="string">&quot;SDWlayD&quot;</span>;</span><br><span class="line">    <span class="keyword">button</span> -label <span class="string">&quot;添加&quot;</span> -command <span class="string">&quot;addlayD&quot;</span>;</span><br><span class="line">    <span class="keyword">button</span> -label <span class="string">&quot;移除&quot;</span> -command <span class="string">&quot;removelayD&quot;</span>;</span><br><span class="line">    <span class="keyword">button</span> -label <span class="string">&quot;清空&quot;</span> -command <span class="string">&quot;clearsets&quot;</span>;</span><br><span class="line">    <span class="keyword">button</span> -label <span class="string">&quot;检查&quot;</span> -command <span class="string">&quot;checkVrayReflAmount&quot;</span>;</span><br><span class="line">    <span class="comment">// button -label &quot;添加&quot; -command &quot;sets -edit -forceElement  vrayobjectproperties&quot;;//</span></span><br><span class="line">    <span class="comment">// button -label &quot;移除&quot; -command &quot;sets -edit -rm  vrayobjectproperties;&quot;;//</span></span><br><span class="line">    <span class="keyword">button</span> -label <span class="string">&quot;Bucket&quot;</span> -bgc <span class="number">0.9</span>  <span class="number">0.7</span> <span class="number">0.2</span> -command <span class="string">&quot;Buckets&quot;</span>;</span><br><span class="line">    <span class="keyword">button</span> -label <span class="string">&quot;Progressive&quot;</span> -bgc <span class="number">0.6</span>  <span class="number">0.7</span> <span class="number">0.2</span> -command <span class="string">&quot;Progressives&quot;</span>;</span><br><span class="line">    <span class="keyword">showWindow</span> myWindow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createUI();</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mel </tag>
            
            <tag> Vray </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>灯光管理工具</title>
      <link href="/19244/"/>
      <url>/19244/</url>
      
        <content type="html"><![CDATA[<h1 id="灯光管理工具"><a href="#灯光管理工具" class="headerlink" title="灯光管理工具"></a>灯光管理工具</h1><h3 id="脚本语言：Mel"><a href="#脚本语言：Mel" class="headerlink" title="脚本语言：Mel"></a>脚本语言：Mel</h3><h3 id="脚本界面："><a href="#脚本界面：" class="headerlink" title="脚本界面："></a>脚本界面：</h3><p><img src="https://pic.imgdb.cn/item/64a2dfa31ddac507cc7909a6.jpg"></p><h3 id="使用说明："><a href="#使用说明：" class="headerlink" title="使用说明："></a>使用说明：</h3><p>断开Vray默认：选中一个或多个Vray灯光，执行后可断开选中灯光的默认链接</p><p>灯光可见性：选中一个或多个Vray灯光，可一键关闭Vray灯光的可见性（默认创建灯光渲染可见）</p><p>生成灯光链接：Maya自带的生成灯光链接，所有灯光通用。</p><p>断开灯光链接：Maya自带的断开灯光链接，所有灯光通用。</p><p>选择照明对象的灯光：Maya自带的选择照明对象的灯光，所有灯光通用。</p><p>选择灯光照明的对象：Maya自带的选择灯光照明的对象，所有灯光通用。</p><p>以后可能会添加用到的别的功能……</p><p>如有需求可联系我添加。</p><h3 id="脚本源码："><a href="#脚本源码：" class="headerlink" title="脚本源码："></a>脚本源码：</h3><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 作者：三岁豆Er, 创建日期 2023.05.28 //</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//判断窗口Window是否存在//</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// 断开默认灯光链接</span></span><br><span class="line"><span class="keyword">proc</span> DefaultLightLink(<span class="keyword">string</span> $mode)&#123; </span><br><span class="line">    <span class="keyword">string</span> $SelLight[] = <span class="string">`ls -transforms  -sl -dag `</span>;</span><br><span class="line">    <span class="keyword">for</span>($light <span class="keyword">in</span> $SelLight)&#123;</span><br><span class="line">    <span class="keyword">if</span>($mode==<span class="string">&quot;Break&quot;</span>)&#123;</span><br><span class="line">                 <span class="keyword">disconnectAttr</span> -nextAvailable ($light  + <span class="string">&quot;.instObjGroups[0]&quot;</span>)  defaultLightSet.dagSetMembers;</span><br><span class="line">                <span class="keyword">print</span>( $light +<span class="string">&quot; 默认灯光链接已断开 &quot;</span>+ <span class="string">&quot;\n&quot;</span>); </span><br><span class="line">                &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> Invisible()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">string</span> $sel[<span class="number">0</span>] = <span class="string">`ls -sl -dag -type shape`</span>; <span class="comment">//$sel=选择的物体，-dag 组内对象生效</span></span><br><span class="line">    <span class="keyword">for</span> ($one <span class="keyword">in</span> $sel) <span class="comment">//对$sel中所有执行</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="string">`objExists ($one+&quot;.invisible&quot;)`</span>)</span><br><span class="line">&#123;<span class="keyword">setAttr</span> ($one+<span class="string">&quot;.invisible&quot;</span>) <span class="number">1</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> $sel<span class="string">&quot;已关闭可见性！；\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $WindowLing = <span class="string">&quot;WindowLing&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`window -ex $WindowLing`</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">deleteUI</span> -<span class="keyword">window</span> $WindowLing;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $windowlin = <span class="string">`window -title &quot;三岁豆Er&quot;</span></span><br><span class="line"><span class="string">       -sizeable 0 </span></span><br><span class="line"><span class="string">       $WindowLing`</span>;</span><br><span class="line"><span class="keyword">columnLayout</span>  -columnAttach <span class="string">&quot;both&quot;</span> <span class="number">10</span> -rowSpacing <span class="number">5</span> -columnWidth <span class="number">230</span>;</span><br><span class="line">      <span class="keyword">text</span>  -h <span class="number">50</span>  -label<span class="string">&quot;Vray 灯光管理工具&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;断开Vray默认&quot;</span> -bgc <span class="number">0.4</span>  <span class="number">1.0</span> <span class="number">1.0</span>-c  <span class="string">&quot;DefaultLightLink(\&quot;Break\&quot;)&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;灯光可见性&quot;</span> -bgc <span class="number">1.0</span> <span class="number">1.0</span> <span class="number">0.2</span> -c  <span class="string">&quot;Invisible&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;生成灯光链接&quot;</span>  -c  <span class="string">&quot;MakeLightLinks&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;断开灯光链接&quot;</span> -c <span class="string">&quot;BreakLightLinks&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;选择照明对象的灯光&quot;</span> -c <span class="string">&quot;SelectLightsIlluminatingObject&quot;</span>;</span><br><span class="line">       <span class="keyword">button</span> -label <span class="string">&quot;选择灯光照明的对象&quot;</span> -c <span class="string">&quot;SelectObjectsIlluminatedByLight&quot;</span>;</span><br><span class="line">       <span class="keyword">text</span>  -h <span class="number">5</span> -label<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="keyword">showWindow</span> $WindowLing;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maya </tag>
            
            <tag> Mel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>你好，欢迎来到我的博客</title>
      <link href="/56212/"/>
      <url>/56212/</url>
      
        <content type="html"><![CDATA[<h3 id="Hello"><a href="#Hello" class="headerlink" title="Hello"></a>Hello</h3><p>你好，欢迎来到我的博客，这是我的第一篇博文，如果你在浏览文章的过程中遇到什么问题可以通过博客首页的<a href="/GuanYu/">关于</a>联系到我。也可以在关于页面了解更多，</p><h3 id="起源"><a href="#起源" class="headerlink" title="起源"></a>起源</h3><p>一切的一切起源于下面的这一句代码。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>然后就开始了本博客的修改，美化，敲代码……</p><p>到目前您看到这篇文章本博客基本搭建完成。后续还会根据需求进行优化。</p><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>指定贴图路径汉化版</title>
      <link href="/57648/"/>
      <url>/57648/</url>
      
        <content type="html"><![CDATA[<p><img src="https://pic.imgdb.cn/item/649c418c1ddac507cc8ceccf.jpg"></p><h1 id="指定贴图路径汉化版"><a href="#指定贴图路径汉化版" class="headerlink" title="指定贴图路径汉化版"></a>指定贴图路径汉化版</h1><h3 id="脚本名称：FileTextureManager"><a href="#脚本名称：FileTextureManager" class="headerlink" title="脚本名称：FileTextureManager"></a>脚本名称：FileTextureManager</h3><h3 id="脚本语言：MEL"><a href="#脚本语言：MEL" class="headerlink" title="脚本语言：MEL"></a>脚本语言：MEL</h3><h3 id="脚本来源：劲暴羊工具盒"><a href="#脚本来源：劲暴羊工具盒" class="headerlink" title="脚本来源：劲暴羊工具盒"></a>脚本来源：<a href="http://mstools.work/">劲暴羊工具盒</a></h3><h3 id="汉化说明："><a href="#汉化说明：" class="headerlink" title="汉化说明："></a>汉化说明：</h3><p>这个Maya指贴图工具其实功能非常强大，我是从劲暴羊工具盒知道的这个脚本，为了使用这个工具更方便，所以汉化了这个脚本；在一段时间的使用后，没发现有问题。分享给有需要的人。如果使用发现有什么问题，请使用未汉化原版本；</p><h3 id="汉化界面"><a href="#汉化界面" class="headerlink" title="汉化界面"></a>汉化界面</h3><p><img src="https://pic.imgdb.cn/item/64a2da2d1ddac507cc6e8962.jpg"></p><h3 id="汉化版源码："><a href="#汉化版源码：" class="headerlink" title="汉化版源码："></a>汉化版源码：</h3><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//工具名称：FileTextureManager(文件纹理管理器)</span></span><br><span class="line"><span class="comment">// 汉化：三岁豆</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义选择程序</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">int</span> FTM_SelCheck(<span class="keyword">string</span> $nodes[])&#123;</span><br><span class="line"><span class="keyword">int</span> $sel = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($nodes))</span><br><span class="line">$sel = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">confirmDialog</span> -t <span class="string">&quot;File Texture Manager&quot;</span> -m <span class="string">&quot;必须至少选择一个文件纹理节点！&quot;</span> -b <span class="string">&quot;OK&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> $sel;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 提醒用户作业已完成的进度。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> FTM_END()&#123;</span><br><span class="line"><span class="keyword">confirmDialog</span> -t <span class="string">&quot;File Texture Manager&quot;</span> -m <span class="string">&quot;操作已完成。\n作业已完成。&quot;</span> -ma center -b <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//日志</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> FTM_Log (<span class="keyword">string</span> $type, <span class="keyword">string</span> $node, <span class="keyword">string</span> $log) &#123;</span><br><span class="line"><span class="keyword">string</span> $finLog;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($node))</span><br><span class="line">$log = $node + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$log = <span class="string">&quot;\t&quot;</span> + $log + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="keyword">switch</span> ($type) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;start&quot;</span>:</span><br><span class="line">$finLog = <span class="string">&quot;\n***************************************************************************************************************\n\</span></span><br><span class="line"><span class="string">File Texture 管理器日志启动\n\</span></span><br><span class="line"><span class="string">***************************************************************************************************************\n&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;end&quot;</span>:</span><br><span class="line">$finLog = <span class="string">&quot;***************************************************************************************************************\n\</span></span><br><span class="line"><span class="string">File Texture 管理器日志结束\n\</span></span><br><span class="line"><span class="string">***************************************************************************************************************\n&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">$finLog = $log;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">print</span> $finLog;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取正确的路径(文件夹)格式以匹配当前操作系统。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">string</span> FTM_GetPath (<span class="keyword">string</span> $FTM_FileOrPath, <span class="keyword">string</span> $FTM_OldPath)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_OldPath = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_OldPath &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">if</span> ($FTM_FileOrPath == <span class="string">&quot;file&quot;</span>)</span><br><span class="line">$FTM_OldPath = <span class="string">`dirname $FTM_OldPath`</span>;</span><br><span class="line">$FTM_OldPath = <span class="string">`substitute &quot;/*$&quot; $FTM_OldPath &quot;&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_RightPath;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_OldPath)) $FTM_RightPath = <span class="string">`toNativePath ($FTM_OldPath + &quot;/&quot;)`</span>;</span><br><span class="line"><span class="keyword">return</span> $FTM_RightPath;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取与当前操作系统匹配的输入文件全名(包括路径)的正确格式。</span></span><br><span class="line"><span class="comment">//返回一个字符串数组,第一个元素是输入文件的正确格式</span></span><br><span class="line"><span class="comment">//全名(包括路径),第二个元素是输入文件的短名称(没有路径)。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">string</span>[] FTM_GetFile (<span class="keyword">string</span> $FTM_OldFullPath)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_RightPath[];</span><br><span class="line"><span class="keyword">string</span> $FTM_PathElements[];</span><br><span class="line"><span class="keyword">int</span> $FTM_PathElementsSize;</span><br><span class="line"><span class="comment">// fullname</span></span><br><span class="line">$FTM_OldFullPath = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_OldFullPath &quot;/&quot;`</span>;</span><br><span class="line">$FTM_RightPath[<span class="number">0</span>] = <span class="string">`toNativePath $FTM_OldFullPath`</span>;</span><br><span class="line">$FTM_PathElementsSize = <span class="string">`tokenize $FTM_OldFullPath &quot;/&quot; $FTM_PathElements`</span>;</span><br><span class="line">$FTM_RightPath[<span class="number">1</span>] = $FTM_PathElements[$FTM_PathElementsSize - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">return</span> $FTM_RightPath;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//分析当前场景中的所有文件纹理节点。</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">string</span>[] FTM_FileTextureAnalyst ()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $lsCmd;</span><br><span class="line"><span class="keyword">string</span> $FTM_Files[] = <span class="keyword">eval</span>($lsCmd);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Different groups.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_Groups[];</span><br><span class="line"><span class="keyword">int</span> $FTM_GroupsSize;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_Files))&#123;</span><br><span class="line">$FTM_Groups[<span class="number">0</span>] = <span class="string">&quot;FTM_EmptySocket_FTM&quot;</span>;</span><br><span class="line">$FTM_Groups[<span class="number">1</span>] = <span class="string">&quot;FTM_MissingPathSocket_FTM&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($eachFile <span class="keyword">in</span> $FTM_Files)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_GroupsSize = <span class="keyword">size</span>($FTM_Groups);</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentFullPath = substituteAll (<span class="string">&quot;\\\\&quot;</span>, <span class="string">`getAttr ($eachFile + &quot;.fileTextureName&quot;)`</span>, <span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentPath = <span class="keyword">dirname</span> ($FTM_CurrentFullPath);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_CurrentPath))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> ($j=<span class="number">2</span>; $j&lt;$FTM_GroupsSize; $j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $buffer[];</span><br><span class="line"><span class="keyword">tokenize</span> $FTM_Groups[$j] <span class="string">&quot;*&quot;</span> $buffer;</span><br><span class="line"><span class="keyword">string</span> $FTM_OldPath =  $buffer[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">string</span> $cmp1 = $FTM_CurrentPath;</span><br><span class="line"><span class="keyword">string</span> $cmp2 = $FTM_OldPath;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`about -nt`</span>) &#123;</span><br><span class="line">$cmp1 = <span class="keyword">tolower</span>($FTM_CurrentPath);</span><br><span class="line">$cmp2 = <span class="keyword">tolower</span>($FTM_OldPath);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($cmp1 == $cmp2)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $tmp = $FTM_Groups[$j];</span><br><span class="line">$tmp += <span class="string">&quot;*&quot;</span> + $eachFile;</span><br><span class="line">$FTM_Groups[$j] = $tmp;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($j &gt;= $FTM_GroupsSize)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_Groups[$FTM_GroupsSize] = $FTM_CurrentPath + <span class="string">&quot;*&quot;</span> + $eachFile;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">size</span>($FTM_CurrentFullPath))&#123;</span><br><span class="line"><span class="keyword">string</span> $tmp = $FTM_Groups[<span class="number">1</span>];</span><br><span class="line">$tmp += <span class="string">&quot;*&quot;</span> + $eachFile;</span><br><span class="line">$FTM_Groups[<span class="number">1</span>] = $tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">string</span> $tmp = $FTM_Groups[<span class="number">0</span>];</span><br><span class="line">$tmp += <span class="string">&quot;*&quot;</span> + $eachFile;</span><br><span class="line">$FTM_Groups[<span class="number">0</span>] = $tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> -cl;</span><br><span class="line"><span class="keyword">return</span> $FTM_Groups;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//生成UI控件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> FTM_EditUIControl (<span class="keyword">string</span> $FTM_OptionColumn, <span class="keyword">string</span> $FTM_HelpForm)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Operation mode</span></span><br><span class="line"><span class="keyword">radioButtonGrp</span> -e -on1 (<span class="string">&quot;textFieldButtonGrp -e -en 0 -tx \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_SourceDirectoryField&quot;</span>)</span><br><span class="line">-on2 (<span class="string">&quot;textFieldButtonGrp -e -en 1 -tx \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_SourceDirectoryField&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_OperationMode&quot;</span>);</span><br><span class="line"><span class="comment">// Set source directory</span></span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -bc (<span class="string">&quot;FTM_BrowseCmd \&quot;file\&quot; \&quot;&quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_SourceDirectoryField\&quot; \&quot;Set_S.D.\&quot; 0&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_SourceDirectoryField&quot;</span>);</span><br><span class="line"><span class="comment">// Set target directory</span></span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -bc (<span class="string">&quot;FTM_BrowseCmd \&quot;path\&quot; \&quot;&quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_TargetDirectoryField\&quot; \&quot;Set_T.D.\&quot; 4&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_TargetDirectoryField&quot;</span>);</span><br><span class="line"><span class="comment">// Make new folder</span></span><br><span class="line"><span class="keyword">checkBoxGrp</span> -e -on1 (<span class="string">&quot;textFieldGrp -e -en 1 -text \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_NewFolderNameField&quot;</span>)</span><br><span class="line">-of1 (<span class="string">&quot;textFieldGrp -e -en 0 -text \&quot;MyTextureFiles\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_NewFolderNameField&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_MakeFolderChecker&quot;</span>);</span><br><span class="line"><span class="comment">// Add prefix</span></span><br><span class="line"><span class="keyword">checkBox</span> -e -onc (<span class="string">&quot;textField -e -en 1 -text \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_AddPrefixRow|FTM_PrefixField&quot;</span>)</span><br><span class="line">-ofc (<span class="string">&quot;textField -e -en 0 -text \&quot;prefix_\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_AddPrefixRow|FTM_PrefixField&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_AddPrefixRow|FTM_AddPrefixChecker&quot;</span>);</span><br><span class="line"><span class="comment">// Add suffix</span></span><br><span class="line"><span class="keyword">checkBox</span> -e -onc (<span class="string">&quot;textField -e -en 1 -text \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_AddSuffixRow|FTM_SuffixField&quot;</span>)</span><br><span class="line">-ofc (<span class="string">&quot;textField -e -en 0 -text \&quot;_suffix\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_AddSuffixRow|FTM_SuffixField&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_AddSuffixRow|FTM_AddSuffixChecker&quot;</span>);</span><br><span class="line"><span class="comment">// Replace string</span></span><br><span class="line"><span class="keyword">checkBoxGrp</span> -e -on1 (<span class="string">&quot;textFieldGrp -e -en 1 -text \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_OldStringField; textFieldGrp -e -en 1 -text \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_NewStringField&quot;</span>)</span><br><span class="line">-of1 (<span class="string">&quot;textFieldGrp -e -en 0 -text \&quot;OldString\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_OldStringField; textFieldGrp -e -en 0 -text \&quot;NewString\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_NewStringField&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_ReplaceStringChecker&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//帮助描述字段</span></span><br><span class="line"><span class="keyword">string</span> $FTM_HelpDescription = <span class="string">&quot;\n 说 明:\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  文件纹理管理器适用于Windows/Linux/MAC,以一种非常方便的方式管理文件纹理。\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  File Texture Manager 基本功能：\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  1. 分析场景文件纹理\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  2. 将原始纹理文件复制或移动到用户定义的路径\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  3. 更新文件纹理的路径\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  4. 也支持Mentalray纹理节点\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  FTM 额外功能：\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  1. 替换文件纹理路径的根字符串。例如,重定向源代码\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  2. 根据文件纹理的分辨率设置/取消设置内存效率。大于“阈值”(Threshold)(x或y)的纹理将设置为在设置模式下使用渲染器首选格式(Maya为BOT,mentalray为.map)。如果需要,将自动生成相应的内存高效文件。取消设置时,x和y中小于阈值的所有纹理都将设置为使用法线纹理,从该文件生成了内存高效纹理。BOT取消设置假设法线纹理存在于同一目录中。Mentalray.map unset将首先检查是否存在法线纹理。如果没有,FTM将尝试从.map文件中提取一个。指向序列的节点将被忽略。\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  3. 将筛选类型设置为选定文件节点的指定类型。\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  4. 将选定文件节点的纹理文件格式从“从”转换为“到”。如果“From”不是“*\”,则只处理纹理文件格式与“From \”匹配的文件节点。对于使用图像序列作为纹理文件的文件节点,需要指定转换范围,因此只打印出相应的命令,而不是真正执行任务。此函数使用Maya“imgcvt\”和mentalray\“imf_copy”多功能进行转换,因此请确保它们可以在系统可执行路径中找到。\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;【工作流程】：\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  步骤 1. 分析场景文件纹理(可选择方式)\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  步骤 2. 通过选中UI中的相关复选框,选择要管理的场景文件纹理(节点)\n         也可以通过自己的方法执行此操作,例如在Hypershade中选择它们。\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  步骤 3. 根据需要设置选项。\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  步骤 4. 通过按下相关按钮进行复制、移动或设置。\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;【小贴士】：\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  1. 始终为每个纹理文件保留两个不同的版本。例如,“abc_LowRes.tga\”处于低分辨率,而“abc_HighRes.tga”处于高分辨率。使用低分辨率纹理来加速交互。只需记住在渲染之前使用FileTextureManager将每个文件纹理重置为指向相关的高分辨率纹理即可。(添加前缀、添加后缀,甚至替换字符串。)\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  2. File Texture Manager 的UI不会像属性编辑器那样动态更新,因此最好重新-分析场景文件纹理 每次完成FTM工作时。如果您根本不使用分析功能,则无需执行此操作。\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;【注释】：\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  1. 如果用户决定创建一个新文件夹,最终目标目录将等于目标目录加上新文件夹。\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  2. 添加后缀功能对纹理文件名有限制。为了确保它按要求工作,文件名必须是常规格式,例如 filename.ext\”、“filename.[#…#].ext\“、\”filename.ext.[#…#]\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  3. 添加prfix、添加后缀和替换字符串可以同时执行到每个文件纹理。替换字符串首先计算,然后添加后缀,最后添加前缀。\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  4. 强烈建议不要在前缀、后缀、旧字符串和新字符串中包含“.\”。\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  5. 有时过程会失败。原因可能多种多样。最可能的原因可能是以下两个原因之一或两者：a.在源目录中找不到纹理文件；b.被拒绝阅读、书写或删除。\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;【详情】:\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  1. 分析场景文件纹理可以让你知道场景中有多少文件纹理,在哪里,它们是否存在,等等。它还允许用户只需单击一次就可以选择指向同一路径的所有纹理文件。\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  2. 如何选择操作模式取决于不同的源目录状态。如果文件所在位置,请使用“自动”模式,否则请使用“手动”模式。\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  3. 其他功能如UI中所示非常明确。\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">scrollField</span> -e -<span class="keyword">text</span> $FTM_HelpDescription ($FTM_HelpForm + <span class="string">&quot;|FTM_HelpField&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//判断输入字符串是格式扩展名、序列还是只是文件基名称的一部分</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">int</span> FTM_FCWhatIs(<span class="keyword">string</span> $string)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> $isWhat;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_FCAllFormats[];</span><br><span class="line">$string = <span class="keyword">tolower</span>($string);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">stringArrayCount</span>($string,$FTM_FCAllFormats))</span><br><span class="line">$isWhat = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">size</span>(<span class="keyword">match</span>(<span class="string">&quot;[0-9]*&quot;</span>,$string)) == <span class="keyword">size</span>($string))</span><br><span class="line">$isWhat = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($string == <span class="string">&quot;bot&quot;</span>)</span><br><span class="line">$isWhat = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$isWhat = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> $isWhat;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断纹理文件格式,仅根据可能的扩展名</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">string</span>[] FTM_FCFileRegularName(<span class="keyword">string</span> $file)</span><br><span class="line">&#123;</span><br><span class="line">$file = substituteAll (<span class="string">&quot;\\\\&quot;</span>, $file, <span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $fileRegularName[] = <span class="keyword">stringToStringArray</span>(<span class="keyword">basename</span>($file,<span class="string">&quot;&quot;</span>),<span class="string">&quot;.&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $fileName;</span><br><span class="line"><span class="keyword">string</span> $seqNum;</span><br><span class="line"><span class="keyword">string</span> $fileFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (<span class="keyword">size</span>($fileRegularName))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>: </span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">$fileName = $fileRegularName[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"><span class="keyword">if</span> (FTM_FCWhatIs($fileRegularName[<span class="number">1</span>]) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">$fileName = $fileRegularName[<span class="number">0</span>];</span><br><span class="line">$fileFormat = $fileRegularName[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (FTM_FCWhatIs($fileRegularName[<span class="number">1</span>]) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">$fileName = $fileRegularName[<span class="number">0</span>];</span><br><span class="line">$seqNum = $fileRegularName[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">$fileName = <span class="keyword">basename</span>($file,<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>: </span><br><span class="line"><span class="keyword">string</span> $lastPiece = $fileRegularName[<span class="keyword">size</span>($fileRegularName)<span class="number">-1</span>];</span><br><span class="line"><span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">$fileFormat = $lastPiece;</span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>($file);</span><br><span class="line">$lastPiece = $fileRegularName[<span class="keyword">size</span>($fileRegularName)<span class="number">-2</span>];</span><br><span class="line"><span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">$seqNum = $lastPiece;</span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>($fileName);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">$seqNum = $lastPiece;</span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>($file);</span><br><span class="line">$lastPiece = $fileRegularName[<span class="keyword">size</span>($fileRegularName)<span class="number">-2</span>];</span><br><span class="line"><span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">$fileFormat = $lastPiece;</span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>($fileName);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">3</span>) </span><br><span class="line">&#123;</span><br><span class="line">$fileFormat = $fileRegularName[<span class="keyword">size</span>($fileRegularName)<span class="number">-2</span>] + <span class="string">&quot;.bot&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($fileRegularName) == <span class="number">3</span>)</span><br><span class="line">$fileName = $fileRegularName[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">$lastPiece = $fileRegularName[<span class="keyword">size</span>($fileRegularName)<span class="number">-3</span>];</span><br><span class="line"><span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">$seqNum = $lastPiece;</span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>(<span class="keyword">basenameEx</span>(<span class="keyword">basenameEx</span>($file)));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>(<span class="keyword">basenameEx</span>($file));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="comment">// really sick!!!</span></span><br><span class="line">$fileName = <span class="keyword">basename</span>($file,<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$fileRegularName[<span class="number">0</span>] = $fileName;</span><br><span class="line">$fileRegularName[<span class="number">1</span>] = $seqNum;</span><br><span class="line">$fileRegularName[<span class="number">2</span>] = $fileFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> $fileRegularName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">string</span> FTM_FCSubstituteLastPattern(<span class="keyword">string</span> $inputString, <span class="keyword">string</span> $targetPattern, <span class="keyword">string</span> $newPattern)</span><br><span class="line">&#123;</span><br><span class="line">$inputString = substituteAll(<span class="string">&quot;\\\\&quot;</span>, $inputString, <span class="string">&quot;/&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $exp1 = <span class="string">&quot;^.*&quot;</span> + $targetPattern + <span class="string">&quot;+&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $noTail = <span class="keyword">match</span>($exp1,$inputString);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $exp2 = $targetPattern + <span class="string">&quot;+$&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $newNoEnd = <span class="keyword">substitute</span>($exp2,$noTail,$newPattern);</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $badChar[] = &#123;<span class="string">&quot;+&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;^&quot;</span>,<span class="string">&quot;$&quot;</span>,<span class="string">&quot;[&quot;</span>,<span class="string">&quot;]&quot;</span>,<span class="string">&quot;(&quot;</span>,<span class="string">&quot;)&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> ($char <span class="keyword">in</span> $badChar)</span><br><span class="line">$noTail = <span class="string">`substituteAllString $noTail $char (&quot;\\&quot;+$char)`</span>;</span><br><span class="line"><span class="keyword">string</span> $exp3 = <span class="string">&quot;^&quot;</span> + $noTail + <span class="string">&quot;+&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $outputString = <span class="keyword">substitute</span>($exp3,$inputString,$newNoEnd);</span><br><span class="line"></span><br><span class="line">$outputString = <span class="keyword">toNativePath</span>($outputString);</span><br><span class="line"><span class="keyword">return</span> $outputString;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//分析输入文件名的位数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">int</span> FTM_FCDigitsNumber(<span class="keyword">string</span> $fileName)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $fileRegularName[] = FTM_FCFileRegularName($fileName);</span><br><span class="line">$fileName = FTM_FCSubstituteLastPattern($fileName,$fileRegularName[<span class="number">1</span>],<span class="string">&quot;*&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $filesInSeq[] = <span class="string">`getFileList -fs $fileName`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $digiNum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($filesInSeq);$i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $tmp[] = FTM_FCFileRegularName($filesInSeq[$i]);</span><br><span class="line"><span class="keyword">if</span> ($digiNum &lt;= <span class="keyword">size</span>($tmp[<span class="number">1</span>]))</span><br><span class="line">$digiNum = <span class="keyword">size</span>($tmp[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> $digiNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 文件格式转换器</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">proc</span> FTM_FCGo(<span class="keyword">int</span> $progressUI, <span class="keyword">string</span> $sourceFormatUI, <span class="keyword">string</span> $targetFormat, <span class="keyword">int</span> $handleSeq, <span class="keyword">int</span> $updatePath, <span class="keyword">int</span> $removeOrig)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (FTM_SelCheck(<span class="string">`ls -sl -typ file `</span>)) &#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $fileNodesList[] = FTM_FCGetMatches($sourceFormatUI);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $isSeq[];</span><br><span class="line"><span class="keyword">int</span> $isOneOfSeq[];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $file;</span><br><span class="line"><span class="keyword">string</span> $fileFC;</span><br><span class="line"><span class="keyword">string</span> $fileUpdatePath;</span><br><span class="line"><span class="keyword">string</span> $fileRemove;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($progressUI) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size($fileNodesList)`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($fileNodesList);$i++)&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($fileNodesList[$i]+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($progressUI)&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$progress = $i+<span class="number">1</span>;</span><br><span class="line">$percentage = $progress * (<span class="number">100</span>/<span class="keyword">size</span>($fileNodesList));</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Handling &quot;</span> + $fileNodesList[$i] + <span class="string">&quot;     ......  &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$file = <span class="keyword">toNativePath</span>(substituteAll(<span class="string">&quot;\\\\&quot;</span>,<span class="string">`getAttr ($fileNodesList[$i] + &quot;.fileTextureName&quot;)`</span>,<span class="string">&quot;/&quot;</span>));</span><br><span class="line">$fileFC = $file;</span><br><span class="line">$fileRemove = $file;</span><br><span class="line"><span class="keyword">string</span> $fileRegularName[] = FTM_FCFileRegularName($file);</span><br><span class="line"><span class="keyword">string</span> $isBOT = <span class="string">`match &quot;bot&quot; $fileRegularName[2]`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($isBOT)) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;Texture file is a BOT file. Skipped!&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">string</span> $targetFile = FTM_FCSubstituteLastPattern($file,$fileRegularName[<span class="number">2</span>],$targetFormat);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">size</span>($fileRegularName[<span class="number">2</span>]))</span><br><span class="line">$targetFile += <span class="string">&quot;.&quot;</span> + $targetFormat;</span><br><span class="line">$fileUpdatePath = $targetFile;</span><br><span class="line"><span class="keyword">string</span> $cmp1,$cmp2;</span><br><span class="line">$cmp1 = $fileUpdatePath;</span><br><span class="line">$cmp2 = $fileRemove;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`about -nt`</span>) &#123;</span><br><span class="line">$cmp1 = <span class="keyword">toNativePath</span>(<span class="keyword">tolower</span>($cmp1));</span><br><span class="line">$cmp2 = <span class="keyword">toNativePath</span>(<span class="keyword">tolower</span>($cmp2));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>($cmp1 == $cmp2)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;This file node was already handled before. Process skipped.&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">$isSeq[$i] = <span class="number">0</span>;</span><br><span class="line">$isOneOfSeq[$i] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`nodeType $fileNodesList[$i]`</span> == <span class="string">&quot;file&quot;</span> &amp;&amp; <span class="keyword">size</span>($fileRegularName[<span class="number">1</span>])) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`getAttr ($fileNodesList[$i] + &quot;.useFrameExtension&quot;)`</span>)</span><br><span class="line">$isSeq[$i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$isOneOfSeq[$i] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $isMR_c = <span class="number">0</span>; </span><br><span class="line"><span class="keyword">int</span> $isMR_x = <span class="number">0</span>; </span><br><span class="line"><span class="keyword">if</span> ($fileRegularName[<span class="number">2</span>] == <span class="string">&quot;map&quot;</span> &amp;&amp; $targetFormat != <span class="string">&quot;map&quot;</span>)</span><br><span class="line">$isMR_x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($fileRegularName[<span class="number">2</span>] != <span class="string">&quot;map&quot;</span> &amp;&amp; $targetFormat == <span class="string">&quot;map&quot;</span>)</span><br><span class="line">$isMR_c = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">string</span> $cmdFC = <span class="string">&quot;system(\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ($isMR_c)</span><br><span class="line">$cmdFC += <span class="string">&quot;imf_copy -p -r&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($isMR_x)</span><br><span class="line">$cmdFC += <span class="string">&quot;imf_copy&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$cmdFC += <span class="string">&quot;imgcvt -t &quot;</span> + $targetFormat;</span><br><span class="line"><span class="keyword">string</span> $cmdUpdatePath = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $fileNodesList[$i] + <span class="string">&quot;.fileTextureName &quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $cmdRemoveOrig = <span class="string">&quot;sysFile -del \&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!$handleSeq &amp;&amp; $isSeq[$i])</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Sequence was not selected to be handled. Skipped.&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> &#123; </span><br><span class="line"><span class="keyword">if</span> ($handleSeq &amp;&amp; $isSeq[$i])&#123;</span><br><span class="line"><span class="keyword">string</span> $padding = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> ($j=<span class="number">0</span>;$j&lt;FTM_FCDigitsNumber($file);$j++)</span><br><span class="line">$padding += <span class="string">&quot;@&quot;</span>;</span><br><span class="line">$targetFile = FTM_FCSubstituteLastPattern($targetFile,$fileRegularName[<span class="number">1</span>],$padding);</span><br><span class="line">$fileFC = FTM_FCSubstituteLastPattern($file,$fileRegularName[<span class="number">1</span>],$padding);</span><br><span class="line">$fileRemove = FTM_FCSubstituteLastPattern($file,$fileRegularName[<span class="number">1</span>],<span class="string">&quot;*&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!$isMR_c &amp;&amp; !$isMR_x)</span><br><span class="line">$cmdFC += <span class="string">&quot; -n startIn endIn stepIn -N startOut endOut stepOut&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">$cmdFC += <span class="string">&quot; \\\&quot;&quot;</span> + <span class="keyword">encodeString</span>($fileFC) + <span class="string">&quot;\\\&quot; \\\&quot;&quot;</span> + <span class="keyword">encodeString</span>($targetFile) + <span class="string">&quot;\\\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ($isMR_c || $isMR_x)</span><br><span class="line">$cmdFC += <span class="string">&quot; &quot;</span> + $targetFormat + <span class="string">&quot;\&quot;)&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$cmdFC += <span class="string">&quot;\&quot;)&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`file -q -ex $fileUpdatePath`</span>)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Convertion skipped. New format texture exists, maybe convertion has been done before.&quot;</span>;</span><br><span class="line"><span class="keyword">else</span>&#123; </span><br><span class="line"><span class="keyword">if</span> (!$isSeq[$i])&#123;</span><br><span class="line"><span class="keyword">string</span> $cmdFCFeedback = <span class="keyword">eval</span>($cmdFC);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($cmdFCFeedback))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> $cmdFCFeedback;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`file -q -ex $fileUpdatePath`</span>)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Convertion succeeded. Converted from \&quot;&quot;</span> + $fileFC + <span class="string">&quot;\&quot; to \&quot;&quot;</span> + $targetFile + <span class="string">&quot;\&quot;.&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Convertion failed. Could be file permission problem, disk capacity problem or source texture is of unknown/unsupported format.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (!$isMR_c &amp;&amp; !$isMR_x)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Sequence specified. Command to execute (format conversion):&quot;</span> + $cmdFC);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Sequence specified. Use \&quot;imf_copy\&quot; to convert your tetures. A simple loop might be needed.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($updatePath) &#123;</span><br><span class="line">$cmdUpdatePath += <span class="string">&quot;\&quot;&quot;</span> + <span class="keyword">encodeString</span>(<span class="keyword">toNativePath</span>($fileUpdatePath)) + <span class="string">&quot;\&quot;;&quot;</span>;</span><br><span class="line">$cmdRemoveOrig += <span class="keyword">encodeString</span>($fileRemove) + <span class="string">&quot;\&quot;;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!$isSeq[$i])&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`file -q -ex $fileUpdatePath`</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cmdUpdatePath))) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTextureName\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Path updating failed. So Original Texture Removing will not be done even if it was selected to.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Path updating succeeded. Set to \&quot;&quot;</span> + (<span class="keyword">toNativePath</span>($fileUpdatePath)) + <span class="string">&quot;\&quot;.&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($removeOrig)&#123;</span><br><span class="line"><span class="keyword">if</span> ($isOneOfSeq[$i])</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Only one file of a whole sequence is used as texture, no file in the sequence is supposed to be removed.&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (!$isSeq[$i])&#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">eval</span>($cmdRemoveOrig))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Original texture removing failed, could be file permission problem.&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Original texture removing succeeded. Removed \&quot;&quot;</span> + $fileRemove + <span class="string">&quot;\&quot;.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Convertion failed, Path Updating and Original Texture Removing will not be done even if they were selected to.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Sequence specified. Command to execute (update path info):&quot;</span> + $cmdUpdatePath);</span><br><span class="line"><span class="keyword">if</span> ($removeOrig)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Sequence specified. Command to execute (remove original textures):&quot;</span> + $cmdRemoveOrig);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">size</span>($fileNodesList))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;No texture is of specified format.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ($progressUI)&#123;</span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> <span class="keyword">string</span>[] FTM_FCGetMatches (<span class="keyword">string</span> $formatUI)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $fileNodesList[];</span><br><span class="line"><span class="keyword">string</span> $tmpNodesList[] = <span class="string">`ls -sl -typ file `</span>; </span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $tmpNodesList`</span>) &#123;</span><br><span class="line"><span class="keyword">string</span> $tmpNode; </span><br><span class="line"><span class="keyword">string</span> $tmpFile; </span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $format = <span class="string">`optionMenu -q -v $formatUI`</span>;</span><br><span class="line"><span class="keyword">if</span> ($format!=<span class="string">&quot;*&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> ($tmpNode <span class="keyword">in</span> $tmpNodesList)&#123;</span><br><span class="line">$tmpFile = <span class="string">`getAttr ($tmpNode + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line"><span class="keyword">string</span> $tmpFileRegularName[] = FTM_FCFileRegularName($tmpFile);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">tolower</span>($tmpFileRegularName[<span class="number">2</span>]) == <span class="keyword">tolower</span>($format))</span><br><span class="line">$fileNodesList[<span class="keyword">size</span>($fileNodesList)] = $tmpNode;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">$fileNodesList = $tmpNodesList;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> $fileNodesList;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_FCGatherInfo(<span class="keyword">string</span> $FTM_ExtraFunctionColumn)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $sourceFormatUI = $FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FCRow|FTM_FCSourceMenu&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $targetFormat = <span class="string">`optionMenu -q -v ($FTM_ExtraFunctionColumn + &quot;|FTM_FCRow|FTM_FCTargetMenu&quot;)`</span>;</span><br><span class="line"><span class="keyword">int</span> $handleSeq = <span class="string">`checkBox -q -v ($FTM_ExtraFunctionColumn + &quot;|FTM_SeqCheck&quot;)`</span>;</span><br><span class="line"><span class="keyword">int</span> $updatePath = <span class="string">`checkBox -q -v ($FTM_ExtraFunctionColumn + &quot;|FTM_UpdateCheck&quot;)`</span>;</span><br><span class="line"><span class="keyword">int</span> $removeOrig = <span class="string">`checkBox -q -v ($FTM_ExtraFunctionColumn + &quot;|FTM_RemoveCheck&quot;)`</span>;</span><br><span class="line"></span><br><span class="line">FTM_FCGo <span class="number">1</span></span><br><span class="line">$sourceFormatUI</span><br><span class="line">$targetFormat</span><br><span class="line">$handleSeq</span><br><span class="line">$updatePath</span><br><span class="line">$removeOrig;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_FilterSetup(<span class="keyword">string</span> $FTM_ExtraFunctionColumn)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $Nodes[] = <span class="string">`ls -sl -typ file`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $Nodes`</span>) &#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> $filterType = <span class="string">`optionMenu -q -sl ($FTM_ExtraFunctionColumn+&quot;|FTM_FilterTypeRow|FTM_FilterTypeMenu&quot;)`</span> <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">string</span> $filter = <span class="string">`optionMenu -q -v ($FTM_ExtraFunctionColumn+&quot;|FTM_FilterTypeRow|FTM_FilterTypeMenu&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size $Nodes`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($Nodes);$i++) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($Nodes[$i]+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$progress = $i;</span><br><span class="line">$percentage = $progress * <span class="number">100</span> / <span class="keyword">size</span>($Nodes);</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Setting filter type, please wait......      &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $cmd = <span class="string">&quot;setAttr &quot;</span> + $Nodes[$i] + <span class="string">&quot;.filterType &quot;</span> + $filterType;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Attribute \&quot;filterType\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Set filter type to \&quot;&quot;</span> + $filter + <span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_BOTSetup(<span class="keyword">int</span> $FTM_BOTMode, <span class="keyword">string</span> $FTM_ExtraFunctionColumn)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_FileNodes[]=<span class="string">`ls -sl -typ file`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $FTM_FileNodes`</span>) &#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size $FTM_FileNodes`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;<span class="keyword">size</span>($FTM_FileNodes); $i++)&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($FTM_FileNodes[$i]+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$progress = $i;</span><br><span class="line">$percentage = $progress * <span class="number">100</span> / <span class="keyword">size</span>($FTM_FileNodes);</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Setting BOT options, please wait......      &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.useFrameExtension&quot;)`</span>) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Sequence specified, Skipped!&quot;</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $resolution = <span class="string">`intFieldGrp -q -v1 ($FTM_ExtraFunctionColumn + &quot;|FTM_BOTRow|FTM_BOTResFieldGrp&quot;)`</span>;</span><br><span class="line"><span class="keyword">float</span> $xRes = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.outSizeX&quot;)`</span>;</span><br><span class="line"><span class="keyword">float</span> $yRes = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.outSizeY&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($FTM_BOTMode) &#123;</span><br><span class="line"><span class="keyword">if</span> ($xRes &gt;= $resolution || $yRes &gt;= $resolution) &#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_File = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line">$FTM_File = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_File &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_TheBOT = <span class="string">`substitute &quot;(\\.bot)*$&quot; $FTM_File &quot;&quot;`</span> + <span class="string">&quot;.bot&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $BOTCmd = <span class="string">&quot;makebot -c  -r &quot;</span> + $resolution + <span class="string">&quot; -i \&quot;&quot;</span> + $FTM_File + <span class="string">&quot;\&quot; -o \&quot;&quot;</span> + $FTM_TheBOT + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($BOTCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;BOT file generation failed. Could be permission issue or the BOT file already exists.&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $cacheCmd = <span class="string">&quot;setAttr &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.useCache 1&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $pathCmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $FTM_TheBOT + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cacheCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;useCache\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($pathCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTextureName\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;BOT setup OK.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Resolution \&quot;&quot;</span> + $xRes + <span class="string">&quot;x&quot;</span> + $yRes + <span class="string">&quot;\&quot; is LOWER than specified threshold, skipped!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> ($xRes &lt;= $resolution &amp;&amp; $yRes &lt;= $resolution) &#123;</span><br><span class="line"><span class="keyword">string</span> $cacheCmd = <span class="string">&quot;setAttr &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.useCache 0&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_File = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line">$FTM_File = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_File &quot;/&quot;`</span>;</span><br><span class="line">$FTM_File = <span class="string">`substitute &quot;(\\.bot)*$&quot; $FTM_File &quot;&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $pathCmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $FTM_File + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cacheCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;useCache\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($pathCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTexturename\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;BOT cancelled successfully.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Resolution \&quot;&quot;</span> + $xRes + <span class="string">&quot;x&quot;</span> + $yRes + <span class="string">&quot;\&quot; is HIGHER than specified threshold, skipped!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_MAPSetup(<span class="keyword">int</span> $FTM_MAPMode, <span class="keyword">string</span> $FTM_ExtraFunctionColumn)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_FileNodes[]=<span class="string">`ls -sl -typ file`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $FTM_FileNodes`</span>) &#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size $FTM_FileNodes`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;<span class="keyword">size</span>($FTM_FileNodes); $i++)&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($FTM_FileNodes[$i]+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$progress = $i;</span><br><span class="line">$percentage = $progress * <span class="number">100</span> / <span class="keyword">size</span>($FTM_FileNodes);</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Setting up mentalray memory-mapped textures, please wait......      &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.useFrameExtension&quot;)`</span>) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Sequence specified, Skipped!&quot;</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $resolution = <span class="string">`intFieldGrp -q -v1 ($FTM_ExtraFunctionColumn + &quot;|FTM_MAPRow|FTM_MAPResFieldGrp&quot;)`</span>;</span><br><span class="line"><span class="keyword">float</span> $xRes = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.outSizeX&quot;)`</span>;</span><br><span class="line"><span class="keyword">float</span> $yRes = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.outSizeY&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($FTM_MAPMode) &#123;</span><br><span class="line"><span class="keyword">if</span> ($xRes &gt;= $resolution || $yRes &gt;= $resolution) &#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_File = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line">$FTM_File = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_File &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_TheMAP = <span class="string">`substitute &quot;(\\.map)*$&quot; $FTM_File &quot;&quot;`</span> + <span class="string">&quot;.map&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $MAPCmd = <span class="string">&quot;system(\&quot;imf_copy -p -r \\\&quot;&quot;</span> + (<span class="keyword">encodeString</span>(<span class="string">`toNativePath $FTM_File`</span>)) + <span class="string">&quot;\\\&quot; \\\&quot;&quot;</span> + (<span class="keyword">encodeString</span>(<span class="string">`toNativePath $FTM_TheMAP`</span>)) + <span class="string">&quot;\\\&quot; map\&quot;)&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`file -q -ex $FTM_TheMAP`</span>)&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Mentalray memory-mapped texture file \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_TheMAP`</span> + <span class="string">&quot;\&quot; already exists. FTM will directly use it.&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($MAPCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Mentalray memory-mapped texture file generation failed. Could be permission issue or &#x27;imf_copy&#x27; can not be found in system executable path.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">string</span> $pathCmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $FTM_TheMAP + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($pathCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTextureName\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Mentalray memory-mapped texture setup accomplished.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Resolution \&quot;&quot;</span> + $xRes + <span class="string">&quot;x&quot;</span> + $yRes + <span class="string">&quot;\&quot; is LOWER than specified threshold, skipped!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> ($xRes &lt;= $resolution &amp;&amp; $yRes &lt;= $resolution) &#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_File = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line">$FTM_File = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_File &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_TheMAP = $FTM_File;</span><br><span class="line">$FTM_File = <span class="string">`substitute &quot;(\\.map)*$&quot; $FTM_File &quot;&quot;`</span>;</span><br><span class="line"><span class="keyword">int</span> $wrong = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="string">`file -q -ex $FTM_File`</span>)&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Normal texture file \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_File`</span> + <span class="string">&quot;\&quot; doesn&#x27;t exist.&quot;</span>);</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;FTM is trying to extract one (in Maya iff format) from \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_TheMAP`</span> + <span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $UnMAPCmd = <span class="string">&quot;system(\&quot;imf_copy \\\&quot;&quot;</span> + (<span class="keyword">encodeString</span>(<span class="string">`toNativePath $FTM_TheMAP`</span>)) + <span class="string">&quot;\\\&quot; \\\&quot;&quot;</span> + (<span class="keyword">encodeString</span>(<span class="string">`toNativePath $FTM_File`</span>)) + <span class="string">&quot;\\\&quot; iff\&quot;)&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($UnMAPCmd))) &#123;</span><br><span class="line">$wrong = <span class="number">1</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;WARNING: Extracting normal texture file from \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_TheMAP`</span> + <span class="string">&quot;\&quot; failed.&quot;</span>);</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;         Could be permission issue, or &#x27;imf_copy&#x27; can not be found in system executable path, or original .map file is not a mentalray memory-mapped texture file.&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Extraction succeed. =&gt; \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_File`</span> + <span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!$wrong) &#123;</span><br><span class="line"><span class="keyword">string</span> $pathCmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $FTM_File + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($pathCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTexturename\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Mentalray memory-mapped texture file unset accomplished.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Resolution \&quot;&quot;</span> + $xRes + <span class="string">&quot;x&quot;</span> + $yRes + <span class="string">&quot;\&quot; is HIGHER than specified threshold, skipped!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_Substitute(<span class="keyword">string</span> $oldRootField, <span class="keyword">string</span> $newRootField)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $oldRoot = <span class="string">`textFieldButtonGrp -q -text $oldRootField`</span>;</span><br><span class="line">$oldRoot = substituteAll(<span class="string">&quot;\\\\&quot;</span>,$oldRoot,<span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $newRoot = <span class="string">`textFieldButtonGrp -q -text $newRootField`</span>;</span><br><span class="line">$newRoot = substituteAll(<span class="string">&quot;\\\\&quot;</span>,$newRoot,<span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($oldRoot)==<span class="number">0</span> || <span class="keyword">size</span>($newRoot)==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">confirmDialog</span> -t <span class="string">&quot;File Texture Manager&quot;</span> -m <span class="string">&quot;Both the Old Root filed and the New Root field must be filled!&quot;</span> -b <span class="string">&quot;OK&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">string</span> $fileNodes[] = <span class="string">`ls -sl -typ file  -typ psdFileTex`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $fileNodes`</span>)&#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state <span class="number">1</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $badChar[] = &#123;<span class="string">&quot;+&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;^&quot;</span>,<span class="string">&quot;$&quot;</span>,<span class="string">&quot;[&quot;</span>,<span class="string">&quot;]&quot;</span>,<span class="string">&quot;(&quot;</span>,<span class="string">&quot;)&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> ($char <span class="keyword">in</span> $badChar)</span><br><span class="line">$oldRoot = <span class="string">`substituteAllString $oldRoot $char (&quot;\\&quot;+$char)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size $fileNodes`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($fileNodes);$i++) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($fileNodes[$i]+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$progress = $i;</span><br><span class="line">$percentage = $progress * <span class="number">100</span> / <span class="keyword">size</span>($fileNodes);</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Redirecting, please wait......      &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $old = <span class="string">`getAttr ($fileNodes[$i]+&quot;.fileTextureName&quot;)`</span>;</span><br><span class="line">$old = <span class="string">`substituteAll &quot;\\\\&quot; $old &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $new = <span class="string">`substitute $oldRoot $old $newRoot`</span>;</span><br><span class="line"><span class="keyword">string</span> $cmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $fileNodes[$i] + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $new + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTextureName\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Set to \&quot;&quot;</span> + (<span class="keyword">toNativePath</span>($new)) + <span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="string">`file -q -ex $new`</span>)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;WARNING: \&quot;&quot;</span> + (<span class="keyword">toNativePath</span>($new)) + <span class="string">&quot;\&quot; doesn&#x27;t exist!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line"><span class="keyword">waitCursor</span> -state <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> <span class="keyword">string</span> getDirectoryFromTexCheck(<span class="keyword">string</span> $checkLabel)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> ($checkLabel+<span class="string">&quot;/&quot;</span>) FTM_TargetDirectoryField;</span><br><span class="line"><span class="keyword">return</span> $checkLabel;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_AnalyseFileTextures (<span class="keyword">string</span> $FTM_ParentUI)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_Groups[] = <span class="string">`FTM_FileTextureAnalyst`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`columnLayout -q -ex ($FTM_ParentUI + &quot;|FTM_AnalysisCheckerColumn&quot;)`</span>)</span><br><span class="line"><span class="keyword">deleteUI</span> ($FTM_ParentUI + <span class="string">&quot;|FTM_AnalysisCheckerColumn&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_Groups) == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">text</span> -e -l <span class="string">&quot;找不到贴图文件&quot;</span> ($FTM_ParentUI + <span class="string">&quot;|FTM_EmptyAnalysisText&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">text</span> -e -l <span class="string">&quot;分析：&quot;</span> ($FTM_ParentUI + <span class="string">&quot;|FTM_EmptyAnalysisText&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">setParent</span> $FTM_ParentUI;</span><br><span class="line"><span class="keyword">columnLayout</span> FTM_AnalysisCheckerColumn;</span><br><span class="line"><span class="keyword">int</span> $FTM_Groups_Size = <span class="keyword">size</span>($FTM_Groups);</span><br><span class="line"><span class="keyword">if</span> ($FTM_Groups[<span class="number">0</span>] == <span class="string">&quot;FTM_EmptySocket_FTM&quot;</span>)</span><br><span class="line">$FTM_Groups_Size -= <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> ($FTM_Groups[<span class="number">1</span>] == <span class="string">&quot;FTM_MissingPathSocket_FTM&quot;</span>)</span><br><span class="line">$FTM_Groups_Size -= <span class="number">1</span>;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $lsCmd;</span><br><span class="line"><span class="keyword">string</span> $FTM_TotalResults = <span class="string">&quot;总计 &quot;</span> + <span class="keyword">size</span>(<span class="keyword">eval</span>($lsCmd)) + <span class="string">&quot; 文件纹理指向 &quot;</span> + $FTM_Groups_Size + <span class="string">&quot;个路径 : &quot;</span>;</span><br><span class="line"><span class="keyword">text</span> -l $FTM_TotalResults;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;&quot;</span> -h <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> ($FTM_Group <span class="keyword">in</span> $FTM_Groups)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $buffer[];</span><br><span class="line"><span class="keyword">tokenize</span> $FTM_Group <span class="string">&quot;*&quot;</span> $buffer;</span><br><span class="line"><span class="keyword">int</span> $FTM_FilesStoredSize = <span class="keyword">size</span> ($buffer)<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentPath = $buffer[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_FileTexturesAnalysis;</span><br><span class="line"><span class="keyword">if</span> ($FTM_CurrentPath==<span class="string">&quot;FTM_EmptySocket_FTM&quot;</span> &amp;&amp; $FTM_FilesStoredSize&gt;<span class="number">0</span>)</span><br><span class="line">$FTM_FileTexturesAnalysis = $FTM_FilesStoredSize + <span class="string">&quot; 未指定纹理。所以它们不存在。&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_CurrentPath==<span class="string">&quot;FTM_MissingPathSocket_FTM&quot;</span> &amp;&amp; $FTM_FilesStoredSize&gt;<span class="number">0</span>)</span><br><span class="line">$FTM_FileTexturesAnalysis = $FTM_FilesStoredSize + <span class="string">&quot; 没有贴图路径信息 纹理不存在 &quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ($FTM_FilesStoredSize&gt;<span class="number">0</span>)&#123;</span><br><span class="line">$FTM_CurrentPath = <span class="string">`FTM_GetPath &quot;路径&quot; $FTM_CurrentPath`</span>;</span><br><span class="line">$FTM_FileTexturesAnalysis = $FTM_FilesStoredSize + <span class="string">&quot; 个贴图路径指向： \&quot;&quot;</span> + (<span class="keyword">toNativePath</span>($FTM_CurrentPath)) + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentFile[];</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentFiles = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_Exist[] = &#123;&#125;;</span><br><span class="line"><span class="keyword">int</span> $FTM_ExistSize = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_NotExist[] = &#123;&#125;;</span><br><span class="line"><span class="keyword">int</span> $FTM_NotExistSize = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">1</span>; $i&lt;<span class="keyword">size</span>($buffer); $i++)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">$FTM_CurrentFile[$i] = $buffer[$i];</span><br><span class="line">$FTM_CurrentFiles = $FTM_CurrentFiles + $FTM_CurrentFile[$i] + <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentFilePath = <span class="string">`getAttr ($FTM_CurrentFile[$i] + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`file -q -ex $FTM_CurrentFilePath`</span>)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_Exist[$FTM_ExistSize] = $FTM_CurrentFile[$i];</span><br><span class="line">$FTM_ExistSize = $FTM_ExistSize + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">$FTM_NotExist[$FTM_NotExistSize] = $FTM_CurrentFile[$i];</span><br><span class="line">$FTM_NotExistSize = $FTM_NotExistSize + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_FileTexturesAnalysis)) &#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_MainChecker = <span class="string">`checkBox -l $FTM_FileTexturesAnalysis -al left`</span>;</span><br><span class="line"><span class="keyword">popupMenu</span> -p $FTM_MainChecker;</span><br><span class="line"><span class="keyword">string</span> $cmd = <span class="string">&quot;getDirectoryFromTexCheck(\&quot;&quot;</span>+$buffer[<span class="number">0</span>]+<span class="string">&quot;\&quot;)&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;复制&quot;</span> -c $cmd;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> $FTM_FileTexturesAnalysis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_ExistSubChecker;</span><br><span class="line"><span class="keyword">string</span> $FTM_NotExistSubChecker;</span><br><span class="line"><span class="keyword">if</span> ($FTM_CurrentPath!=<span class="string">&quot;FTM_EmptySocket_FTM&quot;</span>  &amp;&amp; $FTM_CurrentPath!=<span class="string">&quot;FTM_MissingPathSocket_FTM&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">columnLayout</span> -adj <span class="number">1</span> -cat left <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_ExistFiles = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;$FTM_ExistSize; $i++)</span><br><span class="line">$FTM_ExistFiles = $FTM_ExistFiles + $FTM_Exist[$i] + <span class="string">&quot; &quot;</span>;</span><br><span class="line">$FTM_ExistSubChecker = <span class="string">`checkBox -l ($FTM_ExistSize + &quot;个贴图已连接&quot;) -al left</span></span><br><span class="line"><span class="string">-onc (&quot;select -add &quot; + $FTM_ExistFiles) -ofc (&quot;if (&quot; + $FTM_ExistSize + &quot; &gt; 0) select -deselect &quot; + $FTM_ExistFiles)`</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_NotExistFiles = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;$FTM_NotExistSize; $i++)</span><br><span class="line">$FTM_NotExistFiles = $FTM_NotExistFiles + $FTM_NotExist[$i] + <span class="string">&quot; &quot;</span>;</span><br><span class="line">$FTM_NotExistSubChecker = <span class="string">`checkBox -l ($FTM_NotExistSize + &quot;个贴图未连接&quot;) -al left</span></span><br><span class="line"><span class="string">-onc (&quot;select -add &quot; + $FTM_NotExistFiles) -ofc (&quot;if (&quot; + $FTM_NotExistSize + &quot; &gt; 0) select -deselect &quot; + $FTM_NotExistFiles)`</span>;</span><br><span class="line"><span class="keyword">setParent</span> ($FTM_ParentUI + <span class="string">&quot;|FTM_AnalysisCheckerColumn&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">checkBox</span> -e -onc (<span class="string">&quot;select -add &quot;</span> + $FTM_CurrentFiles + <span class="string">&quot;;checkBox -e -v 1 -vis 0 &quot;</span> + $FTM_ExistSubChecker + <span class="string">&quot;;checkBox -e -v 1 -vis 0 &quot;</span> + $FTM_NotExistSubChecker)</span><br><span class="line">-ofc (<span class="string">&quot;if (&quot;</span> + $FTM_FilesStoredSize + <span class="string">&quot; &gt; 0) select -deselect &quot;</span> + $FTM_CurrentFiles + <span class="string">&quot;;checkBox -e -v 0 -vis 1 &quot;</span> + $FTM_ExistSubChecker + <span class="string">&quot;;checkBox -e -v 0 -vis 1 &quot;</span> + $FTM_NotExistSubChecker)</span><br><span class="line">$FTM_MainChecker;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">checkBox</span> -e -onc (<span class="string">&quot;select -add &quot;</span> + $FTM_CurrentFiles) -ofc (<span class="string">&quot;if (&quot;</span> + $FTM_FilesStoredSize + <span class="string">&quot; &gt; 0) select -deselect &quot;</span> + $FTM_CurrentFiles) $FTM_MainChecker;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_BrowseCmd (<span class="keyword">string</span> $FTM_FileOrPath, <span class="keyword">string</span> $FTM_TextField, <span class="keyword">string</span> $FTM_WhichButton, <span class="keyword">int</span> $FTM_BrowseType)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_WorkSpace;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_WorkSpace) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_WorkSpace = <span class="string">`workspace -q -rd`</span> + <span class="string">`workspace -q -fileRuleEntry &quot;sourceImages&quot;`</span>;</span><br><span class="line">$FTM_WorkSpace = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_WorkSpace`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">workspace</span> -dir $FTM_WorkSpace;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_NEW_MAYA;</span><br><span class="line"><span class="keyword">if</span> ($FTM_NEW_MAYA) &#123;</span><br><span class="line"><span class="keyword">if</span> ($FTM_BrowseType == <span class="number">0</span>) $FTM_BrowseType = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_BrowseType == <span class="number">4</span>) $FTM_BrowseType = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">string</span> $return[] = <span class="string">`fileDialog2 -ds 2 -cap $FTM_WhichButton -dir $FTM_WorkSpace -fm $FTM_BrowseType -okc $FTM_WhichButton -cc &quot;Cancel&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $path = $return[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">size</span>($path)) $path = <span class="string">`textFieldButtonGrp -q -text $FTM_TextField`</span>;</span><br><span class="line"><span class="keyword">if</span> ($FTM_FileOrPath == <span class="string">&quot;file&quot;</span>) $path += <span class="string">&quot;bugQuickFix&quot;</span>;</span><br><span class="line">FTM_ChangeTextField $FTM_FileOrPath $FTM_TextField $path <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_Temp = <span class="string">&quot;&quot;</span>;</span><br><span class="line">$FTM_Temp += <span class="string">&quot;FTM_ChangeTextField &quot;</span>;</span><br><span class="line">$FTM_Temp += (<span class="string">&quot;\&quot;&quot;</span> + $FTM_FileOrPath + <span class="string">&quot;\&quot; &quot;</span>);</span><br><span class="line">$FTM_Temp += (<span class="string">&quot;\&quot;&quot;</span> + $FTM_TextField + <span class="string">&quot;\&quot; &quot;</span>);</span><br><span class="line">fileBrowser $FTM_Temp $FTM_WhichButton <span class="string">&quot;&quot;</span> $FTM_BrowseType;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_ChangeTextField (<span class="keyword">string</span> $FTM_FileOrPath, <span class="keyword">string</span> $FTM_TextField, <span class="keyword">string</span> $FTM_File, <span class="keyword">string</span> $FTM_FileType)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_Path = <span class="string">`FTM_GetPath $FTM_FileOrPath $FTM_File`</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> (<span class="keyword">toNativePath</span>($FTM_Path)) $FTM_TextField;</span><br><span class="line"><span class="keyword">string</span> $os = <span class="string">`about -os`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">gmatch</span>($os, <span class="string">&quot;*irix*&quot;</span>) || <span class="keyword">gmatch</span>($os, <span class="string">&quot;*linux*&quot;</span>))</span><br><span class="line"><span class="keyword">window</span> -e -vis false projectViewerWindow;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_WorkSpace;</span><br><span class="line">$FTM_WorkSpace = $FTM_Path;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_ResetUI (<span class="keyword">string</span> $FTM_OptionColumn,<span class="keyword">string</span> $FTM_AnalysisColumn,<span class="keyword">string</span> $FTM_ExtraFunctionColumn,<span class="keyword">string</span> $FTM_Tabs,<span class="keyword">string</span> $FTM_CopyButton,<span class="keyword">string</span> $FTM_MoveButton,<span class="keyword">string</span> $FTM_SetButton)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_WIDTH, $FTM_HEIGHT;</span><br><span class="line"><span class="keyword">window</span> -e -wh $FTM_WIDTH $FTM_HEIGHT FTM_MainWindow;</span><br><span class="line"></span><br><span class="line"><span class="keyword">text</span> -e -l <span class="string">&quot;未分析场景文件&quot;</span> ($FTM_AnalysisColumn + <span class="string">&quot;|FTM_EmptyAnalysisText&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`columnLayout -q -ex ($FTM_AnalysisColumn + &quot;|FTM_AnalysisCheckerColumn&quot;)`</span>)</span><br><span class="line"><span class="keyword">deleteUI</span> ($FTM_AnalysisColumn + <span class="string">&quot;|FTM_AnalysisCheckerColumn&quot;</span>);</span><br><span class="line"><span class="keyword">radioButtonGrp</span> -e -<span class="keyword">select</span> <span class="number">1</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_OperationMode&quot;</span>);</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> <span class="string">&quot;&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_SourceDirectoryField&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentProject = <span class="string">`workspace -q -rd`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentSourceImagesDir = $FTM_CurrentProject + <span class="string">`workspace -q -fileRuleEntry &quot;sourceImages&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_SourceImages = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_CurrentSourceImagesDir`</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> $FTM_SourceImages ($FTM_OptionColumn + <span class="string">&quot;|FTM_TargetDirectoryField&quot;</span>);</span><br><span class="line"><span class="keyword">checkBoxGrp</span> -e -v1 <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_MakeFolderChecker&quot;</span>);</span><br><span class="line"><span class="keyword">textFieldGrp</span> -e -<span class="keyword">text</span> <span class="string">&quot;MyTextureFiles&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_NewFolderNameField&quot;</span>);</span><br><span class="line"><span class="keyword">checkBox</span> -e -v <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_AddPrefixRow|FTM_AddPrefixChecker&quot;</span>);</span><br><span class="line"><span class="keyword">textField</span> -e -<span class="keyword">text</span> <span class="string">&quot;prefix_&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_AddPrefixRow|FTM_PrefixField&quot;</span>);</span><br><span class="line"><span class="keyword">checkBox</span> -e -v <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_AddSuffixRow|FTM_AddSuffixChecker&quot;</span>);</span><br><span class="line"><span class="keyword">textField</span> -e -<span class="keyword">text</span> <span class="string">&quot;_suffix&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_AddSuffixRow|FTM_SuffixField&quot;</span>);</span><br><span class="line"><span class="keyword">checkBoxGrp</span> -e -v1 <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_ReplaceStringChecker&quot;</span>);</span><br><span class="line"><span class="keyword">textFieldGrp</span> -e -<span class="keyword">text</span> <span class="string">&quot;OldString&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_OldStringField&quot;</span>);</span><br><span class="line"><span class="keyword">textFieldGrp</span> -e -<span class="keyword">text</span> <span class="string">&quot;NewString&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_NewStringField&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> <span class="string">&quot;&quot;</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|oldRootField&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $tmp = <span class="string">`workspace -q -rd`</span> + <span class="string">`workspace -q -fileRuleEntry &quot;sourceImages&quot;`</span>;</span><br><span class="line">$tmp = <span class="string">`FTM_GetPath &quot;path&quot; $tmp`</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> $tmp ($FTM_ExtraFunctionColumn + <span class="string">&quot;|newRootField&quot;</span>);</span><br><span class="line"><span class="keyword">intFieldGrp</span> -e -v1 <span class="number">1024</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_BOTRow|FTM_BOTResFieldGrp&quot;</span>);</span><br><span class="line"><span class="keyword">intFieldGrp</span> -e -v1 <span class="number">1024</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_MAPRow|FTM_MAPResFieldGrp&quot;</span>);</span><br><span class="line"><span class="keyword">optionMenu</span> -e -v <span class="string">&quot;Mipmap&quot;</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FilterTypeRow|FTM_FilterTypeMenu&quot;</span>);</span><br><span class="line"><span class="keyword">optionMenu</span> -e -v <span class="string">&quot;\*&quot;</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FCRow|FTM_FCSourceMenu&quot;</span>);</span><br><span class="line"><span class="keyword">optionMenu</span> -e -v <span class="string">&quot;iff&quot;</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FCRow|FTM_FCTargetMenu&quot;</span>);</span><br><span class="line"><span class="keyword">checkBox</span> -e -v <span class="number">0</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_SeqCheck&quot;</span>);</span><br><span class="line"><span class="keyword">checkBox</span> -e -v <span class="number">1</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_UpdateCheck&quot;</span>);</span><br><span class="line"><span class="keyword">checkBox</span> -e -v <span class="number">0</span> -en <span class="number">1</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_RemoveCheck&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">tabLayout</span> -e -sti <span class="number">1</span> $FTM_Tabs;</span><br><span class="line"></span><br><span class="line"><span class="keyword">button</span> -e -en <span class="number">1</span> $FTM_CopyButton;</span><br><span class="line"><span class="keyword">button</span> -e -en <span class="number">1</span> $FTM_MoveButton;</span><br><span class="line"><span class="keyword">button</span> -e -en <span class="number">1</span> $FTM_SetButton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_WorkSpace;</span><br><span class="line">$FTM_WorkSpace = <span class="string">`workspace -q -rd`</span> + <span class="string">`workspace -q -fileRuleEntry &quot;sourceImages&quot;`</span>;</span><br><span class="line">$FTM_WorkSpace = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_WorkSpace`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> -cl;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_Function (<span class="keyword">string</span> $FTM_Function, <span class="keyword">string</span> $FTM_OptionColumn)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $lsCmd;</span><br><span class="line"><span class="keyword">string</span> $FTM_SelectedFiles[] = <span class="keyword">eval</span>($lsCmd + <span class="string">&quot; -sl&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $FTM_SelectedFiles`</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> $wrong = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $FTM_OperationMode = <span class="string">`radioButtonGrp -q -select ($FTM_OptionColumn + &quot;|FTM_OperationMode&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_SourceDirectory;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_TargetDirectory = <span class="string">`textFieldButtonGrp -q -text ($FTM_OptionColumn + &quot;|FTM_TargetDirectoryField&quot;)`</span>;</span><br><span class="line">$FTM_TargetDirectory = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_TargetDirectory`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`checkBoxGrp -q -v1 ($FTM_OptionColumn + &quot;|FTM_MakeFolderChecker&quot;)`</span> )</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_NewFolderName = <span class="string">`textFieldGrp -q -text ($FTM_OptionColumn + &quot;|FTM_NewFolderNameField&quot;)`</span>;</span><br><span class="line">$FTM_TargetDirectory = $FTM_TargetDirectory + $FTM_NewFolderName;</span><br><span class="line"><span class="keyword">if</span> (!<span class="string">`file -q -ex $FTM_TargetDirectory`</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`sysFile -md $FTM_TargetDirectory`</span>)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> (<span class="string">&quot;Folder created: \&quot;&quot;</span> + (<span class="keyword">toNativePath</span>($FTM_TargetDirectory)) + <span class="string">&quot;\&quot;.&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">$wrong = <span class="number">1</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> (<span class="string">&quot;Folder can not be created: &quot;</span> + (<span class="keyword">toNativePath</span>($FTM_TargetDirectory)) + <span class="string">&quot;\&quot;.&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="string">`filetest -w $FTM_TargetDirectory`</span>) &#123;</span><br><span class="line">$wrong = <span class="number">1</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> (<span class="string">&quot;Folder exists but is not writeable: &quot;</span> + (<span class="keyword">toNativePath</span>($FTM_TargetDirectory)) + <span class="string">&quot;\&quot;.&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">$FTM_TargetDirectory = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_TargetDirectory`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!$wrong) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_FunctionCmd;</span><br><span class="line"><span class="keyword">if</span> ($FTM_Function == <span class="string">&quot;Copy&quot;</span>)</span><br><span class="line">$FTM_FunctionCmd = <span class="string">&quot;sysFile -cp &quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_Function == <span class="string">&quot;Move&quot;</span>)</span><br><span class="line">$FTM_FunctionCmd = <span class="string">&quot;sysFile -mov &quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size $FTM_SelectedFiles`</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($FTM_SelectedFile <span class="keyword">in</span> $FTM_SelectedFiles)</span><br><span class="line">&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($FTM_SelectedFile+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$wrong = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">$progress += <span class="number">1</span>;</span><br><span class="line">$percentage = $progress * (<span class="number">100</span>/<span class="keyword">size</span>($FTM_SelectedFiles));</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Handling &quot;</span> + $FTM_SelectedFile + <span class="string">&quot;     ......  &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentFile = <span class="string">`getAttr ($FTM_SelectedFile + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_SourceFile[] = <span class="string">`FTM_GetFile $FTM_CurrentFile`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_OriginSourceFile = $FTM_SourceFile[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_OriginSourceFile) == <span class="number">0</span>)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: File texture is not specified.&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`checkBoxGrp -q -v1 ($FTM_OptionColumn + &quot;|FTM_ReplaceStringChecker&quot;)`</span> )</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_OldString = <span class="string">`textFieldGrp -q -tx ($FTM_OptionColumn + &quot;|FTM_OldStringField&quot;)`</span>;</span><br><span class="line"><span class="keyword">string</span> $badChar[] = &#123;<span class="string">&quot;+&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;^&quot;</span>,<span class="string">&quot;$&quot;</span>,<span class="string">&quot;[&quot;</span>,<span class="string">&quot;]&quot;</span>,<span class="string">&quot;(&quot;</span>,<span class="string">&quot;)&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> ($char <span class="keyword">in</span> $badChar)</span><br><span class="line">$FTM_OldString = <span class="string">`substituteAllString $FTM_OldString $char (&quot;\\&quot;+$char)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_MatchExpression = <span class="string">&quot;(&quot;</span> + $FTM_OldString + <span class="string">&quot;)+&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_NewString = <span class="string">`textFieldGrp -q -tx ($FTM_OptionColumn + &quot;|FTM_NewStringField&quot;)`</span>;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;<span class="keyword">size</span>($FTM_SourceFile[<span class="number">1</span>]); $i++)</span><br><span class="line">$FTM_SourceFile[<span class="number">1</span>] = <span class="string">`substitute $FTM_MatchExpression $FTM_SourceFile[1] $FTM_NewString`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_Prefix;</span><br><span class="line"><span class="keyword">string</span> $FTM_Suffix;</span><br><span class="line"><span class="keyword">string</span> $FTM_SourceFileRegularName[] = <span class="string">`FTM_FCFileRegularName $FTM_SourceFile[1]`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`checkBox -q -v ($FTM_OptionColumn + &quot;|FTM_AddPrefixRow|FTM_AddPrefixChecker&quot;)`</span> )</span><br><span class="line">$FTM_Prefix = <span class="string">`textField -q -tx ($FTM_OptionColumn + &quot;|FTM_AddPrefixRow|FTM_PrefixField&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`checkBox -q -v ($FTM_OptionColumn + &quot;|FTM_AddSuffixRow|FTM_AddSuffixChecker&quot;)`</span> )</span><br><span class="line">$FTM_Suffix = <span class="string">`textField -q -tx ($FTM_OptionColumn + &quot;|FTM_AddSuffixRow|FTM_SuffixField&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_SourceFileRegularName[<span class="number">1</span>]))</span><br><span class="line">$FTM_SourceFileRegularName[<span class="number">1</span>] = <span class="string">&quot;.&quot;</span> + $FTM_SourceFileRegularName[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_SourceFileRegularName[<span class="number">2</span>]))</span><br><span class="line">$FTM_SourceFileRegularName[<span class="number">2</span>] = <span class="string">&quot;.&quot;</span> + $FTM_SourceFileRegularName[<span class="number">2</span>];</span><br><span class="line">$FTM_SourceFile[<span class="number">1</span>] = $FTM_Prefix + $FTM_SourceFileRegularName[<span class="number">0</span>] + $FTM_Suffix + $FTM_SourceFileRegularName[<span class="number">1</span>] + $FTM_SourceFileRegularName[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_FinalCmd;</span><br><span class="line"><span class="keyword">string</span> $FTM_FunctionResult;</span><br><span class="line"><span class="keyword">int</span> $setWrong = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> ($FTM_Function != <span class="string">&quot;Set&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ($FTM_OperationMode == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_FinalCmd = $FTM_FunctionCmd + <span class="string">&quot;\&quot;&quot;</span> + <span class="string">`substituteAll &quot;\\\\&quot; ($FTM_TargetDirectory + $FTM_SourceFile[1]) &quot;/&quot;`</span> + <span class="string">&quot;\&quot; \&quot;&quot;</span> + <span class="string">`substituteAll &quot;\\\\&quot; $FTM_SourceFile[0] &quot;/&quot;`</span> + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line">$FTM_FunctionResult = $FTM_Function + <span class="string">&quot; \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_SourceFile[0]`</span> + <span class="string">&quot;\&quot; to \&quot;&quot;</span> + <span class="string">`toNativePath ($FTM_TargetDirectory + $FTM_SourceFile[1])`</span> + <span class="string">&quot;\&quot;. &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_OperationMode == <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_SourceDirectory = <span class="string">`textFieldButtonGrp -q -text ($FTM_OptionColumn + &quot;|FTM_SourceDirectoryField&quot;)`</span>;</span><br><span class="line">$FTM_SourceDirectory = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_SourceDirectory`</span>;</span><br><span class="line">$FTM_FinalCmd = $FTM_FunctionCmd + <span class="string">&quot;\&quot;&quot;</span> + <span class="string">`substituteAll &quot;\\\\&quot; ($FTM_TargetDirectory + $FTM_SourceFile[1]) &quot;/&quot;`</span> + <span class="string">&quot;\&quot; \&quot;&quot;</span> + <span class="string">`substituteAll &quot;\\\\&quot; ($FTM_SourceDirectory + $FTM_OriginSourceFile) &quot;/&quot;`</span> + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line">$FTM_FunctionResult = $FTM_Function + <span class="string">&quot; \&quot;&quot;</span> + <span class="string">`toNativePath ($FTM_SourceDirectory + $FTM_OriginSourceFile)`</span> + <span class="string">&quot;\&quot; to \&quot;&quot;</span> + <span class="string">`toNativePath ($FTM_TargetDirectory + $FTM_SourceFile[1])`</span> + <span class="string">&quot;\&quot;. &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_Function == <span class="string">&quot;Set&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $path = <span class="string">`substituteAll &quot;\\\\&quot; ($FTM_TargetDirectory + $FTM_SourceFile[1]) &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $cmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $FTM_SelectedFile + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $path + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cmd))) &#123;</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Attribute \&quot;fileTextureName\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line">$setWrong = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Set to \&quot;&quot;</span> + <span class="string">`toNativePath ($FTM_TargetDirectory + $FTM_SourceFile[1])`</span> + <span class="string">&quot;\&quot;. &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($FTM_Function != <span class="string">&quot;Set&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">eval</span>($FTM_FinalCmd)) &#123;</span><br><span class="line">$wrong = <span class="number">1</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;WARNING: &quot;</span> + $FTM_Function + <span class="string">&quot; can NOT be done, could be permission issue or path existence issue.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!$wrong) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`file -q -ex ($FTM_TargetDirectory + $FTM_SourceFile[1])`</span> )</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ($FTM_Function == <span class="string">&quot;Move&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`file -q -ex $FTM_SourceFile[0]`</span> || <span class="string">`file -q -ex ($FTM_SourceDirectory + $FTM_OriginSourceFile)`</span>)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Succeed: &quot;</span> + $FTM_FunctionResult + <span class="string">&quot; But the original file is not removed. Check the HELP for possible reasons.&quot;</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;WARNING: &quot;</span> + $FTM_FunctionResult);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Succeed: &quot;</span> + $FTM_FunctionResult;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> $FTM_FunctionResult;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Succeed: &quot;</span> + $FTM_FunctionResult;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> $FTM_FunctionResult;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ($FTM_Function == <span class="string">&quot;Set&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> ($setWrong)</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;WARNING: &quot;</span> + $FTM_FunctionResult;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Succeed: &quot;</span> + $FTM_FunctionResult + <span class="string">&quot;But destination does NOT exist.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_Function != <span class="string">&quot;Set&quot;</span>)</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Fail: &quot;</span> + $FTM_FunctionResult + <span class="string">&quot;Check Help tab for possible reasons.&quot;</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> $FTM_FunctionResult;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//////构建主UI//////</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FileTextureManager ()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//版本检查</span></span><br><span class="line"><span class="keyword">float</span> $verCut = <span class="number">2010</span>;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_NEW_MAYA, $FTM_WIDTH, $FTM_HEIGHT;</span><br><span class="line">$FTM_NEW_MAYA = <span class="number">0</span>;</span><br><span class="line">$FTM_WIDTH = <span class="number">380</span>;</span><br><span class="line">$FTM_HEIGHT = <span class="number">600</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $verString = <span class="string">`about -v`</span>;</span><br><span class="line"><span class="keyword">string</span> $verString_tmp[];</span><br><span class="line"><span class="keyword">tokenize</span> $verString <span class="string">&quot; &quot;</span> $verString_tmp;</span><br><span class="line"><span class="keyword">float</span> $verNum = $verString_tmp[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">if</span> ($verNum &gt; $verCut) &#123; </span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_NEW_MAYA, $FTM_WIDTH, $FTM_HEIGHT;</span><br><span class="line">$FTM_NEW_MAYA = <span class="number">1</span>;</span><br><span class="line">$FTM_WIDTH = <span class="number">520</span>;  <span class="comment">//宽度</span></span><br><span class="line">$FTM_HEIGHT = <span class="number">700</span>; <span class="comment">//高度</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_FCAllFormats[];</span><br><span class="line">$FTM_FCAllFormats = &#123;<span class="string">&quot;iff&quot;</span>,<span class="string">&quot;sgi&quot;</span>,<span class="string">&quot;tga&quot;</span>,<span class="string">&quot;rgb&quot;</span>,<span class="string">&quot;jpg&quot;</span>,<span class="string">&quot;jpeg&quot;</span>,<span class="string">&quot;map&quot;</span>,<span class="string">&quot;tif&quot;</span>,<span class="string">&quot;tiff&quot;</span>,<span class="string">&quot;bmp&quot;</span>,<span class="string">&quot;bw&quot;</span>,<span class="string">&quot;icon&quot;</span>,<span class="string">&quot;cin&quot;</span>,<span class="string">&quot;pic&quot;</span>,<span class="string">&quot;yuv&quot;</span>,<span class="string">&quot;als&quot;</span>,<span class="string">&quot;gif&quot;</span>,<span class="string">&quot;lff&quot;</span>,<span class="string">&quot;pxb&quot;</span>,<span class="string">&quot;scn&quot;</span>,<span class="string">&quot;ppm&quot;</span>,<span class="string">&quot;pri&quot;</span>,<span class="string">&quot;qtl&quot;</span>,<span class="string">&quot;vst&quot;</span>,<span class="string">&quot;rla&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $lsCmd;</span><br><span class="line">$lsCmd = <span class="string">&quot;ls -typ file -typ psdFileTex &quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> -cl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_MayaWorkSpace;</span><br><span class="line">$FTM_MayaWorkSpace = <span class="string">`workspace -q -dir`</span>;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_WorkSpace = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//确保窗口显示的大小正确</span></span><br><span class="line"><span class="keyword">windowPref</span> -enableAll false;</span><br><span class="line"><span class="comment">//如果UI退出,请将其删除</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`window -exists FTM_MainWindow`</span>)</span><br><span class="line"><span class="keyword">deleteUI</span> FTM_MainWindow;</span><br><span class="line"><span class="comment">//建立一个新的用户界面</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_WIDTH, $FTM_HEIGHT;</span><br><span class="line"><span class="keyword">window</span> -title <span class="string">&quot;File Texture Manager&quot;</span> -wh $FTM_WIDTH $FTM_HEIGHT -tlc <span class="number">200</span> <span class="number">200</span> -ret FTM_MainWindow;</span><br><span class="line"><span class="keyword">string</span> $FTM_MainForm = <span class="string">`formLayout`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_Tabs = <span class="string">`tabLayout -imw 0 -imh 0`</span>;</span><br><span class="line"><span class="comment">//选项选项卡</span></span><br><span class="line"><span class="keyword">string</span> $FTM_OptionForm = <span class="string">`formLayout`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_OptionScroll = <span class="string">`scrollLayout -cr true`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_OptionColumn = <span class="string">`columnLayout -adj 1 -rs 5`</span>;</span><br><span class="line"><span class="comment">//分析区域</span></span><br><span class="line"><span class="keyword">formLayout</span> -nd <span class="number">100</span> FTM_AnalyseForm;</span><br><span class="line"><span class="keyword">string</span> $FTM_AnalyseColumn = <span class="string">`columnLayout -cat both 30 -adj 1 -rs 5`</span>;</span><br><span class="line"><span class="keyword">button</span> -l <span class="string">&quot;分析场景文件纹理&quot;</span> -h <span class="number">40</span> -w <span class="number">250</span> FTM_AnalyseButton;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;&quot;</span> -h <span class="number">5</span>;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;选择要管理的文件(多选)&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_AnalysisScroll = <span class="string">`scrollLayout -p FTM_AnalyseForm`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_AnalysisColumn = <span class="string">`columnLayout -cat left 15`</span>;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;未分析场景文件&quot;</span> FTM_EmptyAnalysisText;</span><br><span class="line"><span class="keyword">button</span> -e -c (<span class="string">&quot;FTM_AnalyseFileTextures &quot;</span> + $FTM_AnalysisColumn) ($FTM_AnalyseColumn + <span class="string">&quot;|FTM_AnalyseButton&quot;</span>);</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-af $FTM_AnalyseColumn left <span class="number">0</span></span><br><span class="line">-af $FTM_AnalyseColumn right <span class="number">0</span></span><br><span class="line">-af $FTM_AnalyseColumn top <span class="number">5</span></span><br><span class="line">-af $FTM_AnalyseColumn bottom <span class="number">200</span></span><br><span class="line">-ac $FTM_AnalysisScroll top <span class="number">5</span> $FTM_AnalyseColumn</span><br><span class="line">-af $FTM_AnalysisScroll bottom <span class="number">0</span></span><br><span class="line">-af $FTM_AnalysisScroll left <span class="number">0</span></span><br><span class="line">-af $FTM_AnalysisScroll right <span class="number">0</span></span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_AnalyseForm&quot;</span>);</span><br><span class="line"><span class="keyword">setParent</span> $FTM_OptionColumn;</span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">10</span>;</span><br><span class="line"><span class="comment">//操作模式</span></span><br><span class="line"><span class="keyword">radioButtonGrp</span> -l <span class="string">&quot;工作模式    &quot;</span> -la2 <span class="string">&quot;自动&quot;</span> <span class="string">&quot;手动&quot;</span> -nrb <span class="number">2</span> -<span class="keyword">select</span> <span class="number">1</span> -cl3 right left left -cw3 <span class="number">120</span> <span class="number">100</span> <span class="number">100</span> FTM_OperationMode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置源目录区域</span></span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -label <span class="string">&quot;源目录&quot;</span> -<span class="keyword">text</span> <span class="string">&quot;&quot;</span> -buttonLabel <span class="string">&quot;浏览&quot;</span> -adj <span class="number">2</span> -en <span class="number">0</span> -cw <span class="number">1</span> <span class="number">120</span> -cw <span class="number">3</span> <span class="number">60</span> -cl3 right left center FTM_SourceDirectoryField;</span><br><span class="line"></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置目标目录区域</span></span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentProject = <span class="string">`workspace -q -rd`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentSourceImagesDir = $FTM_CurrentProject + <span class="string">`workspace -q -fileRuleEntry &quot;sourceImages&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_SourceImages = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_CurrentSourceImagesDir`</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -label <span class="string">&quot;目标目录： &quot;</span> -<span class="keyword">text</span> $FTM_SourceImages -buttonLabel <span class="string">&quot;浏览&quot;</span> -adj <span class="number">2</span> -cw <span class="number">1</span> <span class="number">120</span> -cw <span class="number">3</span> <span class="number">60</span> -cl3 right left center FTM_TargetDirectoryField;</span><br><span class="line"><span class="comment">//创建新文件夹区域</span></span><br><span class="line"><span class="keyword">checkBoxGrp</span> -ncb <span class="number">1</span> -l1 <span class="string">&quot;在目标目录下创建新文件夹&quot;</span> -adj <span class="number">1</span> -v1 <span class="number">0</span> -cat <span class="number">1</span> left <span class="number">101</span> FTM_MakeFolderChecker;</span><br><span class="line"><span class="keyword">textFieldGrp</span> -label <span class="string">&quot;文件夹名称&quot;</span> -<span class="keyword">text</span> <span class="string">&quot;TextureFiles&quot;</span> -en <span class="number">0</span> -cw2 <span class="number">120</span> <span class="number">180</span> -cl2 right left FTM_NewFolderNameField;</span><br><span class="line"><span class="keyword">text</span> -al center -l <span class="string">&quot;FINAL目标目录将等于目标目录&quot;</span>;</span><br><span class="line"><span class="keyword">text</span> -al center -l <span class="string">&quot;加上新文件夹（如果用户决定创建新文件夹）&quot;</span>;</span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">5</span>;</span><br><span class="line"><span class="comment">//更新纹理文件区域</span></span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">2</span> -cw <span class="number">1</span> <span class="number">120</span> -cat <span class="number">1</span> right <span class="number">0</span> -cl2 left left FTM_AddPrefixRow;</span><br><span class="line"><span class="keyword">checkBox</span> -l <span class="string">&quot;添加前缀&quot;</span> -v <span class="number">0</span> FTM_AddPrefixChecker;</span><br><span class="line"><span class="keyword">textField</span> -tx <span class="string">&quot;prefix_&quot;</span> -en <span class="number">0</span> -w <span class="number">150</span> FTM_PrefixField;</span><br><span class="line"><span class="keyword">setParent</span> $FTM_OptionColumn;</span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">2</span> -cw <span class="number">1</span> <span class="number">120</span> -cat <span class="number">1</span> right <span class="number">0</span> -cl2 left left FTM_AddSuffixRow;</span><br><span class="line"><span class="keyword">checkBox</span> -l <span class="string">&quot;添加后缀&quot;</span> -v <span class="number">0</span> FTM_AddSuffixChecker;</span><br><span class="line"><span class="keyword">textField</span> -tx <span class="string">&quot;_suffix&quot;</span> -en <span class="number">0</span> -w <span class="number">150</span> FTM_SuffixField;</span><br><span class="line"><span class="keyword">setParent</span> $FTM_OptionColumn;</span><br><span class="line"><span class="keyword">checkBoxGrp</span> -ncb <span class="number">1</span> -l1 <span class="string">&quot;替换字符串&quot;</span> -adj <span class="number">1</span> -v1 <span class="number">0</span> -cat <span class="number">1</span> left <span class="number">101</span> FTM_ReplaceStringChecker;</span><br><span class="line"><span class="keyword">textFieldGrp</span> -l <span class="string">&quot;旧名称：&quot;</span> -tx <span class="string">&quot;Old String&quot;</span> -en <span class="number">0</span> -cw2 <span class="number">120</span> <span class="number">150</span> -cl2 right left FTM_OldStringField;</span><br><span class="line"><span class="keyword">textFieldGrp</span> -l <span class="string">&quot;新名称：&quot;</span> -tx <span class="string">&quot;New String&quot;</span> -en <span class="number">0</span> -cw2 <span class="number">120</span> <span class="number">150</span> -cl2 right left FTM_NewStringField;</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-af $FTM_OptionScroll top <span class="number">5</span></span><br><span class="line">-af $FTM_OptionScroll left <span class="number">0</span></span><br><span class="line">-af $FTM_OptionScroll right <span class="number">0</span></span><br><span class="line">-af $FTM_OptionScroll bottom <span class="number">0</span></span><br><span class="line">$FTM_OptionForm;</span><br><span class="line"><span class="keyword">setParent</span> $FTM_Tabs;</span><br><span class="line"><span class="comment">//附加功能选项卡</span></span><br><span class="line"><span class="keyword">string</span> $FTM_ExtraFunctionScroll = <span class="string">`scrollLayout -cr true`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_ExtraFunctionColumn = <span class="string">`columnLayout -cat both 15 -adj 1 -rs 5`</span>;</span><br><span class="line"><span class="comment">//替换路径根区域</span></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;none&quot;</span> -h <span class="number">5</span>;</span><br><span class="line"><span class="keyword">text</span> -fn <span class="string">&quot;boldLabelFont&quot;</span> -al left -l <span class="string">&quot;替换根路径&quot;</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -l <span class="string">&quot;根路径&quot;</span> -<span class="keyword">text</span> <span class="string">&quot;&quot;</span> -buttonLabel <span class="string">&quot;浏览&quot;</span> -adj <span class="number">2</span> -en <span class="number">1</span> -cw <span class="number">1</span> <span class="number">80</span> -cw <span class="number">3</span> <span class="number">60</span> -cl3 right left center oldRootField;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -bc (<span class="string">&quot;FTM_BrowseCmd \&quot;path\&quot; &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|oldRootField \&quot;Choose old root\&quot; 4&quot;</span>) ($FTM_ExtraFunctionColumn + <span class="string">&quot;|oldRootField&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $tmp = <span class="string">`workspace -q -rd`</span> + <span class="string">`workspace -q -fileRuleEntry &quot;sourceImages&quot;`</span>;</span><br><span class="line">$tmp = <span class="string">`FTM_GetPath &quot;path&quot; $tmp`</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -l <span class="string">&quot;新路径&quot;</span> -<span class="keyword">text</span> $tmp -buttonLabel <span class="string">&quot;浏览&quot;</span> -adj <span class="number">2</span> -en <span class="number">1</span> -cw <span class="number">1</span> <span class="number">80</span> -cw <span class="number">3</span> <span class="number">60</span> -cl3 right left center newRootField;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -bc (<span class="string">&quot;FTM_BrowseCmd \&quot;path\&quot; &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|newRootField \&quot;Choose new root\&quot; 4&quot;</span>) ($FTM_ExtraFunctionColumn + <span class="string">&quot;|newRootField&quot;</span>);</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;替换&quot;</span> -c (<span class="string">&quot;FTM_Substitute &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|oldRootField &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|newRootField&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">10</span>;</span><br><span class="line"><span class="keyword">text</span> -fn <span class="string">&quot;boldLabelFont&quot;</span> -al left -l <span class="string">&quot;内存效率 (仅限Maya“文件”节点)&quot;</span>;</span><br><span class="line"><span class="comment">//text-fn“boldLabelFont”-al left-l“BOT设置(仅限Maya软件渲染器)”；</span></span><br><span class="line"><span class="keyword">text</span> -al left -l <span class="string">&quot;\&quot;BOT\&quot; 设置(仅限Maya软件渲染器)&quot;</span>;</span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">3</span> -adj <span class="number">3</span></span><br><span class="line">-cw <span class="number">1</span> <span class="number">170</span> -cw <span class="number">2</span> <span class="number">2</span> -cal <span class="number">3</span> center</span><br><span class="line">-cat <span class="number">1</span> both <span class="number">0</span> -cat <span class="number">3</span> both <span class="number">0</span></span><br><span class="line">-rat <span class="number">1</span> bottom <span class="number">0</span> -rat <span class="number">2</span> bottom <span class="number">0</span> -rat <span class="number">3</span> bottom <span class="number">0</span></span><br><span class="line">FTM_BOTRow;</span><br><span class="line"><span class="keyword">intFieldGrp</span> -nf <span class="number">1</span> -adj <span class="number">2</span> -cw <span class="number">1</span> <span class="number">50</span> -cat <span class="number">1</span> left <span class="number">0</span> -cat <span class="number">2</span> both <span class="number">5</span> -l <span class="string">&quot;阈值&quot;</span> -el <span class="string">&quot;&quot;</span> -v1 <span class="number">1024</span> FTM_BOTResFieldGrp;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;设置 BOT&quot;</span> -c (<span class="string">&quot;FTM_BOTSetup 1 &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;取消设置 BOT&quot;</span> -c (<span class="string">&quot;FTM_BOTSetup 0 &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="keyword">text</span> -al left -l <span class="string">&quot;\&quot;.map\&quot; 设置（仅限mental ray）&quot;</span>;</span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">3</span> -adj <span class="number">3</span></span><br><span class="line">-cw <span class="number">1</span> <span class="number">170</span> -cw <span class="number">2</span> <span class="number">2</span> -cal <span class="number">3</span> center</span><br><span class="line">-cat <span class="number">1</span> both <span class="number">0</span> -cat <span class="number">3</span> both <span class="number">0</span></span><br><span class="line">-rat <span class="number">1</span> bottom <span class="number">0</span> -rat <span class="number">2</span> bottom <span class="number">0</span> -rat <span class="number">3</span> bottom <span class="number">0</span></span><br><span class="line">FTM_MAPRow;</span><br><span class="line"><span class="keyword">intFieldGrp</span> -nf <span class="number">1</span> -adj <span class="number">2</span> -cw <span class="number">1</span> <span class="number">50</span> -cat <span class="number">1</span> left <span class="number">0</span> -cat <span class="number">2</span> both <span class="number">5</span> -l <span class="string">&quot;阈值&quot;</span> -el <span class="string">&quot;&quot;</span> -v1 <span class="number">1024</span> FTM_MAPResFieldGrp;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;设置 .map&quot;</span> -c (<span class="string">&quot;FTM_MAPSetup 1 &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;取消设置 .map&quot;</span> -c (<span class="string">&quot;FTM_MAPSetup 0 &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="comment">// Filter setup area</span></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">10</span>;</span><br><span class="line"><span class="keyword">text</span> -fn <span class="string">&quot;boldLabelFont&quot;</span> -al left -l <span class="string">&quot;过滤器设置（仅限Maya的“文件”/“sdFileTex”节点）&quot;</span>;</span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">2</span> -cw <span class="number">1</span> <span class="number">120</span> -cat <span class="number">2</span> left <span class="number">30</span> -adj <span class="number">2</span> -cal <span class="number">2</span> center -rat <span class="number">1</span> bottom <span class="number">0</span> FTM_FilterTypeRow;</span><br><span class="line"><span class="keyword">optionMenu</span> -l <span class="string">&quot;过滤器类型&quot;</span> FTM_FilterTypeMenu;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Off&quot;</span>;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Mipmap&quot;</span>;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Box&quot;</span>;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Quadratic&quot;</span>;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Quartic&quot;</span>;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Gaussian&quot;</span>;</span><br><span class="line"><span class="keyword">optionMenu</span> -e -v <span class="string">&quot;Mipmap&quot;</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FilterTypeRow|FTM_FilterTypeMenu&quot;</span>);</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;设置过滤器类型 &quot;</span> -c (<span class="string">&quot;FTM_FilterSetup &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="comment">// Format conversion area</span></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">10</span>;</span><br><span class="line"><span class="keyword">text</span> -fn <span class="string">&quot;boldLabelFont&quot;</span> -al left -l <span class="string">&quot;纹理文件格式转换&quot;</span>;</span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">3</span>-cw <span class="number">1</span> <span class="number">80</span> -cw <span class="number">3</span> <span class="number">80</span> -cat <span class="number">1</span> left <span class="number">0</span> -cat <span class="number">2</span> left <span class="number">10</span> -cat <span class="number">3</span> left <span class="number">10</span> -adj <span class="number">2</span> -cal <span class="number">2</span> center FTM_FCRow;</span><br><span class="line"><span class="keyword">optionMenu</span> -l <span class="string">&quot;源：&quot;</span> FTM_FCSourceMenu;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;\*&quot;</span>;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_FCAllFormats[];</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($FTM_FCAllFormats);$i++)</span><br><span class="line"><span class="keyword">menuItem</span> -label $FTM_FCAllFormats[$i];</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;选择匹配项&quot;</span> -c (<span class="string">&quot;select -r `FTM_FCGetMatches \&quot;&quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FCRow|FTM_FCSourceMenu\&quot;`;&quot;</span>);</span><br><span class="line"><span class="keyword">optionMenu</span> -l <span class="string">&quot;转换&quot;</span> FTM_FCTargetMenu;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($FTM_FCAllFormats);$i++)</span><br><span class="line"><span class="keyword">menuItem</span> -label $FTM_FCAllFormats[$i];</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="keyword">checkBox</span> -l <span class="string">&quot;处理序列纹理。&quot;</span> -al <span class="string">&quot;left&quot;</span> -v <span class="number">0</span> FTM_SeqCheck;</span><br><span class="line"><span class="keyword">checkBox</span> -l <span class="string">&quot;更新路径信息。&quot;</span> -al <span class="string">&quot;left&quot;</span> -v <span class="number">1</span> FTM_UpdateCheck;</span><br><span class="line"><span class="keyword">checkBox</span> -l <span class="string">&quot;删除原始纹理。小心使用！&quot;</span> -al <span class="string">&quot;left&quot;</span> -v <span class="number">0</span> -en <span class="number">1</span> FTM_RemoveCheck;</span><br><span class="line"><span class="keyword">checkBox</span> -e -onc (<span class="string">&quot;checkBox -e -en 1 &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_RemoveCheck&quot;</span>)</span><br><span class="line">-ofc (<span class="string">&quot;checkBox -e -en 0 &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_RemoveCheck&quot;</span>)</span><br><span class="line">($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_UpdateCheck&quot;</span>);</span><br><span class="line"><span class="keyword">button</span> -l <span class="string">&quot;转换&quot;</span> -h <span class="number">25</span> -c (<span class="string">&quot;FTM_FCGatherInfo &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="keyword">setParent</span> $FTM_Tabs;</span><br><span class="line"><span class="comment">//“帮助”选项卡</span></span><br><span class="line"><span class="keyword">string</span> $FTM_HelpForm = <span class="string">`formLayout`</span>;</span><br><span class="line"><span class="comment">//描述区域</span></span><br><span class="line"><span class="keyword">scrollField</span> -ww true -editable false FTM_HelpField;</span><br><span class="line"><span class="comment">//关于文件纹理管理器</span></span><br><span class="line"><span class="keyword">setParent</span> $FTM_HelpForm;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_NEW_MAYA;</span><br><span class="line"><span class="keyword">string</span> $FTM_AboutFrame;</span><br><span class="line"><span class="keyword">if</span> ($FTM_NEW_MAYA) $FTM_AboutFrame = <span class="string">`frameLayout -l &quot;关于 FileTextureManager&quot; -fn boldLabelFont -cll 0 -bv true  -li 5`</span>;</span><br><span class="line"><span class="keyword">else</span> $FTM_AboutFrame = <span class="string">`frameLayout -l &quot;关于 FileTextureManager&quot; -la top -fn boldLabelFont -cll 0 -bv true  -li 5`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_AboutForm = <span class="string">`formLayout`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_AboutTextLeft = <span class="string">`text -l &quot;脚本名称 :\n更新时间 :\n作者 :\n汉化 :\n邮箱 :\n\n保留所有权&quot; -al left`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_AboutTextRight = <span class="string">`text -l &quot;FileTextureManager.mel\nMay, 2011\n叶(叶峰)\n三岁豆Er\nCrow.Yeh@gmail.com&quot; -al left`</span>;</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-af $FTM_AboutTextLeft left <span class="number">10</span></span><br><span class="line">-af $FTM_AboutTextLeft top <span class="number">5</span></span><br><span class="line">-an $FTM_AboutTextLeft right</span><br><span class="line">-af $FTM_AboutTextLeft bottom <span class="number">5</span></span><br><span class="line">-ac $FTM_AboutTextRight left <span class="number">10</span> $FTM_AboutTextLeft</span><br><span class="line">-af $FTM_AboutTextRight top <span class="number">5</span></span><br><span class="line">-an $FTM_AboutTextRight right</span><br><span class="line">-an $FTM_AboutTextRight bottom</span><br><span class="line">$FTM_AboutForm;</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-ac FTM_HelpField bottom <span class="number">5</span> $FTM_AboutFrame</span><br><span class="line">-af FTM_HelpField top <span class="number">5</span></span><br><span class="line">-af FTM_HelpField left <span class="number">0</span></span><br><span class="line">-af FTM_HelpField right <span class="number">0</span></span><br><span class="line">-an $FTM_AboutFrame top</span><br><span class="line">-af $FTM_AboutFrame left <span class="number">0</span></span><br><span class="line">-af $FTM_AboutFrame right <span class="number">0</span></span><br><span class="line">-af $FTM_AboutFrame bottom <span class="number">0</span></span><br><span class="line">$FTM_HelpForm;</span><br><span class="line"><span class="comment">//Function form.</span></span><br><span class="line"><span class="keyword">setParent</span> $FTM_MainForm;</span><br><span class="line"><span class="keyword">string</span> $FTM_FunctionForm = <span class="string">`formLayout -h 30 -numberOfDivisions 100`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_CopyButton = <span class="string">`button -l &quot;复制&quot;</span></span><br><span class="line"><span class="string">-c (&quot;FTM_Function \&quot;Copy\&quot; &quot; + $FTM_OptionColumn)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_MoveButton = <span class="string">`button -l &quot;剪切&quot;</span></span><br><span class="line"><span class="string">-c (&quot;FTM_Function \&quot;Move\&quot; &quot; + $FTM_OptionColumn)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_SetButton = <span class="string">`button -l &quot;指定&quot;</span></span><br><span class="line"><span class="string">-c (&quot;FTM_Function \&quot;Set\&quot; &quot; + $FTM_OptionColumn)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_ResetButton = <span class="string">`button -l &quot;重置&quot; -c (&quot;FTM_ResetUI &quot;+$FTM_OptionColumn+&quot; &quot;+$FTM_AnalysisColumn+&quot; &quot;+$FTM_ExtraFunctionColumn+&quot; &quot;+$FTM_Tabs+&quot; &quot;+$FTM_CopyButton+&quot; &quot;+$FTM_MoveButton+&quot; &quot;+$FTM_SetButton)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_CloseButton = <span class="string">`button -l &quot;退出&quot;</span></span><br><span class="line"><span class="string">-c (&quot;deleteUI FTM_MainWindow; select -cl;global string $FTM_MayaWorkSpace; workspace -dir $FTM_MayaWorkSpace;&quot;)`</span>;</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-ap $FTM_CopyButton right <span class="number">1</span> <span class="number">20</span></span><br><span class="line">-af $FTM_CopyButton top <span class="number">0</span></span><br><span class="line">-af $FTM_CopyButton left <span class="number">0</span></span><br><span class="line">-af $FTM_CopyButton bottom <span class="number">0</span></span><br><span class="line">-ap $FTM_MoveButton left <span class="number">1</span> <span class="number">20</span></span><br><span class="line">-ap $FTM_MoveButton right <span class="number">1</span> <span class="number">40</span></span><br><span class="line">-af $FTM_MoveButton top <span class="number">0</span></span><br><span class="line">-af $FTM_MoveButton bottom <span class="number">0</span></span><br><span class="line">-ap $FTM_SetButton left <span class="number">1</span> <span class="number">40</span></span><br><span class="line">-ap $FTM_SetButton right <span class="number">1</span> <span class="number">60</span></span><br><span class="line">-af $FTM_SetButton top <span class="number">0</span></span><br><span class="line">-af $FTM_SetButton bottom <span class="number">0</span></span><br><span class="line">-af $FTM_ResetButton top <span class="number">0</span></span><br><span class="line">-af $FTM_ResetButton bottom <span class="number">0</span></span><br><span class="line">-ap $FTM_ResetButton left <span class="number">1</span> <span class="number">60</span></span><br><span class="line">-ap $FTM_ResetButton right <span class="number">1</span> <span class="number">80</span></span><br><span class="line">-ap $FTM_CloseButton left <span class="number">1</span> <span class="number">80</span></span><br><span class="line">-af $FTM_CloseButton top <span class="number">0</span></span><br><span class="line">-af $FTM_CloseButton right <span class="number">0</span></span><br><span class="line">-af $FTM_CloseButton bottom <span class="number">0</span></span><br><span class="line">$FTM_FunctionForm;</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-af $FTM_Tabs top <span class="number">0</span></span><br><span class="line">-af $FTM_Tabs left <span class="number">0</span></span><br><span class="line">-af $FTM_Tabs right <span class="number">0</span></span><br><span class="line">-ac $FTM_Tabs bottom <span class="number">3</span> $FTM_FunctionForm</span><br><span class="line">-af $FTM_FunctionForm left <span class="number">0</span></span><br><span class="line">-af $FTM_FunctionForm right <span class="number">0</span></span><br><span class="line">-af $FTM_FunctionForm bottom <span class="number">0</span></span><br><span class="line">-an $FTM_FunctionForm top</span><br><span class="line">$FTM_MainForm;</span><br><span class="line"></span><br><span class="line">FTM_EditUIControl $FTM_OptionColumn $FTM_HelpForm;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $tabCC = <span class="string">&quot;button -e -en 0 &quot;</span> + $FTM_CopyButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;button -e -en 0 &quot;</span> + $FTM_MoveButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;button -e -en 0 &quot;</span> + $FTM_SetButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;if (`tabLayout -q -sti &quot;</span> + $FTM_Tabs + <span class="string">&quot;` == 1) &#123;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;button -e -en 1 &quot;</span> + $FTM_CopyButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;button -e -en 1 &quot;</span> + $FTM_MoveButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;button -e -en 1 &quot;</span> + $FTM_SetButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">tabLayout</span> -e -tl $FTM_OptionForm <span class="string">&quot;基本功能&quot;</span> -tl $FTM_ExtraFunctionScroll <span class="string">&quot;附加功能&quot;</span> -tl $FTM_HelpForm <span class="string">&quot;帮助&quot;</span> -psc $tabCC $FTM_Tabs;</span><br><span class="line"><span class="keyword">showWindow</span> FTM_MainWindow;</span><br><span class="line"><span class="comment">//确保其他窗口将以适当的大小显示</span></span><br><span class="line"><span class="keyword">windowPref</span> -enableAll true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">FileTextureManager;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////End//////////////////////////////////</span></span><br></pre></td></tr></table></figure><h4 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h4><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br><span class="line">1547</span><br><span class="line">1548</span><br><span class="line">1549</span><br><span class="line">1550</span><br><span class="line">1551</span><br><span class="line">1552</span><br><span class="line">1553</span><br><span class="line">1554</span><br><span class="line">1555</span><br><span class="line">1556</span><br><span class="line">1557</span><br><span class="line">1558</span><br><span class="line">1559</span><br><span class="line">1560</span><br><span class="line">1561</span><br><span class="line">1562</span><br><span class="line">1563</span><br><span class="line">1564</span><br><span class="line">1565</span><br><span class="line">1566</span><br><span class="line">1567</span><br><span class="line">1568</span><br><span class="line">1569</span><br><span class="line">1570</span><br><span class="line">1571</span><br><span class="line">1572</span><br><span class="line">1573</span><br><span class="line">1574</span><br><span class="line">1575</span><br><span class="line">1576</span><br><span class="line">1577</span><br><span class="line">1578</span><br><span class="line">1579</span><br><span class="line">1580</span><br><span class="line">1581</span><br><span class="line">1582</span><br><span class="line">1583</span><br><span class="line">1584</span><br><span class="line">1585</span><br><span class="line">1586</span><br><span class="line">1587</span><br><span class="line">1588</span><br><span class="line">1589</span><br><span class="line">1590</span><br><span class="line">1591</span><br><span class="line">1592</span><br><span class="line">1593</span><br><span class="line">1594</span><br><span class="line">1595</span><br><span class="line">1596</span><br><span class="line">1597</span><br><span class="line">1598</span><br><span class="line">1599</span><br><span class="line">1600</span><br><span class="line">1601</span><br><span class="line">1602</span><br><span class="line">1603</span><br><span class="line">1604</span><br><span class="line">1605</span><br><span class="line">1606</span><br><span class="line">1607</span><br><span class="line">1608</span><br><span class="line">1609</span><br><span class="line">1610</span><br><span class="line">1611</span><br><span class="line">1612</span><br><span class="line">1613</span><br><span class="line">1614</span><br><span class="line">1615</span><br><span class="line">1616</span><br><span class="line">1617</span><br><span class="line">1618</span><br><span class="line">1619</span><br><span class="line">1620</span><br><span class="line">1621</span><br><span class="line">1622</span><br><span class="line">1623</span><br><span class="line">1624</span><br><span class="line">1625</span><br><span class="line">1626</span><br><span class="line">1627</span><br><span class="line">1628</span><br><span class="line">1629</span><br><span class="line">1630</span><br><span class="line">1631</span><br><span class="line">1632</span><br><span class="line">1633</span><br><span class="line">1634</span><br><span class="line">1635</span><br><span class="line">1636</span><br><span class="line">1637</span><br><span class="line">1638</span><br><span class="line">1639</span><br><span class="line">1640</span><br><span class="line">1641</span><br><span class="line">1642</span><br><span class="line">1643</span><br><span class="line">1644</span><br><span class="line">1645</span><br><span class="line">1646</span><br><span class="line">1647</span><br><span class="line">1648</span><br><span class="line">1649</span><br><span class="line">1650</span><br><span class="line">1651</span><br><span class="line">1652</span><br><span class="line">1653</span><br><span class="line">1654</span><br><span class="line">1655</span><br><span class="line">1656</span><br><span class="line">1657</span><br><span class="line">1658</span><br><span class="line">1659</span><br><span class="line">1660</span><br><span class="line">1661</span><br><span class="line">1662</span><br><span class="line">1663</span><br><span class="line">1664</span><br><span class="line">1665</span><br><span class="line">1666</span><br><span class="line">1667</span><br><span class="line">1668</span><br><span class="line">1669</span><br><span class="line">1670</span><br><span class="line">1671</span><br><span class="line">1672</span><br><span class="line">1673</span><br><span class="line">1674</span><br><span class="line">1675</span><br><span class="line">1676</span><br><span class="line">1677</span><br><span class="line">1678</span><br><span class="line">1679</span><br><span class="line">1680</span><br><span class="line">1681</span><br><span class="line">1682</span><br><span class="line">1683</span><br><span class="line">1684</span><br><span class="line">1685</span><br><span class="line">1686</span><br><span class="line">1687</span><br><span class="line">1688</span><br><span class="line">1689</span><br><span class="line">1690</span><br><span class="line">1691</span><br><span class="line">1692</span><br><span class="line">1693</span><br><span class="line">1694</span><br><span class="line">1695</span><br><span class="line">1696</span><br><span class="line">1697</span><br><span class="line">1698</span><br><span class="line">1699</span><br><span class="line">1700</span><br><span class="line">1701</span><br><span class="line">1702</span><br><span class="line">1703</span><br><span class="line">1704</span><br><span class="line">1705</span><br><span class="line">1706</span><br><span class="line">1707</span><br><span class="line">1708</span><br><span class="line">1709</span><br><span class="line">1710</span><br><span class="line">1711</span><br><span class="line">1712</span><br><span class="line">1713</span><br><span class="line">1714</span><br><span class="line">1715</span><br><span class="line">1716</span><br><span class="line">1717</span><br><span class="line">1718</span><br><span class="line">1719</span><br><span class="line">1720</span><br><span class="line">1721</span><br><span class="line">1722</span><br><span class="line">1723</span><br><span class="line">1724</span><br><span class="line">1725</span><br><span class="line">1726</span><br><span class="line">1727</span><br><span class="line">1728</span><br><span class="line">1729</span><br><span class="line">1730</span><br><span class="line">1731</span><br><span class="line">1732</span><br><span class="line">1733</span><br><span class="line">1734</span><br><span class="line">1735</span><br><span class="line">1736</span><br><span class="line">1737</span><br><span class="line">1738</span><br><span class="line">1739</span><br><span class="line">1740</span><br><span class="line">1741</span><br><span class="line">1742</span><br><span class="line">1743</span><br><span class="line">1744</span><br><span class="line">1745</span><br><span class="line">1746</span><br><span class="line">1747</span><br><span class="line">1748</span><br><span class="line">1749</span><br><span class="line">1750</span><br><span class="line">1751</span><br><span class="line">1752</span><br><span class="line">1753</span><br><span class="line">1754</span><br><span class="line">1755</span><br><span class="line">1756</span><br><span class="line">1757</span><br><span class="line">1758</span><br><span class="line">1759</span><br><span class="line">1760</span><br><span class="line">1761</span><br><span class="line">1762</span><br><span class="line">1763</span><br><span class="line">1764</span><br><span class="line">1765</span><br><span class="line">1766</span><br><span class="line">1767</span><br><span class="line">1768</span><br><span class="line">1769</span><br><span class="line">1770</span><br><span class="line">1771</span><br><span class="line">1772</span><br><span class="line">1773</span><br><span class="line">1774</span><br><span class="line">1775</span><br><span class="line">1776</span><br><span class="line">1777</span><br><span class="line">1778</span><br><span class="line">1779</span><br><span class="line">1780</span><br><span class="line">1781</span><br><span class="line">1782</span><br><span class="line">1783</span><br><span class="line">1784</span><br><span class="line">1785</span><br><span class="line">1786</span><br><span class="line">1787</span><br><span class="line">1788</span><br><span class="line">1789</span><br><span class="line">1790</span><br><span class="line">1791</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Procedure Name :FileTextureManager</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///Version :4.0.4</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Updated :Aug 27, 2011</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Author :Crow Yeh (YE Feng)</span></span><br><span class="line"><span class="comment">/// Contact :crow.yeh@gmail.com</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// History :</span></span><br><span class="line"><span class="comment">///v4.0.4Fixed problem of using it in Maya 2010.</span></span><br><span class="line"><span class="comment">///v4.0.3Support Maya version up to 2012.</span></span><br><span class="line"><span class="comment">///v4.0.2Tiny bugs fixed.</span></span><br><span class="line"><span class="comment">///v4.0.1Renamed a variable to avoid potential conflicts.</span></span><br><span class="line"><span class="comment">///v4.0Now compatible with Maya 2011</span></span><br><span class="line"><span class="comment">///v3.4Tiny bug fix</span></span><br><span class="line"><span class="comment">///v3.3Fixed a bug that dselects needed file nodes when user checks</span></span><br><span class="line"><span class="comment">///checkBoxes not supposed to be checked.</span></span><br><span class="line"><span class="comment">///v3.2Fixed a bug that fails to recognise &#x27;\&#x27; as path separator</span></span><br><span class="line"><span class="comment">///under OS other than Windows.</span></span><br><span class="line"><span class="comment">///Extra functions now supports mentalray.</span></span><br><span class="line"><span class="comment">///v3.1Adds support (only basic functions) for Maya</span></span><br><span class="line"><span class="comment">///psdFileTex node type and mentalray mentalRayTexture</span></span><br><span class="line"><span class="comment">///node type.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Description :</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///File Texture Manager works on Windows/IRIX/Linux/MAC, manages file textures in a handy way.</span></span><br><span class="line"><span class="comment">///FTM&#x27;s basic functions:</span></span><br><span class="line"><span class="comment">///1. and give texture existence report.</span></span><br><span class="line"><span class="comment">///2. Copy or move the original texture files to user defined path (customizable).</span></span><br><span class="line"><span class="comment">///3. Update file textures&#x27; path info.</span></span><br><span class="line"><span class="comment">///4. Handle path strings. eg. replace string, add prefix, append suffix...</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///FTM&#x27;s extra fuctions:</span></span><br><span class="line"><span class="comment">///1. Substitute file texture&#x27;s path root string. eg. redirecting sourceiamges...</span></span><br><span class="line"><span class="comment">///2. Memory efficiency setup for textures. (BOT for Maya and .map for mentalray.)</span></span><br><span class="line"><span class="comment">///3. Filter type batch set.</span></span><br><span class="line"><span class="comment">///4. Texture file format conversion.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// How to use :</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///Put the script in your scripts folder then start Maya. Type</span></span><br><span class="line"><span class="comment">///and execute&quot;FileTextureManager&quot; in command line or Script</span></span><br><span class="line"><span class="comment">///Editor, an UI window will appear. Then follow the help in the UI</span></span><br><span class="line"><span class="comment">///window to finish your job. Have fun!</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Inputs :None</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// Return :None</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// All Rights Reserved .</span></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////</span></span><br><span class="line"><span class="comment">// SCRIPT Starts //</span></span><br><span class="line"><span class="comment">///////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Procedure to check selection</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">int</span> FTM_SelCheck(<span class="keyword">string</span> $nodes[])&#123;</span><br><span class="line"><span class="keyword">int</span> $sel = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($nodes))</span><br><span class="line">$sel = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">confirmDialog</span> -t <span class="string">&quot;File Texture Manager&quot;</span> -m <span class="string">&quot;At least one file texture node must be selected!&quot;</span> -b <span class="string">&quot;OK&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> $sel;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Procedure to remind user that job finished.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> FTM_END()&#123;</span><br><span class="line"><span class="keyword">confirmDialog</span> -t <span class="string">&quot;File Texture Manager&quot;</span> -m <span class="string">&quot;Job finished.\nRefer to Script Editor for details.&quot;</span> -ma center -b <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Procedure to give logs</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> FTM_Log (<span class="keyword">string</span> $type, <span class="keyword">string</span> $node, <span class="keyword">string</span> $log) &#123;</span><br><span class="line"><span class="keyword">string</span> $finLog;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($node))</span><br><span class="line">$log = $node + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$log = <span class="string">&quot;\t&quot;</span> + $log + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="keyword">switch</span> ($type) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;start&quot;</span>:</span><br><span class="line">$finLog = <span class="string">&quot;\n***************************************************************************************************************\n\</span></span><br><span class="line"><span class="string">File Texture Manager Log starts...\n\</span></span><br><span class="line"><span class="string">***************************************************************************************************************\n&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;end&quot;</span>:</span><br><span class="line">$finLog = <span class="string">&quot;***************************************************************************************************************\n\</span></span><br><span class="line"><span class="string">File Texture Manager Log ends...\n\</span></span><br><span class="line"><span class="string">***************************************************************************************************************\n&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">$finLog = $log;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">print</span> $finLog;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Get the right format of path(folder) to match current OS.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">string</span> FTM_GetPath (<span class="keyword">string</span> $FTM_FileOrPath, <span class="keyword">string</span> $FTM_OldPath)</span><br><span class="line"><span class="comment">//$FTM_FileOrPathInput type: file or path</span></span><br><span class="line"><span class="comment">//$FTM_OldPathThe input</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//Do not use &#x27;fromNativePath&#x27; here</span></span><br><span class="line"><span class="comment">//that only works on Windows!</span></span><br><span class="line">$FTM_OldPath = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_OldPath &quot;/&quot;`</span>;</span><br><span class="line"><span class="comment">//Only want the path.</span></span><br><span class="line"><span class="keyword">if</span> ($FTM_FileOrPath == <span class="string">&quot;file&quot;</span>)</span><br><span class="line">$FTM_OldPath = <span class="string">`dirname $FTM_OldPath`</span>;</span><br><span class="line"><span class="comment">//Get rid of the slash at the end.</span></span><br><span class="line">$FTM_OldPath = <span class="string">`substitute &quot;/*$&quot; $FTM_OldPath &quot;&quot;`</span>;</span><br><span class="line"><span class="comment">//Get the right path.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_RightPath;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_OldPath)) $FTM_RightPath = <span class="string">`toNativePath ($FTM_OldPath + &quot;/&quot;)`</span>;</span><br><span class="line"><span class="keyword">return</span> $FTM_RightPath;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Get the right format of input file&#x27;s fullname (including path) to match current OS.</span></span><br><span class="line"><span class="comment">// Return a string array, the first element is the right format of the input file&#x27;s</span></span><br><span class="line"><span class="comment">// fullname (including path), the second element is the shortname of input file (without path).</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">string</span>[] FTM_GetFile (<span class="keyword">string</span> $FTM_OldFullPath)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_RightPath[];</span><br><span class="line"><span class="keyword">string</span> $FTM_PathElements[];</span><br><span class="line"><span class="keyword">int</span> $FTM_PathElementsSize;</span><br><span class="line"><span class="comment">// fullname</span></span><br><span class="line">$FTM_OldFullPath = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_OldFullPath &quot;/&quot;`</span>;</span><br><span class="line">$FTM_RightPath[<span class="number">0</span>] = <span class="string">`toNativePath $FTM_OldFullPath`</span>;</span><br><span class="line">$FTM_PathElementsSize = <span class="string">`tokenize $FTM_OldFullPath &quot;/&quot; $FTM_PathElements`</span>;</span><br><span class="line">$FTM_RightPath[<span class="number">1</span>] = $FTM_PathElements[$FTM_PathElementsSize - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">return</span> $FTM_RightPath;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Analyse all the file texture nodes in current scene.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">string</span>[] FTM_FileTextureAnalyst ()</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// All the file texture nodes maybe point to texture files in different paths(folders).</span></span><br><span class="line"><span class="comment">// Here I use  &quot;group&quot; to indicate different paths , which means there are n &quot;groups&quot; of</span></span><br><span class="line"><span class="comment">// different paths if the file texture nodes point to files in n different paths.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The trick is to have an string array $FTM_Groups[], within which every element has corresponding</span></span><br><span class="line"><span class="comment">// path and nodes pointing to that path are concatenated togather with a &quot;*&quot;, which is not supposed to appear in path or name.</span></span><br><span class="line"><span class="comment">// Every element has a form style of &quot;path*node1*node2*node3...&quot;</span></span><br><span class="line"><span class="comment">// Leave $FTM_Groups[0] for empty path, which means node&#x27;s texture file was not specified.</span></span><br><span class="line"><span class="comment">// Leave $FTM_Groups[1] for files without path, which means only texture file&#x27;s short name was presented but path info was missing.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// All the file texture nodes found in current scene.</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $lsCmd;</span><br><span class="line"><span class="keyword">string</span> $FTM_Files[] = <span class="keyword">eval</span>($lsCmd);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Different groups.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_Groups[];</span><br><span class="line"><span class="keyword">int</span> $FTM_GroupsSize;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_Files))&#123;</span><br><span class="line">$FTM_Groups[<span class="number">0</span>] = <span class="string">&quot;FTM_EmptySocket_FTM&quot;</span>;</span><br><span class="line">$FTM_Groups[<span class="number">1</span>] = <span class="string">&quot;FTM_MissingPathSocket_FTM&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Figure out how many &quot;groups&quot; there are in current scene, and put each file texture node</span></span><br><span class="line"><span class="comment">// into proper &quot;group&quot;.</span></span><br><span class="line"><span class="keyword">for</span> ($eachFile <span class="keyword">in</span> $FTM_Files)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_GroupsSize = <span class="keyword">size</span>($FTM_Groups);</span><br><span class="line"><span class="comment">// Get the path of current file texture node</span></span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentFullPath = substituteAll (<span class="string">&quot;\\\\&quot;</span>, <span class="string">`getAttr ($eachFile + &quot;.fileTextureName&quot;)`</span>, <span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentPath = <span class="keyword">dirname</span> ($FTM_CurrentFullPath);</span><br><span class="line"></span><br><span class="line"><span class="comment">// File texutre was specified.</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_CurrentPath))</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Compare current path to all &quot;groups&quot; have been found. If matches then append current node</span></span><br><span class="line"><span class="comment">// to current &quot;group&quot; and exist the compare loop immediately.</span></span><br><span class="line"><span class="comment">// Remember that socket [0] is kept for nodes without texture file specified</span></span><br><span class="line"><span class="comment">// Remember that socket [1] is kept for nodes with texture file specified but with the path info missing</span></span><br><span class="line"><span class="keyword">for</span> ($j=<span class="number">2</span>; $j&lt;$FTM_GroupsSize; $j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $buffer[];</span><br><span class="line"><span class="keyword">tokenize</span> $FTM_Groups[$j] <span class="string">&quot;*&quot;</span> $buffer;</span><br><span class="line"><span class="comment">// Get the path of current &quot;group&quot;.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_OldPath =  $buffer[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">string</span> $cmp1 = $FTM_CurrentPath;</span><br><span class="line"><span class="keyword">string</span> $cmp2 = $FTM_OldPath;</span><br><span class="line"><span class="comment">// Windows is not case sensitive to path</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`about -nt`</span>) &#123;</span><br><span class="line">$cmp1 = <span class="keyword">tolower</span>($FTM_CurrentPath);</span><br><span class="line">$cmp2 = <span class="keyword">tolower</span>($FTM_OldPath);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Compare current path to all &quot;groups&quot; have been found.</span></span><br><span class="line"><span class="keyword">if</span> ($cmp1 == $cmp2)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Append current node to current group</span></span><br><span class="line"><span class="keyword">string</span> $tmp = $FTM_Groups[$j];</span><br><span class="line">$tmp += <span class="string">&quot;*&quot;</span> + $eachFile;</span><br><span class="line">$FTM_Groups[$j] = $tmp;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// No &quot;group&quot; matches means new &quot;group&quot; was found.</span></span><br><span class="line"><span class="keyword">if</span> ($j &gt;= $FTM_GroupsSize)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Create a new &quot;group&quot; and append current file texure node.</span></span><br><span class="line">$FTM_Groups[$FTM_GroupsSize] = $FTM_CurrentPath + <span class="string">&quot;*&quot;</span> + $eachFile;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// File texture was specified but the path info was missing</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">size</span>($FTM_CurrentFullPath))&#123;</span><br><span class="line"><span class="keyword">string</span> $tmp = $FTM_Groups[<span class="number">1</span>];</span><br><span class="line">$tmp += <span class="string">&quot;*&quot;</span> + $eachFile;</span><br><span class="line">$FTM_Groups[<span class="number">1</span>] = $tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// File texture was not specified yet. Append current node to the first socket of groups</span></span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">string</span> $tmp = $FTM_Groups[<span class="number">0</span>];</span><br><span class="line">$tmp += <span class="string">&quot;*&quot;</span> + $eachFile;</span><br><span class="line">$FTM_Groups[<span class="number">0</span>] = $tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> -cl;</span><br><span class="line"><span class="keyword">return</span> $FTM_Groups;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Edit the UI Controls after they&#x27;ve been built</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> FTM_EditUIControl (<span class="keyword">string</span> $FTM_OptionColumn, <span class="keyword">string</span> $FTM_HelpForm)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Operation mode</span></span><br><span class="line"><span class="keyword">radioButtonGrp</span> -e -on1 (<span class="string">&quot;textFieldButtonGrp -e -en 0 -tx \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_SourceDirectoryField&quot;</span>)</span><br><span class="line">-on2 (<span class="string">&quot;textFieldButtonGrp -e -en 1 -tx \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_SourceDirectoryField&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_OperationMode&quot;</span>);</span><br><span class="line"><span class="comment">// Set source directory</span></span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -bc (<span class="string">&quot;FTM_BrowseCmd \&quot;file\&quot; \&quot;&quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_SourceDirectoryField\&quot; \&quot;Set_S.D.\&quot; 0&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_SourceDirectoryField&quot;</span>);</span><br><span class="line"><span class="comment">// Set target directory</span></span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -bc (<span class="string">&quot;FTM_BrowseCmd \&quot;path\&quot; \&quot;&quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_TargetDirectoryField\&quot; \&quot;Set_T.D.\&quot; 4&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_TargetDirectoryField&quot;</span>);</span><br><span class="line"><span class="comment">// Make new folder</span></span><br><span class="line"><span class="keyword">checkBoxGrp</span> -e -on1 (<span class="string">&quot;textFieldGrp -e -en 1 -text \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_NewFolderNameField&quot;</span>)</span><br><span class="line">-of1 (<span class="string">&quot;textFieldGrp -e -en 0 -text \&quot;MyTextureFiles\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_NewFolderNameField&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_MakeFolderChecker&quot;</span>);</span><br><span class="line"><span class="comment">// Add prefix</span></span><br><span class="line"><span class="keyword">checkBox</span> -e -onc (<span class="string">&quot;textField -e -en 1 -text \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_AddPrefixRow|FTM_PrefixField&quot;</span>)</span><br><span class="line">-ofc (<span class="string">&quot;textField -e -en 0 -text \&quot;prefix_\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_AddPrefixRow|FTM_PrefixField&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_AddPrefixRow|FTM_AddPrefixChecker&quot;</span>);</span><br><span class="line"><span class="comment">// Add suffix</span></span><br><span class="line"><span class="keyword">checkBox</span> -e -onc (<span class="string">&quot;textField -e -en 1 -text \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_AddSuffixRow|FTM_SuffixField&quot;</span>)</span><br><span class="line">-ofc (<span class="string">&quot;textField -e -en 0 -text \&quot;_suffix\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_AddSuffixRow|FTM_SuffixField&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_AddSuffixRow|FTM_AddSuffixChecker&quot;</span>);</span><br><span class="line"><span class="comment">// Replace string</span></span><br><span class="line"><span class="keyword">checkBoxGrp</span> -e -on1 (<span class="string">&quot;textFieldGrp -e -en 1 -text \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_OldStringField; textFieldGrp -e -en 1 -text \&quot;\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_NewStringField&quot;</span>)</span><br><span class="line">-of1 (<span class="string">&quot;textFieldGrp -e -en 0 -text \&quot;OldString\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_OldStringField; textFieldGrp -e -en 0 -text \&quot;NewString\&quot; &quot;</span> + $FTM_OptionColumn + <span class="string">&quot;|FTM_NewStringField&quot;</span>)</span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_ReplaceStringChecker&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Help description field</span></span><br><span class="line"><span class="keyword">string</span> $FTM_HelpDescription = <span class="string">&quot;\n[Description]:\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  File Texture Manager works on Windows/IRIX/Linux/MAC, manages file textures in a very handy way.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  FTM basic functions:\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  1. 分析场景文件纹理.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  2. Copy or move the original texture files to user defined path.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  3. Update file textures&#x27; path.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  4. Mentalray texture node is supported too.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  FTM extra functions:\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  1. Substitute file texture path&#x27;s root string. eg. redirecting sourceiamges...\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  2. Memory efficiency setup/unset for file textures according to their resolution. Textures larger than Threshold (in either x or y) will be set to use renderer prefered format (BOT for Maya and .map for mentalray) in setup mode. Corresponding memory-efficient file will be automatically generated if needed. When unset, all textures smaller than threshold in both x and y will be set to use normal textures, from which file the memory efficient texture was generated. BOT unset assume normal texture exist in the same directory. Mentalray .map unset will first check if the normal texture exist. If not, FTM will try to extract one from the .map file. Nodes pointing to sequences will be ignored.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  3. Set filter type to specified type for selected file nodes.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  4. Convert texture file format from \&quot;From\&quot; to \&quot;To\&quot; for selected file nodes. If \&quot;From\&quot; is not \&quot;*\&quot;, only file nodes whose texture files format match \&quot;From\&quot; will be handled. For file nodes use image sequence as texture files, the range for conversion need to be specified, so only print out corresponding commands instead of really do the jobs. This function use Maya \&quot;imgcvt\&quot; and mentalray \&quot;imf_copy\&quot; ultility to do the conversion, so make sure them can be found in system executable path.\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;[Work Flow]:\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  Step 1. 分析场景文件纹理.(optional)\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  Step 2. Select scene file textures (nodes) you want to manage by checking on the related checkers in the UI. You can also do this by your own method, Eg. select them in Hypershade.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  Step 3. Set options as needed.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  Step 4. Do copy, move or set by pressing related button.\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;[Tips]:\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  1. Always keep 2 different version for each texture file. Eg. \&quot;abc_LowRes.tga\&quot; is in low resolution while \&quot;abc_HighRes.tga\&quot; is in high resolution. Do your job using low-res textures to speed the interactant. Just remember to use FileTextureManager to reset each file texture to point to the related high-res texture before rendering. (Add prefix, add suffix or even replace string.)\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  2. The FileTextureManager&#x27;s UI does not update dynamically like what Attribute Editor does, so it is better to re-分析场景文件纹理 each time you finish an FTM job. This is not necessary if you do not use the Analyse function at all.\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;[Notes]:\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  1. Final target directory will be equal to target directory plus new folder, if user decide to make a new folder.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  2. Add suffix function has limitation on the texture file name. To be sure it work as desired, the file name must be in a regular format, Eg. \&quot;filename.ext\&quot;, \&quot;filename.[#...#].ext\&quot;, \&quot;filename.ext.[#...#]\&quot;, etc.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  3. Add prfix, add suffix and replace string can be executed at the same time to each file texture. Replace string is caculated first, then add suffix, and add prefix last.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  4. It is highly recommended not to contain \&quot;.\&quot; in prefix, suffix, old string and new string.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  5. Sometimes process fails. The reason may be various. The most possible reason could be one of or both the following two: a. Texture file is not found in the source directory; b. Permission denied on reading or writing or deleting.\n\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;[Details]:\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  1. Analysing scene file textures let you know how many file textures there are in the scene, where there are, whether they exist or not, etc. It also allows user select all the texture files point to same path by only one simple click.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  2. How to choose operation mode depends on different source directory status. If file is there where it point to, use Automatic mode, otherwise use Manual mode.\n&quot;</span>;</span><br><span class="line">$FTM_HelpDescription += <span class="string">&quot;  3. Other functions are pretty definite as marked in the UI.\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">scrollField</span> -e -<span class="keyword">text</span> $FTM_HelpDescription ($FTM_HelpForm + <span class="string">&quot;|FTM_HelpField&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// judge if the input string is format extension, sequence or just part of file basename</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">int</span> FTM_FCWhatIs(<span class="keyword">string</span> $string)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> $isWhat;</span><br><span class="line"><span class="comment">// 0 - format extension</span></span><br><span class="line"><span class="comment">// 1 - sequence number</span></span><br><span class="line"><span class="comment">// 2 - nothing, is just file basename</span></span><br><span class="line"><span class="comment">// 3 - bot</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_FCAllFormats[];</span><br><span class="line">$string = <span class="keyword">tolower</span>($string);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">stringArrayCount</span>($string,$FTM_FCAllFormats))</span><br><span class="line">$isWhat = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">size</span>(<span class="keyword">match</span>(<span class="string">&quot;[0-9]*&quot;</span>,$string)) == <span class="keyword">size</span>($string))</span><br><span class="line">$isWhat = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($string == <span class="string">&quot;bot&quot;</span>)</span><br><span class="line">$isWhat = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$isWhat = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> $isWhat;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// judge texture file format, only according to the possible extension name</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">string</span>[] FTM_FCFileRegularName(<span class="keyword">string</span> $file)</span><br><span class="line">&#123;</span><br><span class="line">$file = substituteAll (<span class="string">&quot;\\\\&quot;</span>, $file, <span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $fileRegularName[] = <span class="keyword">stringToStringArray</span>(<span class="keyword">basename</span>($file,<span class="string">&quot;&quot;</span>),<span class="string">&quot;.&quot;</span>);</span><br><span class="line"><span class="comment">// try to make it like below</span></span><br><span class="line"><span class="comment">// [0] - file name</span></span><br><span class="line"><span class="comment">// [1] - the sequency number if presented, or &quot;&quot;</span></span><br><span class="line"><span class="comment">// [2] - the extension if presented, or &quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $fileName;</span><br><span class="line"><span class="keyword">string</span> $seqNum;</span><br><span class="line"><span class="keyword">string</span> $fileFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (<span class="keyword">size</span>($fileRegularName))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>: <span class="comment">// sick!!!</span></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:<span class="comment">// only file name presented</span></span><br><span class="line">$fileName = $fileRegularName[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:<span class="comment">// the second/last element could be sequence number, format extension or nothing;</span></span><br><span class="line"><span class="keyword">if</span> (FTM_FCWhatIs($fileRegularName[<span class="number">1</span>]) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">$fileName = $fileRegularName[<span class="number">0</span>];</span><br><span class="line">$fileFormat = $fileRegularName[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (FTM_FCWhatIs($fileRegularName[<span class="number">1</span>]) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">$fileName = $fileRegularName[<span class="number">0</span>];</span><br><span class="line">$seqNum = $fileRegularName[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="comment">// FTM_FCWhatIs($fileRegularName[1]) = 2, which means the second/last element is just part of file basename, sick!!!</span></span><br><span class="line">$fileName = <span class="keyword">basename</span>($file,<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>: <span class="comment">// there are 3 or more pieces. consider the last 2 only.</span></span><br><span class="line"><span class="keyword">string</span> $lastPiece = $fileRegularName[<span class="keyword">size</span>($fileRegularName)<span class="number">-1</span>];</span><br><span class="line"><span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">$fileFormat = $lastPiece;</span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>($file);</span><br><span class="line"><span class="comment">// strip the last piece to judge again</span></span><br><span class="line">$lastPiece = $fileRegularName[<span class="keyword">size</span>($fileRegularName)<span class="number">-2</span>];</span><br><span class="line"><span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">$seqNum = $lastPiece;</span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>($fileName);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">$seqNum = $lastPiece;</span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>($file);</span><br><span class="line"><span class="comment">// strip the last piece to judge again</span></span><br><span class="line">$lastPiece = $fileRegularName[<span class="keyword">size</span>($fileRegularName)<span class="number">-2</span>];</span><br><span class="line"><span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">$fileFormat = $lastPiece;</span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>($fileName);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">3</span>) <span class="comment">//bot</span></span><br><span class="line">&#123;</span><br><span class="line">$fileFormat = $fileRegularName[<span class="keyword">size</span>($fileRegularName)<span class="number">-2</span>] + <span class="string">&quot;.bot&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($fileRegularName) == <span class="number">3</span>)</span><br><span class="line">$fileName = $fileRegularName[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">$lastPiece = $fileRegularName[<span class="keyword">size</span>($fileRegularName)<span class="number">-3</span>];</span><br><span class="line"><span class="keyword">if</span> (FTM_FCWhatIs($lastPiece) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">$seqNum = $lastPiece;</span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>(<span class="keyword">basenameEx</span>(<span class="keyword">basenameEx</span>($file)));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$fileName = <span class="keyword">basenameEx</span>(<span class="keyword">basenameEx</span>($file));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="comment">// really sick!!!</span></span><br><span class="line">$fileName = <span class="keyword">basename</span>($file,<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$fileRegularName[<span class="number">0</span>] = $fileName;</span><br><span class="line">$fileRegularName[<span class="number">1</span>] = $seqNum;</span><br><span class="line">$fileRegularName[<span class="number">2</span>] = $fileFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> $fileRegularName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// check string $inputString,replace the first (count backwards) matching string $targetPattern with string $newPattern</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">string</span> FTM_FCSubstituteLastPattern(<span class="keyword">string</span> $inputString, <span class="keyword">string</span> $targetPattern, <span class="keyword">string</span> $newPattern)</span><br><span class="line">&#123;</span><br><span class="line">$inputString = substituteAll(<span class="string">&quot;\\\\&quot;</span>, $inputString, <span class="string">&quot;/&quot;</span>);<span class="comment">// avoid to handle &quot;\&quot; in the path</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//strip everything behind the last string $targetPattern&#x27;s existence</span></span><br><span class="line"><span class="keyword">string</span> $exp1 = <span class="string">&quot;^.*&quot;</span> + $targetPattern + <span class="string">&quot;+&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $noTail = <span class="keyword">match</span>($exp1,$inputString);</span><br><span class="line"></span><br><span class="line"><span class="comment">//replace the last $targetPattern in $noTail with $newPattern</span></span><br><span class="line"><span class="keyword">string</span> $exp2 = $targetPattern + <span class="string">&quot;+$&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $newNoEnd = <span class="keyword">substitute</span>($exp2,$noTail,$newPattern);</span><br><span class="line"></span><br><span class="line"><span class="comment">//replace $noTail part in $inputString with $newNoEnd</span></span><br><span class="line"><span class="comment">// substitute all special characters</span></span><br><span class="line"><span class="keyword">string</span> $badChar[] = &#123;<span class="string">&quot;+&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;^&quot;</span>,<span class="string">&quot;$&quot;</span>,<span class="string">&quot;[&quot;</span>,<span class="string">&quot;]&quot;</span>,<span class="string">&quot;(&quot;</span>,<span class="string">&quot;)&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> ($char <span class="keyword">in</span> $badChar)</span><br><span class="line">$noTail = <span class="string">`substituteAllString $noTail $char (&quot;\\&quot;+$char)`</span>;</span><br><span class="line"><span class="keyword">string</span> $exp3 = <span class="string">&quot;^&quot;</span> + $noTail + <span class="string">&quot;+&quot;</span>;<span class="comment">//take care of &quot;\&quot;, so encode string.</span></span><br><span class="line"><span class="keyword">string</span> $outputString = <span class="keyword">substitute</span>($exp3,$inputString,$newNoEnd);</span><br><span class="line"></span><br><span class="line">$outputString = <span class="keyword">toNativePath</span>($outputString);</span><br><span class="line"><span class="keyword">return</span> $outputString;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// to analyse the number of digits for input filename</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> <span class="keyword">int</span> FTM_FCDigitsNumber(<span class="keyword">string</span> $fileName)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $fileRegularName[] = FTM_FCFileRegularName($fileName);</span><br><span class="line">$fileName = FTM_FCSubstituteLastPattern($fileName,$fileRegularName[<span class="number">1</span>],<span class="string">&quot;*&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $filesInSeq[] = <span class="string">`getFileList -fs $fileName`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $digiNum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($filesInSeq);$i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $tmp[] = FTM_FCFileRegularName($filesInSeq[$i]);</span><br><span class="line"><span class="keyword">if</span> ($digiNum &lt;= <span class="keyword">size</span>($tmp[<span class="number">1</span>]))</span><br><span class="line">$digiNum = <span class="keyword">size</span>($tmp[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> $digiNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// the file format converter</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">proc</span> FTM_FCGo(<span class="keyword">int</span> $progressUI, <span class="keyword">string</span> $sourceFormatUI, <span class="keyword">string</span> $targetFormat, <span class="keyword">int</span> $handleSeq, <span class="keyword">int</span> $updatePath, <span class="keyword">int</span> $removeOrig)</span><br><span class="line"><span class="comment">//int $progressUI- need progress UI; 0 - No UI for progress, which is designed for command line uses.</span></span><br><span class="line"><span class="comment">//string $sourceFormatUI- format convert from</span></span><br><span class="line"><span class="comment">//string $targetFormat- format convert to</span></span><br><span class="line"><span class="comment">//int $handleSeq- handle sequence textures; 0 - do not handle sequence textures.</span></span><br><span class="line"><span class="comment">//int $updatePath- update path info; 0 - do not update path info.</span></span><br><span class="line"><span class="comment">//int $removeOrig- remove original textures; 0 - do not remove original textures.</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (FTM_SelCheck(<span class="string">`ls -sl -typ file `</span>)) &#123;<span class="comment">// if (0)</span></span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">// list for file nodes to be handled</span></span><br><span class="line"><span class="keyword">string</span> $fileNodesList[] = FTM_FCGetMatches($sourceFormatUI);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $isSeq[];<span class="comment">// if it is using an image sequence as texture</span></span><br><span class="line"><span class="keyword">int</span> $isOneOfSeq[];<span class="comment">// if it is using only one image of a whole sequence as texture.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $file;<span class="comment">// current file to be converted</span></span><br><span class="line"><span class="keyword">string</span> $fileFC;<span class="comment">// current file in suitable naming for FC use</span></span><br><span class="line"><span class="keyword">string</span> $fileUpdatePath;<span class="comment">// current file in suitable naming for updatePath use</span></span><br><span class="line"><span class="keyword">string</span> $fileRemove;<span class="comment">// current file in proper naming for removing</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// build progress feedback only in UI mode</span></span><br><span class="line"><span class="keyword">if</span> ($progressUI) &#123;</span><br><span class="line"><span class="comment">// base of progress feedback setup</span></span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size($fileNodesList)`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// executes cooresponding commands for each file node specified.</span></span><br><span class="line"><span class="comment">// the core process.</span></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($fileNodesList);$i++)&#123; <span class="comment">//for loop (1)</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($fileNodesList[$i]+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">// build progress feedback only in UI mode</span></span><br><span class="line"><span class="keyword">if</span> ($progressUI)&#123;</span><br><span class="line"><span class="comment">// Check if the dialog has been cancelled</span></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$progress = $i+<span class="number">1</span>;</span><br><span class="line">$percentage = $progress * (<span class="number">100</span>/<span class="keyword">size</span>($fileNodesList));</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Handling &quot;</span> + $fileNodesList[$i] + <span class="string">&quot;     ......  &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$file = <span class="keyword">toNativePath</span>(substituteAll(<span class="string">&quot;\\\\&quot;</span>,<span class="string">`getAttr ($fileNodesList[$i] + &quot;.fileTextureName&quot;)`</span>,<span class="string">&quot;/&quot;</span>));</span><br><span class="line">$fileFC = $file;</span><br><span class="line">$fileRemove = $file;</span><br><span class="line"><span class="keyword">string</span> $fileRegularName[] = FTM_FCFileRegularName($file);</span><br><span class="line"><span class="keyword">string</span> $isBOT = <span class="string">`match &quot;bot&quot; $fileRegularName[2]`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($isBOT)) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;Texture file is a BOT file. Skipped!&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">string</span> $targetFile = FTM_FCSubstituteLastPattern($file,$fileRegularName[<span class="number">2</span>],$targetFormat);</span><br><span class="line"></span><br><span class="line"><span class="comment">// it is bad that a file has no extension to indicate its format, so add one if needed.</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">size</span>($fileRegularName[<span class="number">2</span>]))</span><br><span class="line">$targetFile += <span class="string">&quot;.&quot;</span> + $targetFormat;</span><br><span class="line">$fileUpdatePath = $targetFile;</span><br><span class="line"><span class="keyword">string</span> $cmp1,$cmp2;</span><br><span class="line">$cmp1 = $fileUpdatePath;</span><br><span class="line">$cmp2 = $fileRemove;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`about -nt`</span>) &#123;</span><br><span class="line">$cmp1 = <span class="keyword">toNativePath</span>(<span class="keyword">tolower</span>($cmp1));</span><br><span class="line">$cmp2 = <span class="keyword">toNativePath</span>(<span class="keyword">tolower</span>($cmp2));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// skip all process if the file node was already handled before.</span></span><br><span class="line"><span class="keyword">if</span>($cmp1 == $cmp2)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;This file node was already handled before. Process skipped.&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>&#123; <span class="comment">//else (1)</span></span><br><span class="line">$isSeq[$i] = <span class="number">0</span>;</span><br><span class="line">$isOneOfSeq[$i] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`nodeType $fileNodesList[$i]`</span> == <span class="string">&quot;file&quot;</span> &amp;&amp; <span class="keyword">size</span>($fileRegularName[<span class="number">1</span>])) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`getAttr ($fileNodesList[$i] + &quot;.useFrameExtension&quot;)`</span>)</span><br><span class="line">$isSeq[$i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$isOneOfSeq[$i] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//commands to execute</span></span><br><span class="line"><span class="keyword">int</span> $isMR_c = <span class="number">0</span>; <span class="comment">//create .map file</span></span><br><span class="line"><span class="keyword">int</span> $isMR_x = <span class="number">0</span>; <span class="comment">//extract .map file</span></span><br><span class="line"><span class="keyword">if</span> ($fileRegularName[<span class="number">2</span>] == <span class="string">&quot;map&quot;</span> &amp;&amp; $targetFormat != <span class="string">&quot;map&quot;</span>)</span><br><span class="line">$isMR_x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($fileRegularName[<span class="number">2</span>] != <span class="string">&quot;map&quot;</span> &amp;&amp; $targetFormat == <span class="string">&quot;map&quot;</span>)</span><br><span class="line">$isMR_c = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">string</span> $cmdFC = <span class="string">&quot;system(\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ($isMR_c)</span><br><span class="line">$cmdFC += <span class="string">&quot;imf_copy -p -r&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($isMR_x)</span><br><span class="line">$cmdFC += <span class="string">&quot;imf_copy&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$cmdFC += <span class="string">&quot;imgcvt -t &quot;</span> + $targetFormat;</span><br><span class="line"><span class="keyword">string</span> $cmdUpdatePath = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $fileNodesList[$i] + <span class="string">&quot;.fileTextureName &quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $cmdRemoveOrig = <span class="string">&quot;sysFile -del \&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!$handleSeq &amp;&amp; $isSeq[$i])</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Sequence was not selected to be handled. Skipped.&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> &#123; <span class="comment">//else (2)</span></span><br><span class="line"><span class="comment">// need to handle sequence textures</span></span><br><span class="line"><span class="keyword">if</span> ($handleSeq &amp;&amp; $isSeq[$i])&#123;</span><br><span class="line"><span class="keyword">string</span> $padding = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> ($j=<span class="number">0</span>;$j&lt;FTM_FCDigitsNumber($file);$j++)</span><br><span class="line">$padding += <span class="string">&quot;@&quot;</span>;</span><br><span class="line">$targetFile = FTM_FCSubstituteLastPattern($targetFile,$fileRegularName[<span class="number">1</span>],$padding);</span><br><span class="line">$fileFC = FTM_FCSubstituteLastPattern($file,$fileRegularName[<span class="number">1</span>],$padding);</span><br><span class="line">$fileRemove = FTM_FCSubstituteLastPattern($file,$fileRegularName[<span class="number">1</span>],<span class="string">&quot;*&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//command for sequence</span></span><br><span class="line"><span class="keyword">if</span> (!$isMR_c &amp;&amp; !$isMR_x)</span><br><span class="line">$cmdFC += <span class="string">&quot; -n startIn endIn stepIn -N startOut endOut stepOut&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">$cmdFC += <span class="string">&quot; \\\&quot;&quot;</span> + <span class="keyword">encodeString</span>($fileFC) + <span class="string">&quot;\\\&quot; \\\&quot;&quot;</span> + <span class="keyword">encodeString</span>($targetFile) + <span class="string">&quot;\\\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ($isMR_c || $isMR_x)</span><br><span class="line">$cmdFC += <span class="string">&quot; &quot;</span> + $targetFormat + <span class="string">&quot;\&quot;)&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$cmdFC += <span class="string">&quot;\&quot;)&quot;</span>;</span><br><span class="line"><span class="comment">// only do the convertion when target file doesn&#x27;t exist,</span></span><br><span class="line"><span class="comment">// or convertion has been done before for other file node that shares the same texture.</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`file -q -ex $fileUpdatePath`</span>)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Convertion skipped. New format texture exists, maybe convertion has been done before.&quot;</span>;</span><br><span class="line"><span class="keyword">else</span>&#123; <span class="comment">//else (3)</span></span><br><span class="line"><span class="keyword">if</span> (!$isSeq[$i])&#123;</span><br><span class="line"><span class="comment">// system feedback</span></span><br><span class="line"><span class="keyword">string</span> $cmdFCFeedback = <span class="keyword">eval</span>($cmdFC);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($cmdFCFeedback))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> $cmdFCFeedback;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`file -q -ex $fileUpdatePath`</span>)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Convertion succeeded. Converted from \&quot;&quot;</span> + $fileFC + <span class="string">&quot;\&quot; to \&quot;&quot;</span> + $targetFile + <span class="string">&quot;\&quot;.&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Convertion failed. Could be file permission problem, disk capacity problem or source texture is of unknown/unsupported format.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123; <span class="comment">// for sequence, only print out command to execute.</span></span><br><span class="line"><span class="keyword">if</span> (!$isMR_c &amp;&amp; !$isMR_x)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Sequence specified. Command to execute (format conversion):&quot;</span> + $cmdFC);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Sequence specified. Use \&quot;imf_copy\&quot; to convert your tetures. A simple loop might be needed.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="comment">// else (3)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// need to update path info</span></span><br><span class="line"><span class="keyword">if</span> ($updatePath) &#123;<span class="comment">// if (1)</span></span><br><span class="line">$cmdUpdatePath += <span class="string">&quot;\&quot;&quot;</span> + <span class="keyword">encodeString</span>(<span class="keyword">toNativePath</span>($fileUpdatePath)) + <span class="string">&quot;\&quot;;&quot;</span>;</span><br><span class="line">$cmdRemoveOrig += <span class="keyword">encodeString</span>($fileRemove) + <span class="string">&quot;\&quot;;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!$isSeq[$i])&#123;<span class="comment">// if (2)</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`file -q -ex $fileUpdatePath`</span>)&#123; <span class="comment">// if (3)</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cmdUpdatePath))) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTextureName\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Path updating failed. So Original Texture Removing will not be done even if it was selected to.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;<span class="comment">// else (3)</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Path updating succeeded. Set to \&quot;&quot;</span> + (<span class="keyword">toNativePath</span>($fileUpdatePath)) + <span class="string">&quot;\&quot;.&quot;</span>);</span><br><span class="line"><span class="comment">// need to remove old textures</span></span><br><span class="line"><span class="comment">// only remove old textures when updatePath is selected and updating succeeds</span></span><br><span class="line"><span class="keyword">if</span> ($removeOrig)&#123; <span class="comment">//if (4)</span></span><br><span class="line"><span class="keyword">if</span> ($isOneOfSeq[$i])</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Only one file of a whole sequence is used as texture, no file in the sequence is supposed to be removed.&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (!$isSeq[$i])&#123; <span class="comment">// else if (1)</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">eval</span>($cmdRemoveOrig))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Original texture removing failed, could be file permission problem.&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Original texture removing succeeded. Removed \&quot;&quot;</span> + $fileRemove + <span class="string">&quot;\&quot;.&quot;</span>);</span><br><span class="line">&#125; <span class="comment">// else if (1)</span></span><br><span class="line">&#125; <span class="comment">// if (4)</span></span><br><span class="line">&#125;<span class="comment">// else (3)</span></span><br><span class="line">&#125; <span class="comment">// if (3)</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Convertion failed, Path Updating and Original Texture Removing will not be done even if they were selected to.&quot;</span>;</span><br><span class="line">&#125; <span class="comment">// if (2)</span></span><br><span class="line"><span class="comment">// for sequence, only print out command to execute</span></span><br><span class="line"><span class="keyword">else</span> &#123; <span class="comment">//else (4)</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Sequence specified. Command to execute (update path info):&quot;</span> + $cmdUpdatePath);</span><br><span class="line"><span class="keyword">if</span> ($removeOrig)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Sequence specified. Command to execute (remove original textures):&quot;</span> + $cmdRemoveOrig);</span><br><span class="line">&#125;<span class="comment">// else (4)</span></span><br><span class="line">&#125; <span class="comment">// if (1)</span></span><br><span class="line">&#125; <span class="comment">//else (2)</span></span><br><span class="line">&#125; <span class="comment">// else(1)</span></span><br><span class="line">&#125; <span class="comment">// for loop (1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// feedback ends</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">size</span>($fileNodesList))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;No texture is of specified format.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// build progress feedback only in UI mode</span></span><br><span class="line"><span class="keyword">if</span> ($progressUI)&#123;</span><br><span class="line"><span class="comment">// finish progress feed back</span></span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">// job done</span></span><br><span class="line">FTM_END;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125; <span class="comment">// if (0)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// analyse all possible file nodes to find out those match user&#x27;s specification</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> <span class="keyword">string</span>[] FTM_FCGetMatches (<span class="keyword">string</span> $formatUI)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $fileNodesList[]; <span class="comment">// list for file nodes to be handled</span></span><br><span class="line"><span class="keyword">string</span> $tmpNodesList[] = <span class="string">`ls -sl -typ file `</span>; <span class="comment">// list for all (selected) file nodes, which need to be analyse.</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $tmpNodesList`</span>) &#123;</span><br><span class="line"><span class="keyword">string</span> $tmpNode; <span class="comment">// each single file node in the list</span></span><br><span class="line"><span class="keyword">string</span> $tmpFile; <span class="comment">// file that $tmpNode point to.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $format = <span class="string">`optionMenu -q -v $formatUI`</span>;</span><br><span class="line"><span class="keyword">if</span> ($format!=<span class="string">&quot;*&quot;</span>) &#123;<span class="comment">// format from specified, so only handle files with that format</span></span><br><span class="line"><span class="keyword">for</span> ($tmpNode <span class="keyword">in</span> $tmpNodesList)&#123;</span><br><span class="line">$tmpFile = <span class="string">`getAttr ($tmpNode + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line"><span class="keyword">string</span> $tmpFileRegularName[] = FTM_FCFileRegularName($tmpFile);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">tolower</span>($tmpFileRegularName[<span class="number">2</span>]) == <span class="keyword">tolower</span>($format))<span class="comment">// extension matches, this file node need to be handled</span></span><br><span class="line">$fileNodesList[<span class="keyword">size</span>($fileNodesList)] = $tmpNode;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="comment">// &quot;*&quot; was selected as format from, which means to handle all (selected) file nodes</span></span><br><span class="line">$fileNodesList = $tmpNodesList;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> $fileNodesList;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// info transfer, just to make sure FTM_FCGo can be run in command line.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_FCGatherInfo(<span class="keyword">string</span> $FTM_ExtraFunctionColumn)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $sourceFormatUI = $FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FCRow|FTM_FCSourceMenu&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $targetFormat = <span class="string">`optionMenu -q -v ($FTM_ExtraFunctionColumn + &quot;|FTM_FCRow|FTM_FCTargetMenu&quot;)`</span>;</span><br><span class="line"><span class="keyword">int</span> $handleSeq = <span class="string">`checkBox -q -v ($FTM_ExtraFunctionColumn + &quot;|FTM_SeqCheck&quot;)`</span>;</span><br><span class="line"><span class="keyword">int</span> $updatePath = <span class="string">`checkBox -q -v ($FTM_ExtraFunctionColumn + &quot;|FTM_UpdateCheck&quot;)`</span>;</span><br><span class="line"><span class="keyword">int</span> $removeOrig = <span class="string">`checkBox -q -v ($FTM_ExtraFunctionColumn + &quot;|FTM_RemoveCheck&quot;)`</span>;</span><br><span class="line"></span><br><span class="line">FTM_FCGo <span class="number">1</span></span><br><span class="line">$sourceFormatUI</span><br><span class="line">$targetFormat</span><br><span class="line">$handleSeq</span><br><span class="line">$updatePath</span><br><span class="line">$removeOrig;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Command for Filter Setup</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_FilterSetup(<span class="keyword">string</span> $FTM_ExtraFunctionColumn)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $Nodes[] = <span class="string">`ls -sl -typ file`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $Nodes`</span>) &#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> $filterType = <span class="string">`optionMenu -q -sl ($FTM_ExtraFunctionColumn+&quot;|FTM_FilterTypeRow|FTM_FilterTypeMenu&quot;)`</span> <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">string</span> $filter = <span class="string">`optionMenu -q -v ($FTM_ExtraFunctionColumn+&quot;|FTM_FilterTypeRow|FTM_FilterTypeMenu&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size $Nodes`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($Nodes);$i++) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($Nodes[$i]+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$progress = $i;</span><br><span class="line">$percentage = $progress * <span class="number">100</span> / <span class="keyword">size</span>($Nodes);</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Setting filter type, please wait......      &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $cmd = <span class="string">&quot;setAttr &quot;</span> + $Nodes[$i] + <span class="string">&quot;.filterType &quot;</span> + $filterType;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Attribute \&quot;filterType\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Set filter type to \&quot;&quot;</span> + $filter + <span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Command for BOT setup</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_BOTSetup(<span class="keyword">int</span> $FTM_BOTMode, <span class="keyword">string</span> $FTM_ExtraFunctionColumn)</span><br><span class="line"><span class="comment">//$FTM_BOTMode-1 Setup</span></span><br><span class="line"><span class="comment">//-0 Unset</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_FileNodes[]=<span class="string">`ls -sl -typ file`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $FTM_FileNodes`</span>) &#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size $FTM_FileNodes`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;<span class="keyword">size</span>($FTM_FileNodes); $i++)&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($FTM_FileNodes[$i]+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$progress = $i;</span><br><span class="line">$percentage = $progress * <span class="number">100</span> / <span class="keyword">size</span>($FTM_FileNodes);</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Setting BOT options, please wait......      &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Do not handle sequence textures</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.useFrameExtension&quot;)`</span>) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Sequence specified, Skipped!&quot;</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $resolution = <span class="string">`intFieldGrp -q -v1 ($FTM_ExtraFunctionColumn + &quot;|FTM_BOTRow|FTM_BOTResFieldGrp&quot;)`</span>;</span><br><span class="line"><span class="keyword">float</span> $xRes = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.outSizeX&quot;)`</span>;</span><br><span class="line"><span class="keyword">float</span> $yRes = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.outSizeY&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($FTM_BOTMode) &#123;<span class="comment">// Setup</span></span><br><span class="line"><span class="keyword">if</span> ($xRes &gt;= $resolution || $yRes &gt;= $resolution) &#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_File = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line">$FTM_File = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_File &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_TheBOT = <span class="string">`substitute &quot;(\\.bot)*$&quot; $FTM_File &quot;&quot;`</span> + <span class="string">&quot;.bot&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $BOTCmd = <span class="string">&quot;makebot -c  -r &quot;</span> + $resolution + <span class="string">&quot; -i \&quot;&quot;</span> + $FTM_File + <span class="string">&quot;\&quot; -o \&quot;&quot;</span> + $FTM_TheBOT + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($BOTCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;BOT file generation failed. Could be permission issue or the BOT file already exists.&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $cacheCmd = <span class="string">&quot;setAttr &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.useCache 1&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $pathCmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $FTM_TheBOT + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cacheCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;useCache\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($pathCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTextureName\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;BOT setup OK.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Resolution \&quot;&quot;</span> + $xRes + <span class="string">&quot;x&quot;</span> + $yRes + <span class="string">&quot;\&quot; is LOWER than specified threshold, skipped!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;<span class="comment">// Cancel</span></span><br><span class="line"><span class="keyword">if</span> ($xRes &lt;= $resolution &amp;&amp; $yRes &lt;= $resolution) &#123;</span><br><span class="line"><span class="keyword">string</span> $cacheCmd = <span class="string">&quot;setAttr &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.useCache 0&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_File = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line">$FTM_File = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_File &quot;/&quot;`</span>;</span><br><span class="line">$FTM_File = <span class="string">`substitute &quot;(\\.bot)*$&quot; $FTM_File &quot;&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $pathCmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $FTM_File + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cacheCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;useCache\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($pathCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTexturename\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;BOT cancelled successfully.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Resolution \&quot;&quot;</span> + $xRes + <span class="string">&quot;x&quot;</span> + $yRes + <span class="string">&quot;\&quot; is HIGHER than specified threshold, skipped!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Command for mentalray memory-mapped texture (.map) setup</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_MAPSetup(<span class="keyword">int</span> $FTM_MAPMode, <span class="keyword">string</span> $FTM_ExtraFunctionColumn)</span><br><span class="line"><span class="comment">//$FTM_MAPMode-1 Setup</span></span><br><span class="line"><span class="comment">//-0 Unset</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_FileNodes[]=<span class="string">`ls -sl -typ file`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $FTM_FileNodes`</span>) &#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size $FTM_FileNodes`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;<span class="keyword">size</span>($FTM_FileNodes); $i++)&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($FTM_FileNodes[$i]+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$progress = $i;</span><br><span class="line">$percentage = $progress * <span class="number">100</span> / <span class="keyword">size</span>($FTM_FileNodes);</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Setting up mentalray memory-mapped textures, please wait......      &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Do not handle sequence textures</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.useFrameExtension&quot;)`</span>) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Sequence specified, Skipped!&quot;</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $resolution = <span class="string">`intFieldGrp -q -v1 ($FTM_ExtraFunctionColumn + &quot;|FTM_MAPRow|FTM_MAPResFieldGrp&quot;)`</span>;</span><br><span class="line"><span class="keyword">float</span> $xRes = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.outSizeX&quot;)`</span>;</span><br><span class="line"><span class="keyword">float</span> $yRes = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.outSizeY&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($FTM_MAPMode) &#123;<span class="comment">// Setup</span></span><br><span class="line"><span class="keyword">if</span> ($xRes &gt;= $resolution || $yRes &gt;= $resolution) &#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_File = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line">$FTM_File = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_File &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_TheMAP = <span class="string">`substitute &quot;(\\.map)*$&quot; $FTM_File &quot;&quot;`</span> + <span class="string">&quot;.map&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $MAPCmd = <span class="string">&quot;system(\&quot;imf_copy -p -r \\\&quot;&quot;</span> + (<span class="keyword">encodeString</span>(<span class="string">`toNativePath $FTM_File`</span>)) + <span class="string">&quot;\\\&quot; \\\&quot;&quot;</span> + (<span class="keyword">encodeString</span>(<span class="string">`toNativePath $FTM_TheMAP`</span>)) + <span class="string">&quot;\\\&quot; map\&quot;)&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`file -q -ex $FTM_TheMAP`</span>)&#123; <span class="comment">// .map is already there.</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Mentalray memory-mapped texture file \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_TheMAP`</span> + <span class="string">&quot;\&quot; already exists. FTM will directly use it.&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($MAPCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Mentalray memory-mapped texture file generation failed. Could be permission issue or &#x27;imf_copy&#x27; can not be found in system executable path.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">string</span> $pathCmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $FTM_TheMAP + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($pathCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTextureName\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Mentalray memory-mapped texture setup accomplished.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Resolution \&quot;&quot;</span> + $xRes + <span class="string">&quot;x&quot;</span> + $yRes + <span class="string">&quot;\&quot; is LOWER than specified threshold, skipped!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;<span class="comment">// Unset</span></span><br><span class="line"><span class="keyword">if</span> ($xRes &lt;= $resolution &amp;&amp; $yRes &lt;= $resolution) &#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_File = <span class="string">`getAttr ($FTM_FileNodes[$i] + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line">$FTM_File = <span class="string">`substituteAll &quot;\\\\&quot; $FTM_File &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_TheMAP = $FTM_File;</span><br><span class="line">$FTM_File = <span class="string">`substitute &quot;(\\.map)*$&quot; $FTM_File &quot;&quot;`</span>;</span><br><span class="line"><span class="keyword">int</span> $wrong = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="string">`file -q -ex $FTM_File`</span>)&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Normal texture file \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_File`</span> + <span class="string">&quot;\&quot; doesn&#x27;t exist.&quot;</span>);</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;FTM is trying to extract one (in Maya iff format) from \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_TheMAP`</span> + <span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $UnMAPCmd = <span class="string">&quot;system(\&quot;imf_copy \\\&quot;&quot;</span> + (<span class="keyword">encodeString</span>(<span class="string">`toNativePath $FTM_TheMAP`</span>)) + <span class="string">&quot;\\\&quot; \\\&quot;&quot;</span> + (<span class="keyword">encodeString</span>(<span class="string">`toNativePath $FTM_File`</span>)) + <span class="string">&quot;\\\&quot; iff\&quot;)&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($UnMAPCmd))) &#123;</span><br><span class="line">$wrong = <span class="number">1</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;WARNING: Extracting normal texture file from \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_TheMAP`</span> + <span class="string">&quot;\&quot; failed.&quot;</span>);</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;         Could be permission issue, or &#x27;imf_copy&#x27; can not be found in system executable path, or original .map file is not a mentalray memory-mapped texture file.&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Extraction succeed. =&gt; \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_File`</span> + <span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!$wrong) &#123;</span><br><span class="line"><span class="keyword">string</span> $pathCmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $FTM_FileNodes[$i] + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $FTM_File + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($pathCmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTexturename\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;Mentalray memory-mapped texture file unset accomplished.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Resolution \&quot;&quot;</span> + $xRes + <span class="string">&quot;x&quot;</span> + $yRes + <span class="string">&quot;\&quot; is HIGHER than specified threshold, skipped!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Command to substitute path root</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_Substitute(<span class="keyword">string</span> $oldRootField, <span class="keyword">string</span> $newRootField)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $oldRoot = <span class="string">`textFieldButtonGrp -q -text $oldRootField`</span>;</span><br><span class="line">$oldRoot = substituteAll(<span class="string">&quot;\\\\&quot;</span>,$oldRoot,<span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $newRoot = <span class="string">`textFieldButtonGrp -q -text $newRootField`</span>;</span><br><span class="line">$newRoot = substituteAll(<span class="string">&quot;\\\\&quot;</span>,$newRoot,<span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($oldRoot)==<span class="number">0</span> || <span class="keyword">size</span>($newRoot)==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">confirmDialog</span> -t <span class="string">&quot;File Texture Manager&quot;</span> -m <span class="string">&quot;Both the Old Root filed and the New Root field must be filled!&quot;</span> -b <span class="string">&quot;OK&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">string</span> $fileNodes[] = <span class="string">`ls -sl -typ file  -typ psdFileTex`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $fileNodes`</span>)&#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state <span class="number">1</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">// substitute all special characters</span></span><br><span class="line"><span class="keyword">string</span> $badChar[] = &#123;<span class="string">&quot;+&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;^&quot;</span>,<span class="string">&quot;$&quot;</span>,<span class="string">&quot;[&quot;</span>,<span class="string">&quot;]&quot;</span>,<span class="string">&quot;(&quot;</span>,<span class="string">&quot;)&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> ($char <span class="keyword">in</span> $badChar)</span><br><span class="line">$oldRoot = <span class="string">`substituteAllString $oldRoot $char (&quot;\\&quot;+$char)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size $fileNodes`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($fileNodes);$i++) &#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($fileNodes[$i]+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$progress = $i;</span><br><span class="line">$percentage = $progress * <span class="number">100</span> / <span class="keyword">size</span>($fileNodes);</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Redirecting, please wait......      &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $old = <span class="string">`getAttr ($fileNodes[$i]+&quot;.fileTextureName&quot;)`</span>;</span><br><span class="line">$old = <span class="string">`substituteAll &quot;\\\\&quot; $old &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $new = <span class="string">`substitute $oldRoot $old $newRoot`</span>;</span><br><span class="line"><span class="keyword">string</span> $cmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $fileNodes[$i] + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $new + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cmd)))</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: Attribute \&quot;fileTextureName\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;Set to \&quot;&quot;</span> + (<span class="keyword">toNativePath</span>($new)) + <span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="string">`file -q -ex $new`</span>)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;WARNING: \&quot;&quot;</span> + (<span class="keyword">toNativePath</span>($new)) + <span class="string">&quot;\&quot; doesn&#x27;t exist!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line"><span class="keyword">waitCursor</span> -state <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> <span class="keyword">string</span> getDirectoryFromTexCheck(<span class="keyword">string</span> $checkLabel)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> ($checkLabel+<span class="string">&quot;/&quot;</span>) FTM_TargetDirectoryField;</span><br><span class="line"><span class="keyword">return</span> $checkLabel;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Command executed when &quot;分析场景文件纹理&quot; button pressed.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_AnalyseFileTextures (<span class="keyword">string</span> $FTM_ParentUI)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_Groups[] = <span class="string">`FTM_FileTextureAnalyst`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make sure the corresponding UI uniqe.</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`columnLayout -q -ex ($FTM_ParentUI + &quot;|FTM_AnalysisCheckerColumn&quot;)`</span>)</span><br><span class="line"><span class="keyword">deleteUI</span> ($FTM_ParentUI + <span class="string">&quot;|FTM_AnalysisCheckerColumn&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_Groups) == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">text</span> -e -l <span class="string">&quot;No file textures found!&quot;</span> ($FTM_ParentUI + <span class="string">&quot;|FTM_EmptyAnalysisText&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">text</span> -e -l <span class="string">&quot;Analysis:&quot;</span> ($FTM_ParentUI + <span class="string">&quot;|FTM_EmptyAnalysisText&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">setParent</span> $FTM_ParentUI;</span><br><span class="line"><span class="keyword">columnLayout</span> FTM_AnalysisCheckerColumn;</span><br><span class="line"><span class="keyword">int</span> $FTM_Groups_Size = <span class="keyword">size</span>($FTM_Groups);</span><br><span class="line"><span class="keyword">if</span> ($FTM_Groups[<span class="number">0</span>] == <span class="string">&quot;FTM_EmptySocket_FTM&quot;</span>)</span><br><span class="line">$FTM_Groups_Size -= <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> ($FTM_Groups[<span class="number">1</span>] == <span class="string">&quot;FTM_MissingPathSocket_FTM&quot;</span>)</span><br><span class="line">$FTM_Groups_Size -= <span class="number">1</span>;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $lsCmd;</span><br><span class="line"><span class="keyword">string</span> $FTM_TotalResults = <span class="string">&quot;Total &quot;</span> + <span class="keyword">size</span>(<span class="keyword">eval</span>($lsCmd)) + <span class="string">&quot; file textures point to &quot;</span> + $FTM_Groups_Size + <span class="string">&quot; (different) path(s) : &quot;</span>;</span><br><span class="line"><span class="keyword">text</span> -l $FTM_TotalResults;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;&quot;</span> -h <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">// Analyse each file in each &quot;group&quot;.</span></span><br><span class="line"><span class="keyword">for</span> ($FTM_Group <span class="keyword">in</span> $FTM_Groups)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $buffer[];</span><br><span class="line"><span class="keyword">tokenize</span> $FTM_Group <span class="string">&quot;*&quot;</span> $buffer;</span><br><span class="line"><span class="keyword">int</span> $FTM_FilesStoredSize = <span class="keyword">size</span> ($buffer)<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentPath = $buffer[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $FTM_FileTexturesAnalysis;</span><br><span class="line"><span class="comment">// File texture not specified yet. In other words, empty file texture nodes.</span></span><br><span class="line"><span class="keyword">if</span> ($FTM_CurrentPath==<span class="string">&quot;FTM_EmptySocket_FTM&quot;</span> &amp;&amp; $FTM_FilesStoredSize&gt;<span class="number">0</span>)</span><br><span class="line">$FTM_FileTexturesAnalysis = $FTM_FilesStoredSize + <span class="string">&quot; texture(s) NOT specified. So they are NOT exist(s).&quot;</span>;</span><br><span class="line"><span class="comment">// File texture specified, but no path information.</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_CurrentPath==<span class="string">&quot;FTM_MissingPathSocket_FTM&quot;</span> &amp;&amp; $FTM_FilesStoredSize&gt;<span class="number">0</span>)</span><br><span class="line">$FTM_FileTexturesAnalysis = $FTM_FilesStoredSize + <span class="string">&quot; texture(s) have no path information. So they are NOT exist(s).&quot;</span>;</span><br><span class="line"><span class="comment">// Normal status.</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ($FTM_FilesStoredSize&gt;<span class="number">0</span>)&#123;</span><br><span class="line"><span class="comment">// Correct the path format for current OS.</span></span><br><span class="line">$FTM_CurrentPath = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_CurrentPath`</span>;</span><br><span class="line">$FTM_FileTexturesAnalysis = $FTM_FilesStoredSize + <span class="string">&quot; texture(s) point to \&quot;&quot;</span> + (<span class="keyword">toNativePath</span>($FTM_CurrentPath)) + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Queue the names of the files stored in current &quot;group&quot; for later quick selecting.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentFile[];</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentFiles = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">// Strings used to hold files exist or notExist.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_Exist[] = &#123;&#125;;</span><br><span class="line"><span class="keyword">int</span> $FTM_ExistSize = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_NotExist[] = &#123;&#125;;</span><br><span class="line"><span class="keyword">int</span> $FTM_NotExistSize = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">1</span>; $i&lt;<span class="keyword">size</span>($buffer); $i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Store the names of files in current &quot;group&quot;.</span></span><br><span class="line">$FTM_CurrentFile[$i] = $buffer[$i];</span><br><span class="line">$FTM_CurrentFiles = $FTM_CurrentFiles + $FTM_CurrentFile[$i] + <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Check if the file exsist or not, then asign the name to responding variable.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentFilePath = <span class="string">`getAttr ($FTM_CurrentFile[$i] + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`file -q -ex $FTM_CurrentFilePath`</span>)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_Exist[$FTM_ExistSize] = $FTM_CurrentFile[$i];</span><br><span class="line">$FTM_ExistSize = $FTM_ExistSize + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">$FTM_NotExist[$FTM_NotExistSize] = $FTM_CurrentFile[$i];</span><br><span class="line">$FTM_NotExistSize = $FTM_NotExistSize + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_FileTexturesAnalysis)) &#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_MainChecker = <span class="string">`checkBox -l $FTM_FileTexturesAnalysis -al left`</span>;</span><br><span class="line"><span class="keyword">popupMenu</span> -p $FTM_MainChecker;</span><br><span class="line"><span class="keyword">string</span> $cmd = <span class="string">&quot;getDirectoryFromTexCheck(\&quot;&quot;</span>+$buffer[<span class="number">0</span>]+<span class="string">&quot;\&quot;)&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;copy&quot;</span> -c $cmd;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> $FTM_FileTexturesAnalysis;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Only build responding sub-checker for the files have path information.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_ExistSubChecker;</span><br><span class="line"><span class="keyword">string</span> $FTM_NotExistSubChecker;</span><br><span class="line"><span class="keyword">if</span> ($FTM_CurrentPath!=<span class="string">&quot;FTM_EmptySocket_FTM&quot;</span>  &amp;&amp; $FTM_CurrentPath!=<span class="string">&quot;FTM_MissingPathSocket_FTM&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">columnLayout</span> -adj <span class="number">1</span> -cat left <span class="number">30</span>;</span><br><span class="line"><span class="comment">// A list of exist files, which is used for selection.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_ExistFiles = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;$FTM_ExistSize; $i++)</span><br><span class="line">$FTM_ExistFiles = $FTM_ExistFiles + $FTM_Exist[$i] + <span class="string">&quot; &quot;</span>;</span><br><span class="line">$FTM_ExistSubChecker = <span class="string">`checkBox -l ($FTM_ExistSize + &quot; of them exist(s).&quot;) -al left</span></span><br><span class="line"><span class="string">-onc (&quot;select -add &quot; + $FTM_ExistFiles) -ofc (&quot;if (&quot; + $FTM_ExistSize + &quot; &gt; 0) select -deselect &quot; + $FTM_ExistFiles)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A list of NOT exist files, which is used for selection.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_NotExistFiles = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;$FTM_NotExistSize; $i++)</span><br><span class="line">$FTM_NotExistFiles = $FTM_NotExistFiles + $FTM_NotExist[$i] + <span class="string">&quot; &quot;</span>;</span><br><span class="line">$FTM_NotExistSubChecker = <span class="string">`checkBox -l ($FTM_NotExistSize + &quot; of them NOT exist(s).&quot;) -al left</span></span><br><span class="line"><span class="string">-onc (&quot;select -add &quot; + $FTM_NotExistFiles) -ofc (&quot;if (&quot; + $FTM_NotExistSize + &quot; &gt; 0) select -deselect &quot; + $FTM_NotExistFiles)`</span>;</span><br><span class="line"><span class="keyword">setParent</span> ($FTM_ParentUI + <span class="string">&quot;|FTM_AnalysisCheckerColumn&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Main checker&#x27;s onCommand and offCommand should influnce responding subcheckers in this case;</span></span><br><span class="line"><span class="keyword">checkBox</span> -e -onc (<span class="string">&quot;select -add &quot;</span> + $FTM_CurrentFiles + <span class="string">&quot;;checkBox -e -v 1 -vis 0 &quot;</span> + $FTM_ExistSubChecker + <span class="string">&quot;;checkBox -e -v 1 -vis 0 &quot;</span> + $FTM_NotExistSubChecker)</span><br><span class="line">-ofc (<span class="string">&quot;if (&quot;</span> + $FTM_FilesStoredSize + <span class="string">&quot; &gt; 0) select -deselect &quot;</span> + $FTM_CurrentFiles + <span class="string">&quot;;checkBox -e -v 0 -vis 1 &quot;</span> + $FTM_ExistSubChecker + <span class="string">&quot;;checkBox -e -v 0 -vis 1 &quot;</span> + $FTM_NotExistSubChecker)</span><br><span class="line">$FTM_MainChecker;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Main checker&#x27;s onCommand and offCommand should NOT influnce responding subcheckers in this case;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">checkBox</span> -e -onc (<span class="string">&quot;select -add &quot;</span> + $FTM_CurrentFiles) -ofc (<span class="string">&quot;if (&quot;</span> + $FTM_FilesStoredSize + <span class="string">&quot; &gt; 0) select -deselect &quot;</span> + $FTM_CurrentFiles) $FTM_MainChecker;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//Comand executed when Browse button pressed.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_BrowseCmd (<span class="keyword">string</span> $FTM_FileOrPath, <span class="keyword">string</span> $FTM_TextField, <span class="keyword">string</span> $FTM_WhichButton, <span class="keyword">int</span> $FTM_BrowseType)</span><br><span class="line"><span class="comment">//$FTM_FileOrPathPass to FTM_ChangeTextField</span></span><br><span class="line"><span class="comment">//$FTM_TextFieldPass to FTM_ChangeTextField</span></span><br><span class="line"><span class="comment">//$FTM_WhichButtonPass to fileBrowser, which will be the label of the dialog</span></span><br><span class="line"><span class="comment">//$FTM_BrowseTypePass to fileBrowser, which will define to get dialog for file or folder</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_WorkSpace;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_WorkSpace) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_WorkSpace = <span class="string">`workspace -q -rd`</span> + <span class="string">`workspace -q -rte &quot;sourceImages&quot;`</span>;</span><br><span class="line">$FTM_WorkSpace = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_WorkSpace`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">workspace</span> -dir $FTM_WorkSpace;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_NEW_MAYA;</span><br><span class="line"><span class="keyword">if</span> ($FTM_NEW_MAYA) &#123; <span class="comment">// use &#x27;fileDialog2&#x27; for the browser command.</span></span><br><span class="line"><span class="keyword">if</span> ($FTM_BrowseType == <span class="number">0</span>) $FTM_BrowseType = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_BrowseType == <span class="number">4</span>) $FTM_BrowseType = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">string</span> $return[] = <span class="string">`fileDialog2 -ds 2 -cap $FTM_WhichButton -dir $FTM_WorkSpace -fm $FTM_BrowseType -okc $FTM_WhichButton -cc &quot;Cancel&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $path = $return[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">size</span>($path)) $path = <span class="string">`textFieldButtonGrp -q -text $FTM_TextField`</span>;</span><br><span class="line"><span class="keyword">if</span> ($FTM_FileOrPath == <span class="string">&quot;file&quot;</span>) $path += <span class="string">&quot;bugQuickFix&quot;</span>;</span><br><span class="line">FTM_ChangeTextField $FTM_FileOrPath $FTM_TextField $path <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_Temp = <span class="string">&quot;&quot;</span>;</span><br><span class="line">$FTM_Temp += <span class="string">&quot;FTM_ChangeTextField &quot;</span>;</span><br><span class="line">$FTM_Temp += (<span class="string">&quot;\&quot;&quot;</span> + $FTM_FileOrPath + <span class="string">&quot;\&quot; &quot;</span>);</span><br><span class="line">$FTM_Temp += (<span class="string">&quot;\&quot;&quot;</span> + $FTM_TextField + <span class="string">&quot;\&quot; &quot;</span>);</span><br><span class="line">fileBrowser $FTM_Temp $FTM_WhichButton <span class="string">&quot;&quot;</span> $FTM_BrowseType;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//The callback command on fileBrowser.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_ChangeTextField (<span class="keyword">string</span> $FTM_FileOrPath, <span class="keyword">string</span> $FTM_TextField, <span class="keyword">string</span> $FTM_File, <span class="keyword">string</span> $FTM_FileType)</span><br><span class="line"><span class="comment">//$FTM_FileOrPathHow to deal with the input path , will be pass to FTM_GetPath</span></span><br><span class="line"><span class="comment">//$FTM_TextFieldThe name of the control need to be edited</span></span><br><span class="line"><span class="comment">//$FTM_FileThe file specified</span></span><br><span class="line"><span class="comment">//$FTM_FileTypeThe file type specified</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_Path = <span class="string">`FTM_GetPath $FTM_FileOrPath $FTM_File`</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> (<span class="keyword">toNativePath</span>($FTM_Path)) $FTM_TextField;</span><br><span class="line"><span class="comment">//Close the dialog for IRIX/Linux.</span></span><br><span class="line"><span class="keyword">string</span> $os = <span class="string">`about -os`</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">gmatch</span>($os, <span class="string">&quot;*irix*&quot;</span>) || <span class="keyword">gmatch</span>($os, <span class="string">&quot;*linux*&quot;</span>))</span><br><span class="line"><span class="keyword">window</span> -e -vis false projectViewerWindow;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_WorkSpace;</span><br><span class="line">$FTM_WorkSpace = $FTM_Path;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Reset the UI to its initial state.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_ResetUI (<span class="keyword">string</span> $FTM_OptionColumn,<span class="keyword">string</span> $FTM_AnalysisColumn,<span class="keyword">string</span> $FTM_ExtraFunctionColumn,<span class="keyword">string</span> $FTM_Tabs,<span class="keyword">string</span> $FTM_CopyButton,<span class="keyword">string</span> $FTM_MoveButton,<span class="keyword">string</span> $FTM_SetButton)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The main window;</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_WIDTH, $FTM_HEIGHT;</span><br><span class="line"><span class="keyword">window</span> -e -wh $FTM_WIDTH $FTM_HEIGHT FTM_MainWindow;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Analyse area</span></span><br><span class="line"><span class="keyword">text</span> -e -l <span class="string">&quot;Not analysed yet.&quot;</span> ($FTM_AnalysisColumn + <span class="string">&quot;|FTM_EmptyAnalysisText&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`columnLayout -q -ex ($FTM_AnalysisColumn + &quot;|FTM_AnalysisCheckerColumn&quot;)`</span>)</span><br><span class="line"><span class="keyword">deleteUI</span> ($FTM_AnalysisColumn + <span class="string">&quot;|FTM_AnalysisCheckerColumn&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Operation mode</span></span><br><span class="line"><span class="keyword">radioButtonGrp</span> -e -<span class="keyword">select</span> <span class="number">1</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_OperationMode&quot;</span>);</span><br><span class="line"><span class="comment">// Source directory field</span></span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> <span class="string">&quot;&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_SourceDirectoryField&quot;</span>);</span><br><span class="line"><span class="comment">// Target directory field</span></span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentProject = <span class="string">`workspace -q -rd`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentSourceImagesDir = $FTM_CurrentProject + <span class="string">`workspace -q -rte &quot;sourceImages&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_SourceImages = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_CurrentSourceImagesDir`</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> $FTM_SourceImages ($FTM_OptionColumn + <span class="string">&quot;|FTM_TargetDirectoryField&quot;</span>);</span><br><span class="line"><span class="comment">// Make new folder area</span></span><br><span class="line"><span class="keyword">checkBoxGrp</span> -e -v1 <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_MakeFolderChecker&quot;</span>);</span><br><span class="line"><span class="keyword">textFieldGrp</span> -e -<span class="keyword">text</span> <span class="string">&quot;MyTextureFiles&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_NewFolderNameField&quot;</span>);</span><br><span class="line"><span class="comment">// Add prefix area</span></span><br><span class="line"><span class="keyword">checkBox</span> -e -v <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_AddPrefixRow|FTM_AddPrefixChecker&quot;</span>);</span><br><span class="line"><span class="keyword">textField</span> -e -<span class="keyword">text</span> <span class="string">&quot;prefix_&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_AddPrefixRow|FTM_PrefixField&quot;</span>);</span><br><span class="line"><span class="comment">// Add suffix area</span></span><br><span class="line"><span class="keyword">checkBox</span> -e -v <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_AddSuffixRow|FTM_AddSuffixChecker&quot;</span>);</span><br><span class="line"><span class="keyword">textField</span> -e -<span class="keyword">text</span> <span class="string">&quot;_suffix&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_AddSuffixRow|FTM_SuffixField&quot;</span>);</span><br><span class="line"><span class="comment">// Replace string area</span></span><br><span class="line"><span class="keyword">checkBoxGrp</span> -e -v1 <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_ReplaceStringChecker&quot;</span>);</span><br><span class="line"><span class="keyword">textFieldGrp</span> -e -<span class="keyword">text</span> <span class="string">&quot;OldString&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_OldStringField&quot;</span>);</span><br><span class="line"><span class="keyword">textFieldGrp</span> -e -<span class="keyword">text</span> <span class="string">&quot;NewString&quot;</span> -en <span class="number">0</span> ($FTM_OptionColumn + <span class="string">&quot;|FTM_NewStringField&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Extra function tab</span></span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> <span class="string">&quot;&quot;</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|oldRootField&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $tmp = <span class="string">`workspace -q -rd`</span> + <span class="string">`workspace -q -rte &quot;sourceImages&quot;`</span>;</span><br><span class="line">$tmp = <span class="string">`FTM_GetPath &quot;path&quot; $tmp`</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -<span class="keyword">text</span> $tmp ($FTM_ExtraFunctionColumn + <span class="string">&quot;|newRootField&quot;</span>);</span><br><span class="line"><span class="keyword">intFieldGrp</span> -e -v1 <span class="number">1024</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_BOTRow|FTM_BOTResFieldGrp&quot;</span>);</span><br><span class="line"><span class="keyword">intFieldGrp</span> -e -v1 <span class="number">1024</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_MAPRow|FTM_MAPResFieldGrp&quot;</span>);</span><br><span class="line"><span class="keyword">optionMenu</span> -e -v <span class="string">&quot;Mipmap&quot;</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FilterTypeRow|FTM_FilterTypeMenu&quot;</span>);</span><br><span class="line"><span class="keyword">optionMenu</span> -e -v <span class="string">&quot;\*&quot;</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FCRow|FTM_FCSourceMenu&quot;</span>);</span><br><span class="line"><span class="keyword">optionMenu</span> -e -v <span class="string">&quot;iff&quot;</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FCRow|FTM_FCTargetMenu&quot;</span>);</span><br><span class="line"><span class="keyword">checkBox</span> -e -v <span class="number">0</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_SeqCheck&quot;</span>);</span><br><span class="line"><span class="keyword">checkBox</span> -e -v <span class="number">1</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_UpdateCheck&quot;</span>);</span><br><span class="line"><span class="keyword">checkBox</span> -e -v <span class="number">0</span> -en <span class="number">1</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_RemoveCheck&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Return to the first tab</span></span><br><span class="line"><span class="keyword">tabLayout</span> -e -sti <span class="number">1</span> $FTM_Tabs;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Reset all bottom function buttons</span></span><br><span class="line"><span class="keyword">button</span> -e -en <span class="number">1</span> $FTM_CopyButton;</span><br><span class="line"><span class="keyword">button</span> -e -en <span class="number">1</span> $FTM_MoveButton;</span><br><span class="line"><span class="keyword">button</span> -e -en <span class="number">1</span> $FTM_SetButton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_WorkSpace;</span><br><span class="line">$FTM_WorkSpace = <span class="string">`workspace -q -rd`</span> + <span class="string">`workspace -q -rte &quot;sourceImages&quot;`</span>;</span><br><span class="line">$FTM_WorkSpace = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_WorkSpace`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> -cl;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The Copy, Move and Set functions.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FTM_Function (<span class="keyword">string</span> $FTM_Function, <span class="keyword">string</span> $FTM_OptionColumn)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $lsCmd;</span><br><span class="line"><span class="keyword">string</span> $FTM_SelectedFiles[] = <span class="keyword">eval</span>($lsCmd + <span class="string">&quot; -sl&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`FTM_SelCheck $FTM_SelectedFiles`</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">waitCursor</span> -state on;</span><br><span class="line">FTM_Log <span class="string">&quot;start&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> $wrong = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// First get elements ready.</span></span><br><span class="line"><span class="keyword">int</span> $FTM_OperationMode = <span class="string">`radioButtonGrp -q -select ($FTM_OptionColumn + &quot;|FTM_OperationMode&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Source directory.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_SourceDirectory;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Target directory.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_TargetDirectory = <span class="string">`textFieldButtonGrp -q -text ($FTM_OptionColumn + &quot;|FTM_TargetDirectoryField&quot;)`</span>;</span><br><span class="line">$FTM_TargetDirectory = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_TargetDirectory`</span>;</span><br><span class="line"><span class="comment">// Check if new folder needed. If needed, create one only when the folder does not exist.</span></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`checkBoxGrp -q -v1 ($FTM_OptionColumn + &quot;|FTM_MakeFolderChecker&quot;)`</span> )</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_NewFolderName = <span class="string">`textFieldGrp -q -text ($FTM_OptionColumn + &quot;|FTM_NewFolderNameField&quot;)`</span>;</span><br><span class="line">$FTM_TargetDirectory = $FTM_TargetDirectory + $FTM_NewFolderName;</span><br><span class="line"><span class="keyword">if</span> (!<span class="string">`file -q -ex $FTM_TargetDirectory`</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">`sysFile -md $FTM_TargetDirectory`</span>)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> (<span class="string">&quot;Folder created: \&quot;&quot;</span> + (<span class="keyword">toNativePath</span>($FTM_TargetDirectory)) + <span class="string">&quot;\&quot;.&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">$wrong = <span class="number">1</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> (<span class="string">&quot;Folder can not be created: &quot;</span> + (<span class="keyword">toNativePath</span>($FTM_TargetDirectory)) + <span class="string">&quot;\&quot;.&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="string">`filetest -w $FTM_TargetDirectory`</span>) &#123;</span><br><span class="line">$wrong = <span class="number">1</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> (<span class="string">&quot;Folder exists but is not writeable: &quot;</span> + (<span class="keyword">toNativePath</span>($FTM_TargetDirectory)) + <span class="string">&quot;\&quot;.&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">$FTM_TargetDirectory = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_TargetDirectory`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!$wrong) &#123;</span><br><span class="line"><span class="comment">// Define command for function.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_FunctionCmd;</span><br><span class="line"><span class="keyword">if</span> ($FTM_Function == <span class="string">&quot;Copy&quot;</span>)</span><br><span class="line">$FTM_FunctionCmd = <span class="string">&quot;sysFile -cp &quot;</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_Function == <span class="string">&quot;Move&quot;</span>)</span><br><span class="line">$FTM_FunctionCmd = <span class="string">&quot;sysFile -mov &quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// base of progress feedback setup</span></span><br><span class="line"><span class="keyword">int</span> $progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> $percentage = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">progressWindow</span> -t <span class="string">&quot;FTM Working...&quot;</span> -pr $progress -ii <span class="number">1</span> -<span class="keyword">min</span> <span class="number">0</span> -<span class="keyword">max</span> <span class="string">`size $FTM_SelectedFiles`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Execute command of current function for every file texture node selected.</span></span><br><span class="line"><span class="keyword">for</span> ($FTM_SelectedFile <span class="keyword">in</span> $FTM_SelectedFiles)</span><br><span class="line">&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> ($FTM_SelectedFile+<span class="string">&quot;:&quot;</span>) <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`progressWindow -q -ic`</span> )&#123;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;User cancelled.&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">$wrong = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// Check if the dialog has been cancelled</span></span><br><span class="line">$progress += <span class="number">1</span>;</span><br><span class="line">$percentage = $progress * (<span class="number">100</span>/<span class="keyword">size</span>($FTM_SelectedFiles));</span><br><span class="line"><span class="keyword">progressWindow</span> -e -pr $progress -st (<span class="string">&quot;Handling &quot;</span> + $FTM_SelectedFile + <span class="string">&quot;     ......  &quot;</span> + $percentage + <span class="string">&quot;%&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// start to work</span></span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentFile = <span class="string">`getAttr ($FTM_SelectedFile + &quot;.fileTextureName&quot;)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_SourceFile[] = <span class="string">`FTM_GetFile $FTM_CurrentFile`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_OriginSourceFile = $FTM_SourceFile[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// The file texture is not specified.</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_OriginSourceFile) == <span class="number">0</span>)</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;WARNING: File texture is not specified.&quot;</span>;</span><br><span class="line"><span class="comment">// The file texture is specified.</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If replace string was selected, replace the string specified.</span></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`checkBoxGrp -q -v1 ($FTM_OptionColumn + &quot;|FTM_ReplaceStringChecker&quot;)`</span> )</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $FTM_OldString = <span class="string">`textFieldGrp -q -tx ($FTM_OptionColumn + &quot;|FTM_OldStringField&quot;)`</span>;</span><br><span class="line"><span class="keyword">string</span> $badChar[] = &#123;<span class="string">&quot;+&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;^&quot;</span>,<span class="string">&quot;$&quot;</span>,<span class="string">&quot;[&quot;</span>,<span class="string">&quot;]&quot;</span>,<span class="string">&quot;(&quot;</span>,<span class="string">&quot;)&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> ($char <span class="keyword">in</span> $badChar)</span><br><span class="line">$FTM_OldString = <span class="string">`substituteAllString $FTM_OldString $char (&quot;\\&quot;+$char)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_MatchExpression = <span class="string">&quot;(&quot;</span> + $FTM_OldString + <span class="string">&quot;)+&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_NewString = <span class="string">`textFieldGrp -q -tx ($FTM_OptionColumn + &quot;|FTM_NewStringField&quot;)`</span>;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;<span class="keyword">size</span>($FTM_SourceFile[<span class="number">1</span>]); $i++)</span><br><span class="line">$FTM_SourceFile[<span class="number">1</span>] = <span class="string">`substitute $FTM_MatchExpression $FTM_SourceFile[1] $FTM_NewString`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add prefix or(and) append suffix.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_Prefix;</span><br><span class="line"><span class="keyword">string</span> $FTM_Suffix;</span><br><span class="line"><span class="keyword">string</span> $FTM_SourceFileRegularName[] = <span class="string">`FTM_FCFileRegularName $FTM_SourceFile[1]`</span>;</span><br><span class="line"><span class="comment">// If prefix was set, add it to the file name.</span></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`checkBox -q -v ($FTM_OptionColumn + &quot;|FTM_AddPrefixRow|FTM_AddPrefixChecker&quot;)`</span> )</span><br><span class="line">$FTM_Prefix = <span class="string">`textField -q -tx ($FTM_OptionColumn + &quot;|FTM_AddPrefixRow|FTM_PrefixField&quot;)`</span>;</span><br><span class="line"><span class="comment">// If suffix was set, append it to the file name.</span></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`checkBox -q -v ($FTM_OptionColumn + &quot;|FTM_AddSuffixRow|FTM_AddSuffixChecker&quot;)`</span> )</span><br><span class="line">$FTM_Suffix = <span class="string">`textField -q -tx ($FTM_OptionColumn + &quot;|FTM_AddSuffixRow|FTM_SuffixField&quot;)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Assemble the filename</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_SourceFileRegularName[<span class="number">1</span>]))</span><br><span class="line">$FTM_SourceFileRegularName[<span class="number">1</span>] = <span class="string">&quot;.&quot;</span> + $FTM_SourceFileRegularName[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">size</span>($FTM_SourceFileRegularName[<span class="number">2</span>]))</span><br><span class="line">$FTM_SourceFileRegularName[<span class="number">2</span>] = <span class="string">&quot;.&quot;</span> + $FTM_SourceFileRegularName[<span class="number">2</span>];</span><br><span class="line">$FTM_SourceFile[<span class="number">1</span>] = $FTM_Prefix + $FTM_SourceFileRegularName[<span class="number">0</span>] + $FTM_Suffix + $FTM_SourceFileRegularName[<span class="number">1</span>] + $FTM_SourceFileRegularName[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Function process.</span></span><br><span class="line"><span class="keyword">string</span> $FTM_FinalCmd;</span><br><span class="line"><span class="keyword">string</span> $FTM_FunctionResult;</span><br><span class="line"><span class="keyword">int</span> $setWrong = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> ($FTM_Function != <span class="string">&quot;Set&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ($FTM_OperationMode == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_FinalCmd = $FTM_FunctionCmd + <span class="string">&quot;\&quot;&quot;</span> + <span class="string">`substituteAll &quot;\\\\&quot; ($FTM_TargetDirectory + $FTM_SourceFile[1]) &quot;/&quot;`</span> + <span class="string">&quot;\&quot; \&quot;&quot;</span> + <span class="string">`substituteAll &quot;\\\\&quot; $FTM_SourceFile[0] &quot;/&quot;`</span> + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line">$FTM_FunctionResult = $FTM_Function + <span class="string">&quot; \&quot;&quot;</span> + <span class="string">`toNativePath $FTM_SourceFile[0]`</span> + <span class="string">&quot;\&quot; to \&quot;&quot;</span> + <span class="string">`toNativePath ($FTM_TargetDirectory + $FTM_SourceFile[1])`</span> + <span class="string">&quot;\&quot;. &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_OperationMode == <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_SourceDirectory = <span class="string">`textFieldButtonGrp -q -text ($FTM_OptionColumn + &quot;|FTM_SourceDirectoryField&quot;)`</span>;</span><br><span class="line">$FTM_SourceDirectory = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_SourceDirectory`</span>;</span><br><span class="line">$FTM_FinalCmd = $FTM_FunctionCmd + <span class="string">&quot;\&quot;&quot;</span> + <span class="string">`substituteAll &quot;\\\\&quot; ($FTM_TargetDirectory + $FTM_SourceFile[1]) &quot;/&quot;`</span> + <span class="string">&quot;\&quot; \&quot;&quot;</span> + <span class="string">`substituteAll &quot;\\\\&quot; ($FTM_SourceDirectory + $FTM_OriginSourceFile) &quot;/&quot;`</span> + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line">$FTM_FunctionResult = $FTM_Function + <span class="string">&quot; \&quot;&quot;</span> + <span class="string">`toNativePath ($FTM_SourceDirectory + $FTM_OriginSourceFile)`</span> + <span class="string">&quot;\&quot; to \&quot;&quot;</span> + <span class="string">`toNativePath ($FTM_TargetDirectory + $FTM_SourceFile[1])`</span> + <span class="string">&quot;\&quot;. &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_Function == <span class="string">&quot;Set&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $path = <span class="string">`substituteAll &quot;\\\\&quot; ($FTM_TargetDirectory + $FTM_SourceFile[1]) &quot;/&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $cmd = <span class="string">&quot;setAttr -typ \&quot;string\&quot; &quot;</span> + $FTM_SelectedFile + <span class="string">&quot;.fileTextureName \&quot;&quot;</span> + $path + <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">catchQuiet</span>(<span class="keyword">eval</span>($cmd))) &#123;</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Attribute \&quot;fileTextureName\&quot; is locked/connected and can NOT be modified!&quot;</span>;</span><br><span class="line">$setWrong = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Set to \&quot;&quot;</span> + <span class="string">`toNativePath ($FTM_TargetDirectory + $FTM_SourceFile[1])`</span> + <span class="string">&quot;\&quot;. &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Do the function.</span></span><br><span class="line"><span class="keyword">if</span> ($FTM_Function != <span class="string">&quot;Set&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">eval</span>($FTM_FinalCmd)) &#123;</span><br><span class="line">$wrong = <span class="number">1</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;WARNING: &quot;</span> + $FTM_Function + <span class="string">&quot; can NOT be done, could be permission issue or path existence issue.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!$wrong) &#123;</span><br><span class="line"><span class="comment">// Print the function result.</span></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`file -q -ex ($FTM_TargetDirectory + $FTM_SourceFile[1])`</span> )</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ($FTM_Function == <span class="string">&quot;Move&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// File copied but not removed -- not actually &quot;move&quot;.</span></span><br><span class="line"><span class="keyword">if</span> ( <span class="string">`file -q -ex $FTM_SourceFile[0]`</span> || <span class="string">`file -q -ex ($FTM_SourceDirectory + $FTM_OriginSourceFile)`</span>)</span><br><span class="line">&#123;</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Succeed: &quot;</span> + $FTM_FunctionResult + <span class="string">&quot; But the original file is not removed. Check the HELP for possible reasons.&quot;</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> (<span class="string">&quot;WARNING: &quot;</span> + $FTM_FunctionResult);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Succeed: &quot;</span> + $FTM_FunctionResult;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> $FTM_FunctionResult;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Succeed: &quot;</span> + $FTM_FunctionResult;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> $FTM_FunctionResult;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ($FTM_Function == <span class="string">&quot;Set&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> ($setWrong)</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;WARNING: &quot;</span> + $FTM_FunctionResult;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Succeed: &quot;</span> + $FTM_FunctionResult + <span class="string">&quot;But destination does NOT exist.&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ($FTM_Function != <span class="string">&quot;Set&quot;</span>)</span><br><span class="line">$FTM_FunctionResult = <span class="string">&quot;Fail: &quot;</span> + $FTM_FunctionResult + <span class="string">&quot;Check Help tab for possible reasons.&quot;</span>;</span><br><span class="line">FTM_Log <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span> $FTM_FunctionResult;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// finish progress feed back</span></span><br><span class="line"><span class="keyword">progressWindow</span> -ep;</span><br><span class="line"><span class="comment">// job done</span></span><br><span class="line">FTM_Log <span class="string">&quot;end&quot;</span> <span class="string">&quot;&quot;</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">FTM_END;</span><br><span class="line"><span class="keyword">waitCursor</span> -state off;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//Build the main UI.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> FileTextureManager ()</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Version Check</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">float</span> $verCut = <span class="number">2010</span>;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_NEW_MAYA, $FTM_WIDTH, $FTM_HEIGHT;</span><br><span class="line">$FTM_NEW_MAYA = <span class="number">0</span>;</span><br><span class="line">$FTM_WIDTH = <span class="number">380</span>;</span><br><span class="line">$FTM_HEIGHT = <span class="number">600</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $verString = <span class="string">`about -v`</span>;</span><br><span class="line"><span class="keyword">string</span> $verString_tmp[];</span><br><span class="line"><span class="keyword">tokenize</span> $verString <span class="string">&quot; &quot;</span> $verString_tmp;</span><br><span class="line"><span class="keyword">float</span> $verNum = $verString_tmp[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">if</span> ($verNum &gt; $verCut) &#123; <span class="comment">// version newer than 2010</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_NEW_MAYA, $FTM_WIDTH, $FTM_HEIGHT;</span><br><span class="line">$FTM_NEW_MAYA = <span class="number">1</span>;</span><br><span class="line">$FTM_WIDTH = <span class="number">520</span>;</span><br><span class="line">$FTM_HEIGHT = <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// array of formats supported by format conversion function</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_FCAllFormats[];</span><br><span class="line">$FTM_FCAllFormats = &#123;<span class="string">&quot;iff&quot;</span>,<span class="string">&quot;sgi&quot;</span>,<span class="string">&quot;tga&quot;</span>,<span class="string">&quot;rgb&quot;</span>,<span class="string">&quot;jpg&quot;</span>,<span class="string">&quot;jpeg&quot;</span>,<span class="string">&quot;map&quot;</span>,<span class="string">&quot;tif&quot;</span>,<span class="string">&quot;tiff&quot;</span>,<span class="string">&quot;bmp&quot;</span>,<span class="string">&quot;bw&quot;</span>,<span class="string">&quot;icon&quot;</span>,<span class="string">&quot;cin&quot;</span>,<span class="string">&quot;pic&quot;</span>,<span class="string">&quot;yuv&quot;</span>,<span class="string">&quot;als&quot;</span>,<span class="string">&quot;gif&quot;</span>,<span class="string">&quot;lff&quot;</span>,<span class="string">&quot;pxb&quot;</span>,<span class="string">&quot;scn&quot;</span>,<span class="string">&quot;ppm&quot;</span>,<span class="string">&quot;pri&quot;</span>,<span class="string">&quot;qtl&quot;</span>,<span class="string">&quot;vst&quot;</span>,<span class="string">&quot;rla&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// cover all file texture nodes including mentalray&#x27;s</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $lsCmd;</span><br><span class="line">$lsCmd = <span class="string">&quot;ls -typ file -typ psdFileTex &quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> -cl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_MayaWorkSpace;</span><br><span class="line">$FTM_MayaWorkSpace = <span class="string">`workspace -q -dir`</span>;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_WorkSpace = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Make sure the window will be displayed in proper size.</span></span><br><span class="line"><span class="keyword">windowPref</span> -enableAll false;</span><br><span class="line"><span class="comment">//If the UI exits , delete it.</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">`window -exists FTM_MainWindow`</span>)</span><br><span class="line"><span class="keyword">deleteUI</span> FTM_MainWindow;</span><br><span class="line"><span class="comment">//Build a new UI.</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_WIDTH, $FTM_HEIGHT;</span><br><span class="line"><span class="keyword">window</span> -title <span class="string">&quot;File Texture Manager&quot;</span> -wh $FTM_WIDTH $FTM_HEIGHT -tlc <span class="number">200</span> <span class="number">200</span> -ret FTM_MainWindow;</span><br><span class="line"><span class="keyword">string</span> $FTM_MainForm = <span class="string">`formLayout`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_Tabs = <span class="string">`tabLayout -imw 0 -imh 0`</span>;</span><br><span class="line"><span class="comment">//Option tab</span></span><br><span class="line"><span class="keyword">string</span> $FTM_OptionForm = <span class="string">`formLayout`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_OptionScroll = <span class="string">`scrollLayout -cr true`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_OptionColumn = <span class="string">`columnLayout -adj 1 -rs 5`</span>;</span><br><span class="line"><span class="comment">//Analyse area</span></span><br><span class="line"><span class="keyword">formLayout</span> -nd <span class="number">100</span> FTM_AnalyseForm;</span><br><span class="line"><span class="keyword">string</span> $FTM_AnalyseColumn = <span class="string">`columnLayout -cat both 30 -adj 1 -rs 5`</span>;</span><br><span class="line"><span class="keyword">button</span> -l <span class="string">&quot;分析场景文件纹理&quot;</span> -h <span class="number">30</span> -w <span class="number">250</span> FTM_AnalyseButton;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;&quot;</span> -h <span class="number">5</span>;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;Select files you want to manage. &lt;Multi-Selectable&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_AnalysisScroll = <span class="string">`scrollLayout -p FTM_AnalyseForm`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_AnalysisColumn = <span class="string">`columnLayout -cat left 15`</span>;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;Not analysed yet.&quot;</span> FTM_EmptyAnalysisText;</span><br><span class="line"><span class="keyword">button</span> -e -c (<span class="string">&quot;FTM_AnalyseFileTextures &quot;</span> + $FTM_AnalysisColumn) ($FTM_AnalyseColumn + <span class="string">&quot;|FTM_AnalyseButton&quot;</span>);</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-af $FTM_AnalyseColumn left <span class="number">0</span></span><br><span class="line">-af $FTM_AnalyseColumn right <span class="number">0</span></span><br><span class="line">-af $FTM_AnalyseColumn top <span class="number">5</span></span><br><span class="line">-af $FTM_AnalyseColumn bottom <span class="number">200</span></span><br><span class="line">-ac $FTM_AnalysisScroll top <span class="number">5</span> $FTM_AnalyseColumn</span><br><span class="line">-af $FTM_AnalysisScroll bottom <span class="number">0</span></span><br><span class="line">-af $FTM_AnalysisScroll left <span class="number">0</span></span><br><span class="line">-af $FTM_AnalysisScroll right <span class="number">0</span></span><br><span class="line">($FTM_OptionColumn + <span class="string">&quot;|FTM_AnalyseForm&quot;</span>);</span><br><span class="line"><span class="keyword">setParent</span> $FTM_OptionColumn;</span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">10</span>;</span><br><span class="line"><span class="comment">//Operation mode</span></span><br><span class="line"><span class="keyword">radioButtonGrp</span> -l <span class="string">&quot;Operation Mode&quot;</span> -la2 <span class="string">&quot;Automatic&quot;</span> <span class="string">&quot;Manual&quot;</span> -nrb <span class="number">2</span> -<span class="keyword">select</span> <span class="number">1</span> -cl3 right left left -cw3 <span class="number">120</span> <span class="number">100</span> <span class="number">100</span> FTM_OperationMode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Set source directory area</span></span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -label <span class="string">&quot;Source Directory&quot;</span> -<span class="keyword">text</span> <span class="string">&quot;&quot;</span> -buttonLabel <span class="string">&quot;Browse...&quot;</span> -adj <span class="number">2</span> -en <span class="number">0</span> -cw <span class="number">1</span> <span class="number">120</span> -cw <span class="number">3</span> <span class="number">60</span> -cl3 right left center FTM_SourceDirectoryField;</span><br><span class="line"></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Set target directory area</span></span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentProject = <span class="string">`workspace -q -rd`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_CurrentSourceImagesDir = $FTM_CurrentProject + <span class="string">`workspace -q -fileRuleEntry &quot;sourceImages&quot;`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_SourceImages = <span class="string">`FTM_GetPath &quot;path&quot; $FTM_CurrentSourceImagesDir`</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -label <span class="string">&quot;Target Directory&quot;</span> -<span class="keyword">text</span> $FTM_SourceImages -buttonLabel <span class="string">&quot;Browse...&quot;</span> -adj <span class="number">2</span> -cw <span class="number">1</span> <span class="number">120</span> -cw <span class="number">3</span> <span class="number">60</span> -cl3 right left center FTM_TargetDirectoryField;</span><br><span class="line"><span class="comment">//Create new folder area</span></span><br><span class="line"><span class="keyword">checkBoxGrp</span> -ncb <span class="number">1</span> -l1 <span class="string">&quot;Make New Folder Under Target Directory&quot;</span> -adj <span class="number">1</span> -v1 <span class="number">0</span> -cat <span class="number">1</span> left <span class="number">101</span> FTM_MakeFolderChecker;</span><br><span class="line"><span class="keyword">textFieldGrp</span> -label <span class="string">&quot;Folder Name&quot;</span> -<span class="keyword">text</span> <span class="string">&quot;MyTextureFiles&quot;</span> -en <span class="number">0</span> -cw2 <span class="number">120</span> <span class="number">180</span> -cl2 right left FTM_NewFolderNameField;</span><br><span class="line"><span class="keyword">text</span> -al center -l <span class="string">&quot;The FINAL target directory will be equal to target directory&quot;</span>;</span><br><span class="line"><span class="keyword">text</span> -al center -l <span class="string">&quot;plus the new folder if user decide to make a new folder&quot;</span>;</span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">5</span>;</span><br><span class="line"><span class="comment">//Update texture file area</span></span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">2</span> -cw <span class="number">1</span> <span class="number">120</span> -cat <span class="number">1</span> right <span class="number">0</span> -cl2 left left FTM_AddPrefixRow;</span><br><span class="line"><span class="keyword">checkBox</span> -l <span class="string">&quot;Add Prefix&quot;</span> -v <span class="number">0</span> FTM_AddPrefixChecker;</span><br><span class="line"><span class="keyword">textField</span> -tx <span class="string">&quot;prefix_&quot;</span> -en <span class="number">0</span> -w <span class="number">150</span> FTM_PrefixField;</span><br><span class="line"><span class="keyword">setParent</span> $FTM_OptionColumn;</span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">2</span> -cw <span class="number">1</span> <span class="number">120</span> -cat <span class="number">1</span> right <span class="number">0</span> -cl2 left left FTM_AddSuffixRow;</span><br><span class="line"><span class="keyword">checkBox</span> -l <span class="string">&quot;Add Suffix&quot;</span> -v <span class="number">0</span> FTM_AddSuffixChecker;</span><br><span class="line"><span class="keyword">textField</span> -tx <span class="string">&quot;_suffix&quot;</span> -en <span class="number">0</span> -w <span class="number">150</span> FTM_SuffixField;</span><br><span class="line"><span class="keyword">setParent</span> $FTM_OptionColumn;</span><br><span class="line"><span class="keyword">checkBoxGrp</span> -ncb <span class="number">1</span> -l1 <span class="string">&quot;Replace String&quot;</span> -adj <span class="number">1</span> -v1 <span class="number">0</span> -cat <span class="number">1</span> left <span class="number">101</span> FTM_ReplaceStringChecker;</span><br><span class="line"><span class="keyword">textFieldGrp</span> -l <span class="string">&quot;Old String&quot;</span> -tx <span class="string">&quot;OldString&quot;</span> -en <span class="number">0</span> -cw2 <span class="number">120</span> <span class="number">150</span> -cl2 right left FTM_OldStringField;</span><br><span class="line"><span class="keyword">textFieldGrp</span> -l <span class="string">&quot;New String&quot;</span> -tx <span class="string">&quot;NewString&quot;</span> -en <span class="number">0</span> -cw2 <span class="number">120</span> <span class="number">150</span> -cl2 right left FTM_NewStringField;</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-af $FTM_OptionScroll top <span class="number">5</span></span><br><span class="line">-af $FTM_OptionScroll left <span class="number">0</span></span><br><span class="line">-af $FTM_OptionScroll right <span class="number">0</span></span><br><span class="line">-af $FTM_OptionScroll bottom <span class="number">0</span></span><br><span class="line">$FTM_OptionForm;</span><br><span class="line"><span class="keyword">setParent</span> $FTM_Tabs;</span><br><span class="line"><span class="comment">//Extra function tab</span></span><br><span class="line"><span class="keyword">string</span> $FTM_ExtraFunctionScroll = <span class="string">`scrollLayout -cr true`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_ExtraFunctionColumn = <span class="string">`columnLayout -cat both 15 -adj 1 -rs 5`</span>;</span><br><span class="line"><span class="comment">// Substitute path root area</span></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;none&quot;</span> -h <span class="number">5</span>;</span><br><span class="line"><span class="keyword">text</span> -fn <span class="string">&quot;boldLabelFont&quot;</span> -al left -l <span class="string">&quot;Substitute path root&quot;</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -l <span class="string">&quot;Old Root&quot;</span> -<span class="keyword">text</span> <span class="string">&quot;&quot;</span> -buttonLabel <span class="string">&quot;Browse...&quot;</span> -adj <span class="number">2</span> -en <span class="number">1</span> -cw <span class="number">1</span> <span class="number">80</span> -cw <span class="number">3</span> <span class="number">60</span> -cl3 right left center oldRootField;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -bc (<span class="string">&quot;FTM_BrowseCmd \&quot;path\&quot; &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|oldRootField \&quot;Choose old root\&quot; 4&quot;</span>) ($FTM_ExtraFunctionColumn + <span class="string">&quot;|oldRootField&quot;</span>);</span><br><span class="line"><span class="keyword">string</span> $tmp = <span class="string">`workspace -q -rd`</span> + <span class="string">`workspace -q -fileRuleEntry &quot;sourceImages&quot;`</span>;</span><br><span class="line">$tmp = <span class="string">`FTM_GetPath &quot;path&quot; $tmp`</span>;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -l <span class="string">&quot;New Root&quot;</span> -<span class="keyword">text</span> $tmp -buttonLabel <span class="string">&quot;Browse...&quot;</span> -adj <span class="number">2</span> -en <span class="number">1</span> -cw <span class="number">1</span> <span class="number">80</span> -cw <span class="number">3</span> <span class="number">60</span> -cl3 right left center newRootField;</span><br><span class="line"><span class="keyword">textFieldButtonGrp</span> -e -bc (<span class="string">&quot;FTM_BrowseCmd \&quot;path\&quot; &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|newRootField \&quot;Choose new root\&quot; 4&quot;</span>) ($FTM_ExtraFunctionColumn + <span class="string">&quot;|newRootField&quot;</span>);</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;Substitute&quot;</span> -c (<span class="string">&quot;FTM_Substitute &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|oldRootField &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|newRootField&quot;</span>);</span><br><span class="line"><span class="comment">// BOT setup area</span></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">10</span>;</span><br><span class="line"><span class="keyword">text</span> -fn <span class="string">&quot;boldLabelFont&quot;</span> -al left -l <span class="string">&quot;Memory Efficiency (Maya &#x27;file&#x27; nodes only)&quot;</span>;</span><br><span class="line"><span class="comment">//text -fn &quot;boldLabelFont&quot; -al left -l &quot;BOT Setup (Maya sw renderer only)&quot;;</span></span><br><span class="line"><span class="keyword">text</span> -al left -l <span class="string">&quot;\&quot;BOT\&quot; Setup (Maya sw renderer only)&quot;</span>;</span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">3</span> -adj <span class="number">3</span></span><br><span class="line">-cw <span class="number">1</span> <span class="number">170</span> -cw <span class="number">2</span> <span class="number">2</span> -cal <span class="number">3</span> center</span><br><span class="line">-cat <span class="number">1</span> both <span class="number">0</span> -cat <span class="number">3</span> both <span class="number">0</span></span><br><span class="line">-rat <span class="number">1</span> bottom <span class="number">0</span> -rat <span class="number">2</span> bottom <span class="number">0</span> -rat <span class="number">3</span> bottom <span class="number">0</span></span><br><span class="line">FTM_BOTRow;</span><br><span class="line"><span class="keyword">intFieldGrp</span> -nf <span class="number">1</span> -adj <span class="number">2</span> -cw <span class="number">1</span> <span class="number">50</span> -cat <span class="number">1</span> left <span class="number">0</span> -cat <span class="number">2</span> both <span class="number">5</span> -l <span class="string">&quot;Threshold&quot;</span> -el <span class="string">&quot;&quot;</span> -v1 <span class="number">1024</span> FTM_BOTResFieldGrp;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;Setup BOT&quot;</span> -c (<span class="string">&quot;FTM_BOTSetup 1 &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;Unset BOT&quot;</span> -c (<span class="string">&quot;FTM_BOTSetup 0 &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="keyword">text</span> -al left -l <span class="string">&quot;\&quot;.map\&quot; Setup (mentalray only)&quot;</span>;</span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">3</span> -adj <span class="number">3</span></span><br><span class="line">-cw <span class="number">1</span> <span class="number">170</span> -cw <span class="number">2</span> <span class="number">2</span> -cal <span class="number">3</span> center</span><br><span class="line">-cat <span class="number">1</span> both <span class="number">0</span> -cat <span class="number">3</span> both <span class="number">0</span></span><br><span class="line">-rat <span class="number">1</span> bottom <span class="number">0</span> -rat <span class="number">2</span> bottom <span class="number">0</span> -rat <span class="number">3</span> bottom <span class="number">0</span></span><br><span class="line">FTM_MAPRow;</span><br><span class="line"><span class="keyword">intFieldGrp</span> -nf <span class="number">1</span> -adj <span class="number">2</span> -cw <span class="number">1</span> <span class="number">50</span> -cat <span class="number">1</span> left <span class="number">0</span> -cat <span class="number">2</span> both <span class="number">5</span> -l <span class="string">&quot;Threshold&quot;</span> -el <span class="string">&quot;&quot;</span> -v1 <span class="number">1024</span> FTM_MAPResFieldGrp;</span><br><span class="line"><span class="keyword">text</span> -l <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;Setup .map&quot;</span> -c (<span class="string">&quot;FTM_MAPSetup 1 &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;Unset .map&quot;</span> -c (<span class="string">&quot;FTM_MAPSetup 0 &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="comment">// Filter setup area</span></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">10</span>;</span><br><span class="line"><span class="keyword">text</span> -fn <span class="string">&quot;boldLabelFont&quot;</span> -al left -l <span class="string">&quot;Filter setup (Maya &#x27;file&#x27;/&#x27;psdFileTex&#x27; nodes only)&quot;</span>;</span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">2</span> -cw <span class="number">1</span> <span class="number">120</span> -cat <span class="number">2</span> left <span class="number">30</span> -adj <span class="number">2</span> -cal <span class="number">2</span> center -rat <span class="number">1</span> bottom <span class="number">0</span> FTM_FilterTypeRow;</span><br><span class="line"><span class="keyword">optionMenu</span> -l <span class="string">&quot;Filter Type&quot;</span> FTM_FilterTypeMenu;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Off&quot;</span>;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Mipmap&quot;</span>;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Box&quot;</span>;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Quadratic&quot;</span>;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Quartic&quot;</span>;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;Gaussian&quot;</span>;</span><br><span class="line"><span class="keyword">optionMenu</span> -e -v <span class="string">&quot;Mipmap&quot;</span> ($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FilterTypeRow|FTM_FilterTypeMenu&quot;</span>);</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;Set Filter Type&quot;</span> -c (<span class="string">&quot;FTM_FilterSetup &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="comment">// Format conversion area</span></span><br><span class="line"><span class="keyword">separator</span> -style <span class="string">&quot;in&quot;</span> -h <span class="number">10</span>;</span><br><span class="line"><span class="keyword">text</span> -fn <span class="string">&quot;boldLabelFont&quot;</span> -al left -l <span class="string">&quot;Texture file format conversion&quot;</span>;</span><br><span class="line"><span class="keyword">rowLayout</span> -nc <span class="number">3</span>-cw <span class="number">1</span> <span class="number">80</span> -cw <span class="number">3</span> <span class="number">80</span> -cat <span class="number">1</span> left <span class="number">0</span> -cat <span class="number">2</span> left <span class="number">10</span> -cat <span class="number">3</span> left <span class="number">10</span> -adj <span class="number">2</span> -cal <span class="number">2</span> center FTM_FCRow;</span><br><span class="line"><span class="keyword">optionMenu</span> -l <span class="string">&quot;From&quot;</span> FTM_FCSourceMenu;</span><br><span class="line"><span class="keyword">menuItem</span> -label <span class="string">&quot;\*&quot;</span>;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">string</span> $FTM_FCAllFormats[];</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($FTM_FCAllFormats);$i++)</span><br><span class="line"><span class="keyword">menuItem</span> -label $FTM_FCAllFormats[$i];</span><br><span class="line"><span class="keyword">button</span> -h <span class="number">25</span> -l <span class="string">&quot;Select Matches&quot;</span> -c (<span class="string">&quot;select -r `FTM_FCGetMatches \&quot;&quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_FCRow|FTM_FCSourceMenu\&quot;`;&quot;</span>);</span><br><span class="line"><span class="keyword">optionMenu</span> -l <span class="string">&quot;To&quot;</span> FTM_FCTargetMenu;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;<span class="keyword">size</span>($FTM_FCAllFormats);$i++)</span><br><span class="line"><span class="keyword">menuItem</span> -label $FTM_FCAllFormats[$i];</span><br><span class="line"><span class="keyword">setParent</span> ..;</span><br><span class="line"><span class="keyword">checkBox</span> -l <span class="string">&quot;Handle sequence textures.&quot;</span> -al <span class="string">&quot;left&quot;</span> -v <span class="number">0</span> FTM_SeqCheck;</span><br><span class="line"><span class="keyword">checkBox</span> -l <span class="string">&quot;Update path info.&quot;</span> -al <span class="string">&quot;left&quot;</span> -v <span class="number">1</span> FTM_UpdateCheck;</span><br><span class="line"><span class="keyword">checkBox</span> -l <span class="string">&quot;Remove original textures. Use with caution!&quot;</span> -al <span class="string">&quot;left&quot;</span> -v <span class="number">0</span> -en <span class="number">1</span> FTM_RemoveCheck;</span><br><span class="line"><span class="keyword">checkBox</span> -e -onc (<span class="string">&quot;checkBox -e -en 1 &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_RemoveCheck&quot;</span>)</span><br><span class="line">-ofc (<span class="string">&quot;checkBox -e -en 0 &quot;</span> + $FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_RemoveCheck&quot;</span>)</span><br><span class="line">($FTM_ExtraFunctionColumn + <span class="string">&quot;|FTM_UpdateCheck&quot;</span>);</span><br><span class="line"><span class="keyword">button</span> -l <span class="string">&quot;Convert&quot;</span> -h <span class="number">25</span> -c (<span class="string">&quot;FTM_FCGatherInfo &quot;</span> + $FTM_ExtraFunctionColumn);</span><br><span class="line"><span class="keyword">setParent</span> $FTM_Tabs;</span><br><span class="line"><span class="comment">//Help tab</span></span><br><span class="line"><span class="keyword">string</span> $FTM_HelpForm = <span class="string">`formLayout`</span>;</span><br><span class="line"><span class="comment">//Description area</span></span><br><span class="line"><span class="keyword">scrollField</span> -ww true -editable false FTM_HelpField;</span><br><span class="line"><span class="comment">//About FileTextureManager</span></span><br><span class="line"><span class="keyword">setParent</span> $FTM_HelpForm;</span><br><span class="line"><span class="keyword">global</span> <span class="keyword">int</span> $FTM_NEW_MAYA;</span><br><span class="line"><span class="keyword">string</span> $FTM_AboutFrame;</span><br><span class="line"><span class="keyword">if</span> ($FTM_NEW_MAYA) $FTM_AboutFrame = <span class="string">`frameLayout -l &quot;About FileTextureManager&quot; -fn boldLabelFont -cll 0 -bv true  -li 5`</span>;</span><br><span class="line"><span class="keyword">else</span> $FTM_AboutFrame = <span class="string">`frameLayout -l &quot;About FileTextureManager&quot; -la top -fn boldLabelFont -cll 0 -bv true  -li 5`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_AboutForm = <span class="string">`formLayout`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_AboutTextLeft = <span class="string">`text -l &quot;Script Name :\nUpdated :\nAuthor :\nContact :\n\nAll  Rights  Reserved.&quot; -al left`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_AboutTextRight = <span class="string">`text -l &quot;FileTextureManager.mel\nMay, 2011\nCrow Yeh ( YE Feng )\nCrow.Yeh@gmail.com&quot; -al left`</span>;</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-af $FTM_AboutTextLeft left <span class="number">10</span></span><br><span class="line">-af $FTM_AboutTextLeft top <span class="number">5</span></span><br><span class="line">-an $FTM_AboutTextLeft right</span><br><span class="line">-af $FTM_AboutTextLeft bottom <span class="number">5</span></span><br><span class="line">-ac $FTM_AboutTextRight left <span class="number">10</span> $FTM_AboutTextLeft</span><br><span class="line">-af $FTM_AboutTextRight top <span class="number">5</span></span><br><span class="line">-an $FTM_AboutTextRight right</span><br><span class="line">-an $FTM_AboutTextRight bottom</span><br><span class="line">$FTM_AboutForm;</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-ac FTM_HelpField bottom <span class="number">5</span> $FTM_AboutFrame</span><br><span class="line">-af FTM_HelpField top <span class="number">5</span></span><br><span class="line">-af FTM_HelpField left <span class="number">0</span></span><br><span class="line">-af FTM_HelpField right <span class="number">0</span></span><br><span class="line">-an $FTM_AboutFrame top</span><br><span class="line">-af $FTM_AboutFrame left <span class="number">0</span></span><br><span class="line">-af $FTM_AboutFrame right <span class="number">0</span></span><br><span class="line">-af $FTM_AboutFrame bottom <span class="number">0</span></span><br><span class="line">$FTM_HelpForm;</span><br><span class="line"><span class="comment">//Function form.</span></span><br><span class="line"><span class="keyword">setParent</span> $FTM_MainForm;</span><br><span class="line"><span class="keyword">string</span> $FTM_FunctionForm = <span class="string">`formLayout -h 30 -numberOfDivisions 100`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_CopyButton = <span class="string">`button -l &quot;复制&quot;</span></span><br><span class="line"><span class="string">-c (&quot;FTM_Function \&quot;Copy\&quot; &quot; + $FTM_OptionColumn)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_MoveButton = <span class="string">`button -l &quot;剪切&quot;</span></span><br><span class="line"><span class="string">-c (&quot;FTM_Function \&quot;Move\&quot; &quot; + $FTM_OptionColumn)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_SetButton = <span class="string">`button -l &quot;指定&quot;</span></span><br><span class="line"><span class="string">-c (&quot;FTM_Function \&quot;Set\&quot; &quot; + $FTM_OptionColumn)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_ResetButton = <span class="string">`button -l &quot;重置FTM&quot; -c (&quot;FTM_ResetUI &quot;+$FTM_OptionColumn+&quot; &quot;+$FTM_AnalysisColumn+&quot; &quot;+$FTM_ExtraFunctionColumn+&quot; &quot;+$FTM_Tabs+&quot; &quot;+$FTM_CopyButton+&quot; &quot;+$FTM_MoveButton+&quot; &quot;+$FTM_SetButton)`</span>;</span><br><span class="line"><span class="keyword">string</span> $FTM_CloseButton = <span class="string">`button -l &quot;退出&quot;</span></span><br><span class="line"><span class="string">-c (&quot;deleteUI FTM_MainWindow; select -cl;global string $FTM_MayaWorkSpace; workspace -dir $FTM_MayaWorkSpace;&quot;)`</span>;</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-ap $FTM_CopyButton right <span class="number">1</span> <span class="number">20</span></span><br><span class="line">-af $FTM_CopyButton top <span class="number">0</span></span><br><span class="line">-af $FTM_CopyButton left <span class="number">0</span></span><br><span class="line">-af $FTM_CopyButton bottom <span class="number">0</span></span><br><span class="line">-ap $FTM_MoveButton left <span class="number">1</span> <span class="number">20</span></span><br><span class="line">-ap $FTM_MoveButton right <span class="number">1</span> <span class="number">40</span></span><br><span class="line">-af $FTM_MoveButton top <span class="number">0</span></span><br><span class="line">-af $FTM_MoveButton bottom <span class="number">0</span></span><br><span class="line">-ap $FTM_SetButton left <span class="number">1</span> <span class="number">40</span></span><br><span class="line">-ap $FTM_SetButton right <span class="number">1</span> <span class="number">60</span></span><br><span class="line">-af $FTM_SetButton top <span class="number">0</span></span><br><span class="line">-af $FTM_SetButton bottom <span class="number">0</span></span><br><span class="line">-af $FTM_ResetButton top <span class="number">0</span></span><br><span class="line">-af $FTM_ResetButton bottom <span class="number">0</span></span><br><span class="line">-ap $FTM_ResetButton left <span class="number">1</span> <span class="number">60</span></span><br><span class="line">-ap $FTM_ResetButton right <span class="number">1</span> <span class="number">80</span></span><br><span class="line">-ap $FTM_CloseButton left <span class="number">1</span> <span class="number">80</span></span><br><span class="line">-af $FTM_CloseButton top <span class="number">0</span></span><br><span class="line">-af $FTM_CloseButton right <span class="number">0</span></span><br><span class="line">-af $FTM_CloseButton bottom <span class="number">0</span></span><br><span class="line">$FTM_FunctionForm;</span><br><span class="line"><span class="keyword">formLayout</span> -e</span><br><span class="line">-af $FTM_Tabs top <span class="number">0</span></span><br><span class="line">-af $FTM_Tabs left <span class="number">0</span></span><br><span class="line">-af $FTM_Tabs right <span class="number">0</span></span><br><span class="line">-ac $FTM_Tabs bottom <span class="number">3</span> $FTM_FunctionForm</span><br><span class="line">-af $FTM_FunctionForm left <span class="number">0</span></span><br><span class="line">-af $FTM_FunctionForm right <span class="number">0</span></span><br><span class="line">-af $FTM_FunctionForm bottom <span class="number">0</span></span><br><span class="line">-an $FTM_FunctionForm top</span><br><span class="line">$FTM_MainForm;</span><br><span class="line"></span><br><span class="line">FTM_EditUIControl $FTM_OptionColumn $FTM_HelpForm;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $tabCC = <span class="string">&quot;button -e -en 0 &quot;</span> + $FTM_CopyButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;button -e -en 0 &quot;</span> + $FTM_MoveButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;button -e -en 0 &quot;</span> + $FTM_SetButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;if (`tabLayout -q -sti &quot;</span> + $FTM_Tabs + <span class="string">&quot;` == 1) &#123;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;button -e -en 1 &quot;</span> + $FTM_CopyButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;button -e -en 1 &quot;</span> + $FTM_MoveButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;button -e -en 1 &quot;</span> + $FTM_SetButton + <span class="string">&quot;;&quot;</span>;</span><br><span class="line">$tabCC += <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">tabLayout</span> -e -tl $FTM_OptionForm <span class="string">&quot;BasicFunctions&quot;</span> -tl $FTM_ExtraFunctionScroll <span class="string">&quot;ExtraFunctions&quot;</span> -tl $FTM_HelpForm <span class="string">&quot;Help&quot;</span> -psc $tabCC $FTM_Tabs;</span><br><span class="line"><span class="keyword">showWindow</span> FTM_MainWindow;</span><br><span class="line"><span class="comment">//Make sure other windows will be displayed in proper size.</span></span><br><span class="line"><span class="keyword">windowPref</span> -enableAll true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">FileTextureManager;</span><br><span class="line"><span class="comment">/////////////////</span></span><br><span class="line"><span class="comment">// SCRIPT Ends //</span></span><br><span class="line"><span class="comment">/////////////////</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/SansuidouEr/images@main/img/END_02.svg"></p>]]></content>
      
      
      <categories>
          
          <category> Maya </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mel </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
